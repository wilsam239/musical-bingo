import{_ as Fe,T as Et,U as Xe,V as Ye,W as Nt,X as ht,Y as gt,Z as Ht,$ as Ut,a0 as jt,a1 as Wt,a2 as he,a3 as G,a4 as Rt,a5 as Ae,a6 as yt,c as ee,A as Qe,B as F,C as Oe,r as q,b as h,w as x,F as Ee,a7 as Xt,h as P,g as te,a8 as Yt,a9 as X,aa as Ke,G as Kt,ab as Ge,ac as Gt,ad as re,ae as xe,af as Je,ag as ke,ah as Ie,ai as Se,aj as Jt,ak as Zt,al as ea,u as Ne,am as ta,a as He,an as aa,ao as na,ap as la,o as ae,M as Ze,aq as Ve,ar as et,f as ia,as as ua,L as oa,R as pt,at as ra,au as sa,av as da,aw as ca,ax as va,ay as fa,i as ne,l as N,az as J,q as S,p as s,v as K,n as y,z as I,x as z,aA as $e,S as V,aB as tt,aC as j,aD as Le,aE as Z,aF as L,aG as ze,y as le,aH as Pe,aI as ce,aJ as fe,aK as ve,m as De,aL as E,aM as Be,aN as se,aO as ma,aP as at,aQ as ha,aR as nt,aS as ga,aT as ya,aU as pa,aV as lt,aW as ba}from"./index.2250589e.js";import{b as bt,Q as _a,a as wa}from"./QLayout.9c01d3e3.js";var _t={now:function(){return(_t.delegate||Date).now()},delegate:void 0},Ca=function(t){Fe(n,t);function n(a,u){return t.call(this)||this}return n.prototype.schedule=function(a,u){return this},n}(Et),me={setInterval:function(t,n){for(var a=[],u=2;u<arguments.length;u++)a[u-2]=arguments[u];var e=me.delegate;return e!=null&&e.setInterval?e.setInterval.apply(e,Xe([t,n],Ye(a))):setInterval.apply(void 0,Xe([t,n],Ye(a)))},clearInterval:function(t){var n=me.delegate;return((n==null?void 0:n.clearInterval)||clearInterval)(t)},delegate:void 0},qa=function(t){Fe(n,t);function n(a,u){var e=t.call(this,a,u)||this;return e.scheduler=a,e.work=u,e.pending=!1,e}return n.prototype.schedule=function(a,u){var e;if(u===void 0&&(u=0),this.closed)return this;this.state=a;var l=this.id,o=this.scheduler;return l!=null&&(this.id=this.recycleAsyncId(o,l,u)),this.pending=!0,this.delay=u,this.id=(e=this.id)!==null&&e!==void 0?e:this.requestAsyncId(o,this.id,u),this},n.prototype.requestAsyncId=function(a,u,e){return e===void 0&&(e=0),me.setInterval(a.flush.bind(a,this),e)},n.prototype.recycleAsyncId=function(a,u,e){if(e===void 0&&(e=0),e!=null&&this.delay===e&&this.pending===!1)return u;u!=null&&me.clearInterval(u)},n.prototype.execute=function(a,u){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var e=this._execute(a,u);if(e)return e;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(a,u){var e=!1,l;try{this.work(a)}catch(o){e=!0,l=o||new Error("Scheduled action threw falsy error")}if(e)return this.unsubscribe(),l},n.prototype.unsubscribe=function(){if(!this.closed){var a=this,u=a.id,e=a.scheduler,l=e.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Nt(l,this),u!=null&&(this.id=this.recycleAsyncId(e,u,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},n}(Ca),it=function(){function t(n,a){a===void 0&&(a=t.now),this.schedulerActionCtor=n,this.now=a}return t.prototype.schedule=function(n,a,u){return a===void 0&&(a=0),new this.schedulerActionCtor(this,n).schedule(u,a)},t.now=_t.now,t}(),xa=function(t){Fe(n,t);function n(a,u){u===void 0&&(u=it.now);var e=t.call(this,a,u)||this;return e.actions=[],e._active=!1,e}return n.prototype.flush=function(a){var u=this.actions;if(this._active){u.push(a);return}var e;this._active=!0;do if(e=a.execute(a.state,a.delay))break;while(a=u.shift());if(this._active=!1,e){for(;a=u.shift();)a.unsubscribe();throw e}},n}(it),wt=new xa(qa),ka=wt,Sa=new ht(function(t){return t.complete()});function $a(t){return t instanceof Date&&!isNaN(t)}function Pa(t){return t===void 0&&(t=1/0),gt(Ht,t)}function Ba(){return Pa(1)}function Ta(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ba()(Ut(t,jt(t)))}function Ct(t,n,a){t===void 0&&(t=0),a===void 0&&(a=ka);var u=-1;return n!=null&&(Wt(n)?a=n:u=n),new ht(function(e){var l=$a(t)?+t-a.now():t;l<0&&(l=0);var o=0;return a.schedule(function(){e.closed||(e.next(o++),0<=u?this.schedule(void 0,u):e.complete())},l)})}function qt(t,n){return he(function(a,u){var e=0;a.subscribe(G(u,function(l){return t.call(n,l,e++)&&u.next(l)}))})}function ut(t){return t<=0?function(){return Sa}:he(function(n,a){var u=0;n.subscribe(G(a,function(e){++u<=t&&(a.next(e),t<=u&&a.complete())}))})}function Ma(){return he(function(t,n){t.subscribe(G(n,Rt))})}function Aa(t){return Ae(function(){return t})}function xt(t,n){return n?function(a){return Ta(n.pipe(ut(1),Ma()),a.pipe(xt(t)))}:gt(function(a,u){return yt(t(a,u)).pipe(ut(1),Aa(a))})}function Ia(t,n){n===void 0&&(n=wt);var a=Ct(t,n);return xt(function(){return a})}function Y(t,n){return he(function(a,u){var e=null,l=0,o=!1,f=function(){return o&&!e&&u.complete()};a.subscribe(G(u,function(v){e==null||e.unsubscribe();var c=0,i=l++;yt(t(v,i)).subscribe(e=G(u,function(m){return u.next(n?n(v,m,i,c++):m)},function(){e=null,f()}))},function(){o=!0,f()}))})}var Va=ee({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:n,emit:a}){const{proxy:{$q:u}}=te(),e=Qe(Oe,F);if(e===F)return console.error("QHeader needs to be child of QLayout"),F;const l=q(parseInt(t.heightHint,10)),o=q(!0),f=h(()=>t.reveal===!0||e.view.value.indexOf("H")>-1||u.platform.is.ios&&e.isContainer.value===!0),v=h(()=>{if(t.modelValue!==!0)return 0;if(f.value===!0)return o.value===!0?l.value:0;const b=l.value-e.scroll.value.position;return b>0?b:0}),c=h(()=>t.modelValue!==!0||f.value===!0&&o.value!==!0),i=h(()=>t.modelValue===!0&&c.value===!0&&t.reveal===!0),m=h(()=>"q-header q-layout__section--marginal "+(f.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(c.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),d=h(()=>{const b=e.rows.value.top,M={};return b[0]==="l"&&e.left.space===!0&&(M[u.lang.rtl===!0?"right":"left"]=`${e.left.size}px`),b[2]==="r"&&e.right.space===!0&&(M[u.lang.rtl===!0?"left":"right"]=`${e.right.size}px`),M});function p(b,M){e.update("header",b,M)}function g(b,M){b.value!==M&&(b.value=M)}function C({height:b}){g(l,b),p("size",b)}function $(b){i.value===!0&&g(o,!0),a("focusin",b)}x(()=>t.modelValue,b=>{p("space",b),g(o,!0),e.animate()}),x(v,b=>{p("offset",b)}),x(()=>t.reveal,b=>{b===!1&&g(o,t.modelValue)}),x(o,b=>{e.animate(),a("reveal",b)}),x(e.scroll,b=>{t.reveal===!0&&g(o,b.direction==="up"||b.position<=t.revealOffset||b.position-b.inflectionPoint<100)});const k={};return e.instances.header=k,t.modelValue===!0&&p("size",l.value),p("space",t.modelValue),p("offset",v.value),Ee(()=>{e.instances.header===k&&(e.instances.header=void 0,p("size",0),p("offset",0),p("space",!1))}),()=>{const b=Xt(n.default,[]);return t.elevated===!0&&b.push(P("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),b.push(P(bt,{debounce:0,onResize:C})),P("header",{class:m.value,style:d.value,onFocusin:$},b)}}});function Te(t,n,a){const u=Ie(t);let e,l=u.left-n.event.x,o=u.top-n.event.y,f=Math.abs(l),v=Math.abs(o);const c=n.direction;c.horizontal===!0&&c.vertical!==!0?e=l<0?"left":"right":c.horizontal!==!0&&c.vertical===!0?e=o<0?"up":"down":c.up===!0&&o<0?(e="up",f>v&&(c.left===!0&&l<0?e="left":c.right===!0&&l>0&&(e="right"))):c.down===!0&&o>0?(e="down",f>v&&(c.left===!0&&l<0?e="left":c.right===!0&&l>0&&(e="right"))):c.left===!0&&l<0?(e="left",f<v&&(c.up===!0&&o<0?e="up":c.down===!0&&o>0&&(e="down"))):c.right===!0&&l>0&&(e="right",f<v&&(c.up===!0&&o<0?e="up":c.down===!0&&o>0&&(e="down")));let i=!1;if(e===void 0&&a===!1){if(n.event.isFirst===!0||n.event.lastDir===void 0)return{};e=n.event.lastDir,i=!0,e==="left"||e==="right"?(u.left-=l,f=0,l=0):(u.top-=o,v=0,o=0)}return{synthetic:i,payload:{evt:t,touch:n.event.mouse!==!0,mouse:n.event.mouse===!0,position:u,direction:e,isFirst:n.event.isFirst,isFinal:a===!0,duration:Date.now()-n.event.time,distance:{x:f,y:v},offset:{x:l,y:o},delta:{x:u.left-n.event.lastX,y:u.top-n.event.lastY}}}}let La=0;var Me=Yt({name:"touch-pan",beforeMount(t,{value:n,modifiers:a}){if(a.mouse!==!0&&X.has.touch!==!0)return;function u(l,o){a.mouse===!0&&o===!0?Jt(l):(a.stop===!0&&ke(l),a.prevent===!0&&Je(l))}const e={uid:"qvtp_"+La++,handler:n,modifiers:a,direction:Ke(a),noop:Kt,mouseStart(l){Ge(l,e)&&Gt(l)&&(re(e,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),e.start(l,!0))},touchStart(l){if(Ge(l,e)){const o=l.target;re(e,"temp",[[o,"touchmove","move","notPassiveCapture"],[o,"touchcancel","end","passiveCapture"],[o,"touchend","end","passiveCapture"]]),e.start(l)}},start(l,o){if(X.is.firefox===!0&&xe(t,!0),e.lastEvt=l,o===!0||a.stop===!0){if(e.direction.all!==!0&&(o!==!0||e.modifiers.mouseAllDir!==!0&&e.modifiers.mousealldir!==!0)){const c=l.type.indexOf("mouse")>-1?new MouseEvent(l.type,l):new TouchEvent(l.type,l);l.defaultPrevented===!0&&Je(c),l.cancelBubble===!0&&ke(c),Object.assign(c,{qKeyEvent:l.qKeyEvent,qClickOutside:l.qClickOutside,qAnchorHandled:l.qAnchorHandled,qClonedBy:l.qClonedBy===void 0?[e.uid]:l.qClonedBy.concat(e.uid)}),e.initialEvent={target:l.target,event:c}}ke(l)}const{left:f,top:v}=Ie(l);e.event={x:f,y:v,time:Date.now(),mouse:o===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:f,lastY:v}},move(l){if(e.event===void 0)return;const o=Ie(l),f=o.left-e.event.x,v=o.top-e.event.y;if(f===0&&v===0)return;e.lastEvt=l;const c=e.event.mouse===!0,i=()=>{u(l,c);let p;a.preserveCursor!==!0&&a.preservecursor!==!0&&(p=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),c===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Zt(),e.styleCleanup=g=>{if(e.styleCleanup=void 0,p!==void 0&&(document.documentElement.style.cursor=p),document.body.classList.remove("non-selectable"),c===!0){const C=()=>{document.body.classList.remove("no-pointer-events--children")};g!==void 0?setTimeout(()=>{C(),g()},50):C()}else g!==void 0&&g()}};if(e.event.detected===!0){e.event.isFirst!==!0&&u(l,e.event.mouse);const{payload:p,synthetic:g}=Te(l,e,!1);p!==void 0&&(e.handler(p)===!1?e.end(l):(e.styleCleanup===void 0&&e.event.isFirst===!0&&i(),e.event.lastX=p.position.left,e.event.lastY=p.position.top,e.event.lastDir=g===!0?void 0:p.direction,e.event.isFirst=!1));return}if(e.direction.all===!0||c===!0&&(e.modifiers.mouseAllDir===!0||e.modifiers.mousealldir===!0)){i(),e.event.detected=!0,e.move(l);return}const m=Math.abs(f),d=Math.abs(v);m!==d&&(e.direction.horizontal===!0&&m>d||e.direction.vertical===!0&&m<d||e.direction.up===!0&&m<d&&v<0||e.direction.down===!0&&m<d&&v>0||e.direction.left===!0&&m>d&&f<0||e.direction.right===!0&&m>d&&f>0?(e.event.detected=!0,e.move(l)):e.end(l,!0))},end(l,o){if(e.event!==void 0){if(Se(e,"temp"),X.is.firefox===!0&&xe(t,!1),o===!0)e.styleCleanup!==void 0&&e.styleCleanup(),e.event.detected!==!0&&e.initialEvent!==void 0&&e.initialEvent.target.dispatchEvent(e.initialEvent.event);else if(e.event.detected===!0){e.event.isFirst===!0&&e.handler(Te(l===void 0?e.lastEvt:l,e).payload);const{payload:f}=Te(l===void 0?e.lastEvt:l,e,!0),v=()=>{e.handler(f)};e.styleCleanup!==void 0?e.styleCleanup(v):v()}e.event=void 0,e.initialEvent=void 0,e.lastEvt=void 0}}};if(t.__qtouchpan=e,a.mouse===!0){const l=a.mouseCapture===!0||a.mousecapture===!0?"Capture":"";re(e,"main",[[t,"mousedown","mouseStart",`passive${l}`]])}X.has.touch===!0&&re(e,"main",[[t,"touchstart","touchStart",`passive${a.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,n){const a=t.__qtouchpan;a!==void 0&&(n.oldValue!==n.value&&(typeof value!="function"&&a.end(),a.handler=n.value),a.direction=Ke(n.modifiers))},beforeUnmount(t){const n=t.__qtouchpan;n!==void 0&&(n.event!==void 0&&n.end(),Se(n,"main"),Se(n,"temp"),X.is.firefox===!0&&xe(t,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete t.__qtouchpan)}});function de(t,n,a){return a<=n?n:Math.min(a,Math.max(n,t))}const ot=150;var rt=ee({name:"QDrawer",inheritAttrs:!1,props:{...ea,...Ne,side:{type:String,default:"left",validator:t=>["left","right"].includes(t)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:t=>["default","desktop","mobile"].includes(t),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...ta,"onLayout","miniState"],setup(t,{slots:n,emit:a,attrs:u}){const e=te(),{proxy:{$q:l}}=e,o=He(t,l),{preventBodyScroll:f}=ua(),{registerTimeout:v,removeTimeout:c}=aa(),i=Qe(Oe,F);if(i===F)return console.error("QDrawer needs to be child of QLayout"),F;let m,d=null,p;const g=q(t.behavior==="mobile"||t.behavior!=="desktop"&&i.totalWidth.value<=t.breakpoint),C=h(()=>t.mini===!0&&g.value!==!0),$=h(()=>C.value===!0?t.miniWidth:t.width),k=q(t.showIfAbove===!0&&g.value===!1?!0:t.modelValue===!0),b=h(()=>t.persistent!==!0&&(g.value===!0||$t.value===!0));function M(r,w){if(ge(),r!==!1&&i.animate(),A(0),g.value===!0){const T=i.instances[ue.value];T!==void 0&&T.belowBreakpoint===!0&&T.hide(!1),Q(1),i.isContainer.value!==!0&&f(!0)}else Q(0),r!==!1&&we(!1);v(()=>{r!==!1&&we(!0),w!==!0&&a("show",r)},ot)}function W(r,w){St(),r!==!1&&i.animate(),Q(0),A(H.value*$.value),Ce(),w!==!0?v(()=>{a("hide",r)},ot):c()}const{show:_,hide:B}=na({showing:k,hideOnRouteChange:b,handleShow:M,handleHide:W}),{addToHistory:ge,removeFromHistory:St}=la(k,B,b),ie={belowBreakpoint:g,hide:B},D=h(()=>t.side==="right"),H=h(()=>(l.lang.rtl===!0?-1:1)*(D.value===!0?1:-1)),Ue=q(0),U=q(!1),ye=q(!1),je=q($.value*H.value),ue=h(()=>D.value===!0?"left":"right"),pe=h(()=>k.value===!0&&g.value===!1&&t.overlay===!1?t.miniToOverlay===!0?t.miniWidth:$.value:0),be=h(()=>t.overlay===!0||t.miniToOverlay===!0||i.view.value.indexOf(D.value?"R":"L")>-1||l.platform.is.ios===!0&&i.isContainer.value===!0),R=h(()=>t.overlay===!1&&k.value===!0&&g.value===!1),$t=h(()=>t.overlay===!0&&k.value===!0&&g.value===!1),Pt=h(()=>"fullscreen q-drawer__backdrop"+(k.value===!1&&U.value===!1?" hidden":"")),Bt=h(()=>({backgroundColor:`rgba(0,0,0,${Ue.value*.4})`})),We=h(()=>D.value===!0?i.rows.value.top[2]==="r":i.rows.value.top[0]==="l"),Tt=h(()=>D.value===!0?i.rows.value.bottom[2]==="r":i.rows.value.bottom[0]==="l"),Mt=h(()=>{const r={};return i.header.space===!0&&We.value===!1&&(be.value===!0?r.top=`${i.header.offset}px`:i.header.space===!0&&(r.top=`${i.header.size}px`)),i.footer.space===!0&&Tt.value===!1&&(be.value===!0?r.bottom=`${i.footer.offset}px`:i.footer.space===!0&&(r.bottom=`${i.footer.size}px`)),r}),At=h(()=>{const r={width:`${$.value}px`,transform:`translateX(${je.value}px)`};return g.value===!0?r:Object.assign(r,Mt.value)}),It=h(()=>"q-drawer__content fit "+(i.isContainer.value!==!0?"scroll":"overflow-auto")),Vt=h(()=>`q-drawer q-drawer--${t.side}`+(ye.value===!0?" q-drawer--mini-animate":"")+(t.bordered===!0?" q-drawer--bordered":"")+(o.value===!0?" q-drawer--dark q-dark":"")+(U.value===!0?" no-transition":k.value===!0?"":" q-layout--prevent-focus")+(g.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${C.value===!0?"mini":"standard"}`+(be.value===!0||R.value!==!0?" fixed":"")+(t.overlay===!0||t.miniToOverlay===!0?" q-drawer--on-top":"")+(We.value===!0?" q-drawer--top-padding":""))),Lt=h(()=>{const r=l.lang.rtl===!0?t.side:ue.value;return[[Me,Qt,void 0,{[r]:!0,mouse:!0}]]}),zt=h(()=>{const r=l.lang.rtl===!0?ue.value:t.side;return[[Me,Re,void 0,{[r]:!0,mouse:!0}]]}),Dt=h(()=>{const r=l.lang.rtl===!0?ue.value:t.side;return[[Me,Re,void 0,{[r]:!0,mouse:!0,mouseAllDir:!0}]]});function _e(){Ot(g,t.behavior==="mobile"||t.behavior!=="desktop"&&i.totalWidth.value<=t.breakpoint)}x(g,r=>{r===!0?(m=k.value,k.value===!0&&B(!1)):t.overlay===!1&&t.behavior!=="mobile"&&m!==!1&&(k.value===!0?(A(0),Q(0),Ce()):_(!1))}),x(()=>t.side,(r,w)=>{i.instances[w]===ie&&(i.instances[w]=void 0,i[w].space=!1,i[w].offset=0),i.instances[r]=ie,i[r].size=$.value,i[r].space=R.value,i[r].offset=pe.value}),x(i.totalWidth,()=>{(i.isContainer.value===!0||document.qScrollPrevented!==!0)&&_e()}),x(()=>t.behavior+t.breakpoint,_e),x(i.isContainer,r=>{k.value===!0&&f(r!==!0),r===!0&&_e()}),x(i.scrollbarWidth,()=>{A(k.value===!0?0:void 0)}),x(pe,r=>{O("offset",r)}),x(R,r=>{a("onLayout",r),O("space",r)}),x(D,()=>{A()}),x($,r=>{A(),qe(t.miniToOverlay,r)}),x(()=>t.miniToOverlay,r=>{qe(r,$.value)}),x(()=>l.lang.rtl,()=>{A()}),x(()=>t.mini,()=>{t.noMiniAnimation||t.modelValue===!0&&(Ft(),i.animate())}),x(C,r=>{a("miniState",r)});function A(r){r===void 0?Ze(()=>{r=k.value===!0?0:$.value,A(H.value*r)}):(i.isContainer.value===!0&&D.value===!0&&(g.value===!0||Math.abs(r)===$.value)&&(r+=H.value*i.scrollbarWidth.value),je.value=r)}function Q(r){Ue.value=r}function we(r){const w=r===!0?"remove":i.isContainer.value!==!0?"add":"";w!==""&&document.body.classList[w]("q-body--drawer-toggle")}function Ft(){d!==null&&clearTimeout(d),e.proxy&&e.proxy.$el&&e.proxy.$el.classList.add("q-drawer--mini-animate"),ye.value=!0,d=setTimeout(()=>{d=null,ye.value=!1,e&&e.proxy&&e.proxy.$el&&e.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Qt(r){if(k.value!==!1)return;const w=$.value,T=de(r.distance.x,0,w);if(r.isFinal===!0){T>=Math.min(75,w)===!0?_():(i.animate(),Q(0),A(H.value*w)),U.value=!1;return}A((l.lang.rtl===!0?D.value!==!0:D.value)?Math.max(w-T,0):Math.min(0,T-w)),Q(de(T/w,0,1)),r.isFirst===!0&&(U.value=!0)}function Re(r){if(k.value!==!0)return;const w=$.value,T=r.direction===t.side,oe=(l.lang.rtl===!0?T!==!0:T)?de(r.distance.x,0,w):0;if(r.isFinal===!0){Math.abs(oe)<Math.min(75,w)===!0?(i.animate(),Q(1),A(0)):B(),U.value=!1;return}A(H.value*oe),Q(de(1-oe/w,0,1)),r.isFirst===!0&&(U.value=!0)}function Ce(){f(!1),we(!0)}function O(r,w){i.update(t.side,r,w)}function Ot(r,w){r.value!==w&&(r.value=w)}function qe(r,w){O("size",r===!0?t.miniWidth:w)}return i.instances[t.side]=ie,qe(t.miniToOverlay,$.value),O("space",R.value),O("offset",pe.value),t.showIfAbove===!0&&t.modelValue!==!0&&k.value===!0&&t["onUpdate:modelValue"]!==void 0&&a("update:modelValue",!0),ae(()=>{a("onLayout",R.value),a("miniState",C.value),m=t.showIfAbove===!0;const r=()=>{(k.value===!0?M:W)(!1,!0)};if(i.totalWidth.value!==0){Ze(r);return}p=x(i.totalWidth,()=>{p(),p=void 0,k.value===!1&&t.showIfAbove===!0&&g.value===!1?_(!1):r()})}),Ee(()=>{p!==void 0&&p(),d!==null&&(clearTimeout(d),d=null),k.value===!0&&Ce(),i.instances[t.side]===ie&&(i.instances[t.side]=void 0,O("size",0),O("offset",0),O("space",!1))}),()=>{const r=[];g.value===!0&&(t.noSwipeOpen===!1&&r.push(Ve(P("div",{key:"open",class:`q-drawer__opener fixed-${t.side}`,"aria-hidden":"true"}),Lt.value)),r.push(et("div",{ref:"backdrop",class:Pt.value,style:Bt.value,"aria-hidden":"true",onClick:B},void 0,"backdrop",t.noSwipeBackdrop!==!0&&k.value===!0,()=>Dt.value)));const w=C.value===!0&&n.mini!==void 0,T=[P("div",{...u,key:""+w,class:[It.value,u.class]},w===!0?n.mini():ia(n.default))];return t.elevated===!0&&k.value===!0&&T.push(P("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),r.push(et("aside",{ref:"content",class:Vt.value,style:At.value},T,"contentclose",t.noSwipeClose!==!0&&g.value===!0,()=>zt.value)),P("div",{class:"q-drawer-container"},r)}}}),za=ee({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:n,emit:a}){const{proxy:{$q:u}}=te(),e=Qe(Oe,F);if(e===F)return console.error("QFooter needs to be child of QLayout"),F;const l=q(parseInt(t.heightHint,10)),o=q(!0),f=q(oa.value===!0||e.isContainer.value===!0?0:window.innerHeight),v=h(()=>t.reveal===!0||e.view.value.indexOf("F")>-1||u.platform.is.ios&&e.isContainer.value===!0),c=h(()=>e.isContainer.value===!0?e.containerHeight.value:f.value),i=h(()=>{if(t.modelValue!==!0)return 0;if(v.value===!0)return o.value===!0?l.value:0;const _=e.scroll.value.position+c.value+l.value-e.height.value;return _>0?_:0}),m=h(()=>t.modelValue!==!0||v.value===!0&&o.value!==!0),d=h(()=>t.modelValue===!0&&m.value===!0&&t.reveal===!0),p=h(()=>"q-footer q-layout__section--marginal "+(v.value===!0?"fixed":"absolute")+"-bottom"+(t.bordered===!0?" q-footer--bordered":"")+(m.value===!0?" q-footer--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus"+(v.value!==!0?" hidden":""):"")),g=h(()=>{const _=e.rows.value.bottom,B={};return _[0]==="l"&&e.left.space===!0&&(B[u.lang.rtl===!0?"right":"left"]=`${e.left.size}px`),_[2]==="r"&&e.right.space===!0&&(B[u.lang.rtl===!0?"left":"right"]=`${e.right.size}px`),B});function C(_,B){e.update("footer",_,B)}function $(_,B){_.value!==B&&(_.value=B)}function k({height:_}){$(l,_),C("size",_)}function b(){if(t.reveal!==!0)return;const{direction:_,position:B,inflectionPoint:ge}=e.scroll.value;$(o,_==="up"||B-ge<100||e.height.value-c.value-B-l.value<300)}function M(_){d.value===!0&&$(o,!0),a("focusin",_)}x(()=>t.modelValue,_=>{C("space",_),$(o,!0),e.animate()}),x(i,_=>{C("offset",_)}),x(()=>t.reveal,_=>{_===!1&&$(o,t.modelValue)}),x(o,_=>{e.animate(),a("reveal",_)}),x([l,e.scroll,e.height],b),x(()=>u.screen.height,_=>{e.isContainer.value!==!0&&$(f,_)});const W={};return e.instances.footer=W,t.modelValue===!0&&C("size",l.value),C("space",t.modelValue),C("offset",i.value),Ee(()=>{e.instances.footer===W&&(e.instances.footer=void 0,C("size",0),C("offset",0),C("space",!1))}),()=>{const _=pt(n.default,[P(bt,{debounce:0,onResize:k})]);return t.elevated===!0&&_.push(P("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),P("footer",{class:p.value,style:g.value,onFocusin:M},_)}}}),Da=ee({name:"QInnerLoading",props:{...Ne,...ra,showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(t,{slots:n}){const a=te(),u=He(t,a.proxy.$q),{transitionProps:e,transitionStyle:l}=sa(t),o=h(()=>"q-inner-loading absolute-full column flex-center"+(u.value===!0?" q-inner-loading--dark":"")),f=h(()=>"q-inner-loading__label"+(t.labelClass!==void 0?` ${t.labelClass}`:""));function v(){const i=[P(ca,{size:t.size,color:t.color})];return t.label!==void 0&&i.push(P("div",{class:f.value,style:t.labelStyle},[t.label])),i}function c(){return t.showing===!0?P("div",{class:o.value,style:l.value},n.default!==void 0?n.default():v()):null}return()=>P(da,e.value,c)}});const Fa={xs:2,sm:4,md:6,lg:10,xl:14};function st(t,n,a){return{transform:n===!0?`translateX(${a.lang.rtl===!0?"-":""}100%) scale3d(${-t},1,1)`:`scale3d(${t},1,1)`}}var dt=ee({name:"QLinearProgress",props:{...Ne,...va,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(t,{slots:n}){const{proxy:a}=te(),u=He(t,a.$q),e=fa(t,Fa),l=h(()=>t.indeterminate===!0||t.query===!0),o=h(()=>t.reverse!==t.query),f=h(()=>({...e.value!==null?e.value:{},"--q-linear-progress-speed":`${t.animationSpeed}ms`})),v=h(()=>"q-linear-progress"+(t.color!==void 0?` text-${t.color}`:"")+(t.reverse===!0||t.query===!0?" q-linear-progress--reverse":"")+(t.rounded===!0?" rounded-borders":"")),c=h(()=>st(t.buffer!==void 0?t.buffer:1,o.value,a.$q)),i=h(()=>`with${t.instantFeedback===!0?"out":""}-transition`),m=h(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${i.value} q-linear-progress__track--${u.value===!0?"dark":"light"}`+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),d=h(()=>st(l.value===!0?1:t.value,o.value,a.$q)),p=h(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${i.value} q-linear-progress__model--${l.value===!0?"in":""}determinate`),g=h(()=>({width:`${t.value*100}%`})),C=h(()=>`q-linear-progress__stripe absolute-${t.reverse===!0?"right":"left"} q-linear-progress__stripe--${i.value}`);return()=>{const $=[P("div",{class:m.value,style:c.value}),P("div",{class:p.value,style:d.value})];return t.stripe===!0&&l.value===!1&&$.push(P("div",{class:C.value,style:g.value})),P("div",{class:v.value,style:f.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":t.indeterminate===!0?void 0:t.value},pt(n.default,$))}}});const Qa={class:"playback-update-container"},Oa={class:"spaced-inputs"},Ea={class:"row justify-around q-mb-sm"},ct=ne({__name:"PlaybackUpdater",setup(t){const n=q(30),a=q(0),u=q(0),e=q(!1);let l;function o(){return a.value<0&&Math.abs(a.value)<n.value}function f(i){return i>0?V.pause().pipe(Ia(i*1e3)):tt("")}function v(i=!1){l&&l.unsubscribe(),i&&($e.msgSuccess("Playback Updated","Settings cleared."),n.value=30,a.value=0,u.value=0,e.value=!1)}function c(i,m,d,p=!1){let g=i;console.log(`Scrubber ${i}, Playback ${m}, Pause ${d}`),parseInt(i)+parseInt(m)===0&&(console.info("Scrubber and playback will cancel out, adjusting by 5 seconds."),g-=5),v(),l=Ct(m*1e3).pipe(Y(()=>f(d).pipe(Y(()=>V.fetchQueue().pipe(Ae(C=>C.queue.at(0)))),Y(C=>V.nextTrack().pipe(Ae(()=>C))),Y(C=>g>0?V.scrubToSeconds(g):g<0&&C?(console.info("Going to last "+Math.abs(g)+" seconds"),V.scrubToSeconds(Math.round(C.duration_ms/1e3)-Math.abs(g))):tt(!0)),Y(()=>V.fetchPlaybackState())))).subscribe(()=>{$e.msgSuccess("Playback Updated",`Skipped song, and scrubbed to ${i} seconds`),c(i,m,d)}),p&&(V.timer.next(n.value),$e.msgSuccess("Playback Update","Settings changed."),e.value=!0)}return(i,m)=>(N(),J("div",Qa,[S("div",Oa,[s(K,{square:"",outlined:"",modelValue:n.value,"onUpdate:modelValue":m[0]||(m[0]=d=>n.value=d),label:"Song Timer",type:"number",min:"0",oninput:`this.value = 
 !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null`},null,8,["modelValue"]),s(K,{square:"",outlined:"",modelValue:a.value,"onUpdate:modelValue":m[1]||(m[1]=d=>a.value=d),label:"Position In Song",type:"number"},null,8,["modelValue"]),s(K,{square:"",outlined:"",modelValue:u.value,"onUpdate:modelValue":m[2]||(m[2]=d=>u.value=d),label:"Time between songs",type:"number",min:"0",oninput:`this.value = 
 !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null`},null,8,["modelValue"])]),S("div",Ea,[s(z,{disable:o(),onClick:m[3]||(m[3]=d=>c(a.value,n.value,u.value,!0)),color:"primary"},{default:y(()=>[I(" Update! ")]),_:1},8,["disable"]),s(z,{disable:!e.value,onClick:m[4]||(m[4]=d=>v(!0)),color:"warning"},{default:y(()=>[I(" Clear! ")]),_:1},8,["disable"])])]))}});const Na={class:"row q-pa-sm gt-sm",id:"now-playing-container"},Ha={class:"row col-3 no-wrap",id:"song-info"},Ua={class:"column justify-center"},ja={class:"column now-playing-details justify-center col-shrink"},Wa={class:"text-weight-medium full-width ellipsis"},Ra={class:"text-grey-8 full-width ellipsis"},Xa={class:"row justify-center col-grow"},Ya={id:"timer-functions",class:"row"},Ka={class:"column justify-center"},Ga={class:"column justify-center q-ml-sm q-mr-sm"},Ja={class:"column justify-center"},Za={class:"row justify-end col-3"},en={class:"lt-md column full-width"},tn={class:"row justify-between"},an={class:"column justify-center"},nn={class:"column justify-center"},ln={lines:"1"},un={class:"text-weight-medium"},on={class:"row full-width"},rn=ne({__name:"NowPlaying",setup(t){const n=V,a=q(void 0),u=q("NA"),e=q("NA"),l=q(""),o=q(0),f=h(()=>{const i=Pe(o.value);return o.value<v.value?i:Pe(v.value)}),v=q(0),c=h(()=>o.value/v.value);return ae(()=>{setInterval(()=>{v.value>0&&(o.value=o.value+1)},1e3),n.timer.pipe(qt(i=>i>0),j(i=>{console.log(`Setting timer to ${i}`),v.value=i,o.value=0})).subscribe(),n.currentSong.pipe(j(i=>{var m;i&&i.id!==((m=a.value)==null?void 0:m.id)&&(o.value=0,a.value=i,e.value=i.name,u.value=i.artists.map(d=>d.name).join(", "),l.value=i.album.images.reduce((d,p)=>{var g,C;return((g=d.width)!=null?g:0)<((C=p.width)!=null?C:0)?d:p}).url,n.addSongToPlayed(i))})).subscribe()}),(i,m)=>{var d,p;return N(),J(fe,null,[S("div",Na,[S("div",Ha,[S("div",Ua,[s(Z,{rounded:"",class:"q-mr-md",id:"current-album"},{default:y(()=>[s(Le,{src:l.value},null,8,["src"])]),_:1})]),S("div",ja,[S("div",Wa,[s(ze,null,{default:y(()=>{var g;return[I(L((g=a.value)==null?void 0:g.name),1)]}),_:1}),I(" "+L((d=a.value)==null?void 0:d.name),1)]),S("div",Ra,L(u.value),1)])]),S("div",Xa,[S("div",Ya,[S("div",Ka,L(f.value),1),S("div",Ga,[s(dt,{value:c.value,rounded:"","track-color":"grey",id:"timer"},null,8,["value"])]),S("div",Ja,L(le(Pe)(v.value)),1)])]),S("div",Za,[s(z,{size:"lg",flat:"",dense:"",round:"",icon:"format_list_numbered"},{default:y(()=>[s(ce,null,{default:y(()=>[I(" Song List here ")]),_:1})]),_:1}),s(z,{size:"lg",flat:"",dense:"",round:"",icon:"settings"},{default:y(()=>[s(ce,null,{default:y(()=>[s(ct)]),_:1})]),_:1})])]),S("div",en,[S("div",tn,[S("div",an,[s(Z,{rounded:"",class:"q-ma-sm",id:"current-album"},{default:y(()=>[s(Le,{src:l.value},null,8,["src"])]),_:1})]),S("div",nn,[S("div",ln,[S("span",un,L((p=a.value)==null?void 0:p.name),1)])]),s(z,{size:"lg",flat:"",dense:"",round:"",icon:"settings"},{default:y(()=>[s(ce,null,{default:y(()=>[s(ct)]),_:1})]),_:1})]),S("div",on,[s(dt,{value:c.value,rounded:"",color:"purple","track-color":"orange",id:"timer-sm"},null,8,["value"])])])],64)}}});var vt;const sn=typeof window!="undefined",ft=()=>{};sn&&((vt=window==null?void 0:window.navigator)==null?void 0:vt.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function mt(t){return typeof t=="function"?t():le(t)}function dn(t,n){function a(...u){return new Promise((e,l)=>{Promise.resolve(t(()=>n.apply(this,u),{fn:n,thisArg:this,args:u})).then(e).catch(l)})}return a}function cn(t,n={}){let a,u,e=ft;const l=f=>{clearTimeout(f),e(),e=ft};return f=>{const v=mt(t),c=mt(n.maxWait);return a&&l(a),v<=0||c!==void 0&&c<=0?(u&&(l(u),u=null),Promise.resolve(f())):new Promise((i,m)=>{e=n.rejectOnCancel?m:i,c&&!u&&(u=setTimeout(()=>{a&&l(a),u=null,i(f())},c)),a=setTimeout(()=>{u&&l(u),u=null,i(f())},v)})}}function kt(t,n=200,a={}){return dn(cn(n,a),t)}const vn=S("span",{class:"text-weight-medium"}," Add New Playlist ",-1),fn={class:"text-weight-medium"},mn={class:"text-grey-8"},hn={class:"text-grey-8 q-gutter-xs"},gn=ne({__name:"PlaylistList",setup(t){let n=[];const a=q([]),u=q(""),e=V,l=q(void 0),o=q(void 0),f=kt(()=>{console.log("Filtering with: "+u.value),u.value||(a.value=n),a.value=n.filter(i=>i.name.toLowerCase().includes(u.value.toLowerCase()))},300);ae(()=>{e.fetchPlaylists().pipe(j(i=>{n=i,a.value=i,e.loading=!1})).subscribe(),e.createdPlaylist.pipe(qt(i=>!!i),j(i=>{n.push(i),a.value=[i,...a.value]})).subscribe()});function v(i){l.value="playlist",o.value=i==null?void 0:i.id,console.log("Open the dialog, with mode 'playlist', passing in the playlist id")}function c(i){l.value="bingo",o.value=i==null?void 0:i.id,console.log("Open the dialog, with mode 'bingo', passing in the playlist id")}return(i,m)=>(N(),J(fe,null,[s(K,{square:"",outlined:"",modelValue:u.value,"onUpdate:modelValue":[m[0]||(m[0]=d=>u.value=d),le(f)],label:"Filter Playlists"},{prepend:y(()=>[s(ve,{name:"search"})]),_:1},8,["modelValue","onUpdate:modelValue"]),s(at,{bordered:"",class:"rounded-borders"},{default:y(()=>[Ve((N(),De(se,{clickable:"",onClick:m[1]||(m[1]=d=>v())},{default:y(()=>[s(E,{avatar:""},{default:y(()=>[s(Z,{rounded:"",color:"green","text-color":"white",icon:"add",size:"48px"})]),_:1}),s(E,null,{default:y(()=>[s(Be,null,{default:y(()=>[vn]),_:1})]),_:1})]),_:1})),[[nt]]),(N(!0),J(fe,null,ma(a.value,d=>Ve((N(),De(se,{key:d.id,clickable:"",to:"/dashboard/"+d.id},{default:y(()=>[s(Z,{rounded:"",class:"q-mr-md"},{default:y(()=>{var p;return[s(Le,{src:(p=d.images.at(0))==null?void 0:p.url},null,8,["src"])]}),_:2},1024),s(E,null,{default:y(()=>[s(Be,{lines:"1"},{default:y(()=>[S("span",fn,[s(ze,null,{default:y(()=>[I(L(d.name),1)]),_:2},1024),I(" "+L(d.name),1)])]),_:2},1024),s(Be,{lines:"1"},{default:y(()=>[S("span",mn,[s(ze,null,{default:y(()=>[I(L(d.description),1)]),_:2},1024),I(" "+L(d.description),1)])]),_:2},1024)]),_:2},1024),s(E,{side:""},{default:y(()=>[S("div",hn,[s(z,{size:"12px",flat:"",dense:"",round:"",icon:"more_vert",onClick:m[2]||(m[2]=ga(()=>{},["prevent"]))},{default:y(()=>[s(ce,{"auto-close":""},{default:y(()=>[s(at,null,{default:y(()=>[s(se,{clickable:"",onClick:p=>c(d)},{default:y(()=>[s(E,{avatar:""},{default:y(()=>[s(ve,{name:"note_add"})]),_:1}),s(E,null,{default:y(()=>[I("Create Bingo Cards")]),_:1})]),_:2},1032,["onClick"]),s(se,{clickable:"",onClick:p=>v(d)},{default:y(()=>[s(E,{avatar:""},{default:y(()=>[s(ve,{name:"playlist_add"})]),_:1}),s(E,null,{default:y(()=>[I("Create Subplaylist")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1032,["to"])),[[nt]])),128))]),_:1}),s(ha,{dialog_mode:l.value,playlist:o.value},null,8,["dialog_mode","playlist"])],64))}}),yn=ne({__name:"RecentlyPlayed",setup(t){const n=V;let a=q([]);const u=q(a.value.map(o=>o.song)),e=q(""),l=kt(()=>{console.log("Filtering with: "+e.value),e.value||(u.value=a.value.map(o=>o.song)),u.value=a.value.map(o=>o.song).filter(o=>o.name.toLowerCase().includes(e.value.toLowerCase()))},300);return x(()=>a.value,o=>{e.value||(u.value=o.map(f=>f.song))},{deep:!0}),ae(()=>{n.storeSessionPlayed.pipe(j(o=>{a.value=[...o]})).subscribe()}),(o,f)=>(N(),J(fe,null,[s(K,{square:"",outlined:"",modelValue:e.value,"onUpdate:modelValue":[f[0]||(f[0]=v=>e.value=v),le(l)],label:"Filter Songs"},{prepend:y(()=>[s(ve,{name:"search"})]),_:1},8,["modelValue","onUpdate:modelValue"]),s(ya,{songs:u.value,mini:!0},null,8,["songs"])],64))}}),pn=S("img",{src:"https://cdn.quasar.dev/logo-v2/svg/logo-mono-white.svg"},null,-1),Cn=ne({__name:"MainLayout",setup(t){const n=V,a=q(0),u=q(!1),e=q(!1),l=q(!1);function o(){u.value=!u.value}function f(){e.value=!e.value}function v(){n.refreshToken().subscribe()}return ae(()=>{n.loadingState.pipe(j(c=>{l.value=c})).subscribe(),setInterval(()=>{a.value=Math.round((n.expiry-Date.now())/1e3/60)},5e3)}),(c,i)=>{const m=pa("router-view");return N(),De(wa,{view:"hHh LpR fFf"},{default:y(()=>[s(Va,{elevated:"",class:"bg-primary text-white"},{default:y(()=>[s(lt,null,{default:y(()=>[s(z,{dense:"",flat:"",round:"",icon:"menu",onClick:o}),s(ba,null,{default:y(()=>[s(Z,null,{default:y(()=>[pn]),_:1}),I(" Expires In "+L(a.value)+" Minutes ",1)]),_:1}),s(z,{dense:"",flat:"",round:"",icon:"logout",onClick:i[0]||(i[0]=d=>le(n).logout())}),s(z,{dense:"",flat:"",round:"",icon:"refresh",onClick:v}),s(z,{dense:"",flat:"",round:"",icon:"menu",onClick:f})]),_:1})]),_:1}),s(rt,{"show-if-above":"",modelValue:u.value,"onUpdate:modelValue":i[1]||(i[1]=d=>u.value=d),side:"left",bordered:""},{default:y(()=>[s(gn)]),_:1},8,["modelValue"]),s(rt,{"show-if-above":"",modelValue:e.value,"onUpdate:modelValue":i[2]||(i[2]=d=>e.value=d),side:"right",bordered:""},{default:y(()=>[s(yn)]),_:1},8,["modelValue"]),s(_a,null,{default:y(()=>[s(m)]),_:1}),s(za,{elevated:"",class:"bg-grey-10 text-white"},{default:y(()=>[s(lt,null,{default:y(()=>[s(rn)]),_:1})]),_:1}),s(Da,{showing:l.value,label:"Loading...","label-class":"text-teal","label-style":"font-size: 2em",size:"lg"},null,8,["showing"])]),_:1})}}});export{Cn as default};
