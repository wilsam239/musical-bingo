import{_ as Qe,U as Ht,V as Ye,W as Xe,X as jt,Y as mt,Z as ht,$ as Wt,a0 as Nt,a1 as Rt,a2 as Zt,a3 as pe,a4 as ae,a5 as Yt,a6 as he,a7 as gt,c as N,B as ze,C as z,D as Fe,r as k,b as w,w as q,G as Oe,a8 as Xt,h as B,g as ie,a9 as Gt,aa as J,ab as Ge,H as Jt,ac as Je,ad as Kt,ae as ce,af as Ae,ag as Ke,ah as qe,ai as De,aj as Be,ak as ea,al as ta,am as aa,u as Ue,an as na,a as He,ao as la,ap as oa,aq as ua,o as R,N as et,ar as $e,as as tt,f as pt,at as ia,M as sa,T as je,au as ra,av as da,aw as ca,ax as va,ay as fa,az as ma,i as Z,t as F,l as T,aA as W,p as d,aB as bt,S as L,q as A,n as _,aC as Ee,aD as ne,A as D,aE as E,aF as le,z as oe,aG as Me,aH as ha,aI as yt,y as O,aJ as ue,aK as ga,aL as pa,aM as ba,aN as K,R as ya,x as te,aO as at,aP as me,m as Te,aQ as j,aR as Ve,aS as ve,aT as wa,aU as nt,aV as _a,aW as lt,aX as Ca,aY as ka,aZ as Sa,a_ as ot,a$ as xa}from"./index.ff090ca2.js";import{b as wt,Q as Aa,a as qa}from"./QLayout.fc8f9fb3.js";var _t={now:function(){return(_t.delegate||Date).now()},delegate:void 0},Ba=function(t){Qe(n,t);function n(a,o){return t.call(this)||this}return n.prototype.schedule=function(a,o){return this},n}(Ht),ge={setInterval:function(t,n){for(var a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];var e=ge.delegate;return e!=null&&e.setInterval?e.setInterval.apply(e,Ye([t,n],Xe(a))):setInterval.apply(void 0,Ye([t,n],Xe(a)))},clearInterval:function(t){var n=ge.delegate;return((n==null?void 0:n.clearInterval)||clearInterval)(t)},delegate:void 0},Ma=function(t){Qe(n,t);function n(a,o){var e=t.call(this,a,o)||this;return e.scheduler=a,e.work=o,e.pending=!1,e}return n.prototype.schedule=function(a,o){var e;if(o===void 0&&(o=0),this.closed)return this;this.state=a;var l=this.id,i=this.scheduler;return l!=null&&(this.id=this.recycleAsyncId(i,l,o)),this.pending=!0,this.delay=o,this.id=(e=this.id)!==null&&e!==void 0?e:this.requestAsyncId(i,this.id,o),this},n.prototype.requestAsyncId=function(a,o,e){return e===void 0&&(e=0),ge.setInterval(a.flush.bind(a,this),e)},n.prototype.recycleAsyncId=function(a,o,e){if(e===void 0&&(e=0),e!=null&&this.delay===e&&this.pending===!1)return o;o!=null&&ge.clearInterval(o)},n.prototype.execute=function(a,o){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var e=this._execute(a,o);if(e)return e;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(a,o){var e=!1,l;try{this.work(a)}catch(i){e=!0,l=i||new Error("Scheduled action threw falsy error")}if(e)return this.unsubscribe(),l},n.prototype.unsubscribe=function(){if(!this.closed){var a=this,o=a.id,e=a.scheduler,l=e.actions;this.work=this.state=this.scheduler=null,this.pending=!1,jt(l,this),o!=null&&(this.id=this.recycleAsyncId(e,o,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},n}(Ba),ut=function(){function t(n,a){a===void 0&&(a=t.now),this.schedulerActionCtor=n,this.now=a}return t.prototype.schedule=function(n,a,o){return a===void 0&&(a=0),new this.schedulerActionCtor(this,n).schedule(o,a)},t.now=_t.now,t}(),Va=function(t){Qe(n,t);function n(a,o){o===void 0&&(o=ut.now);var e=t.call(this,a,o)||this;return e.actions=[],e._active=!1,e}return n.prototype.flush=function(a){var o=this.actions;if(this._active){o.push(a);return}var e;this._active=!0;do if(e=a.execute(a.state,a.delay))break;while(a=o.shift());if(this._active=!1,e){for(;a=o.shift();)a.unsubscribe();throw e}},n}(ut),Ct=new Va(Ma),La=Ct,Pa=new mt(function(t){return t.complete()});function Ia(t){return t instanceof Date&&!isNaN(t)}function Da(t){return t===void 0&&(t=1/0),ht(Wt,t)}function $a(){return Da(1)}function Ea(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return $a()(Nt(t,Rt(t)))}function kt(t,n,a){t===void 0&&(t=0),a===void 0&&(a=La);var o=-1;return n!=null&&(Zt(n)?a=n:o=n),new mt(function(e){var l=Ia(t)?+t-a.now():t;l<0&&(l=0);var i=0;return a.schedule(function(){e.closed||(e.next(i++),0<=o?this.schedule(void 0,o):e.complete())},l)})}function St(t,n){return pe(function(a,o){var e=0;a.subscribe(ae(o,function(l){return t.call(n,l,e++)&&o.next(l)}))})}function it(t){return t<=0?function(){return Pa}:pe(function(n,a){var o=0;n.subscribe(ae(a,function(e){++o<=t&&(a.next(e),t<=o&&a.complete())}))})}function Ta(){return pe(function(t,n){t.subscribe(ae(n,Yt))})}function Qa(t){return he(function(){return t})}function xt(t,n){return n?function(a){return Ea(n.pipe(it(1),Ta()),a.pipe(xt(t)))}:ht(function(a,o){return gt(t(a,o)).pipe(it(1),Qa(a))})}function za(t,n){n===void 0&&(n=Ct);var a=kt(t,n);return xt(function(){return a})}function ee(t,n){return pe(function(a,o){var e=null,l=0,i=!1,r=function(){return i&&!e&&o.complete()};a.subscribe(ae(o,function(p){e==null||e.unsubscribe();var m=0,u=l++;gt(t(p,u)).subscribe(e=ae(o,function(h){return o.next(n?n(p,h,u,m++):h)},function(){e=null,r()}))},function(){i=!0,r()}))})}var Fa=N({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:n,emit:a}){const{proxy:{$q:o}}=ie(),e=ze(Fe,z);if(e===z)return console.error("QHeader needs to be child of QLayout"),z;const l=k(parseInt(t.heightHint,10)),i=k(!0),r=w(()=>t.reveal===!0||e.view.value.indexOf("H")>-1||o.platform.is.ios&&e.isContainer.value===!0),p=w(()=>{if(t.modelValue!==!0)return 0;if(r.value===!0)return i.value===!0?l.value:0;const y=l.value-e.scroll.value.position;return y>0?y:0}),m=w(()=>t.modelValue!==!0||r.value===!0&&i.value!==!0),u=w(()=>t.modelValue===!0&&m.value===!0&&t.reveal===!0),h=w(()=>"q-header q-layout__section--marginal "+(r.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(m.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),f=w(()=>{const y=e.rows.value.top,M={};return y[0]==="l"&&e.left.space===!0&&(M[o.lang.rtl===!0?"right":"left"]=`${e.left.size}px`),y[2]==="r"&&e.right.space===!0&&(M[o.lang.rtl===!0?"left":"right"]=`${e.right.size}px`),M});function c(y,M){e.update("header",y,M)}function b(y,M){y.value!==M&&(y.value=M)}function S({height:y}){b(l,y),c("size",y)}function g(y){u.value===!0&&b(i,!0),a("focusin",y)}q(()=>t.modelValue,y=>{c("space",y),b(i,!0),e.animate()}),q(p,y=>{c("offset",y)}),q(()=>t.reveal,y=>{y===!1&&b(i,t.modelValue)}),q(i,y=>{e.animate(),a("reveal",y)}),q(e.scroll,y=>{t.reveal===!0&&b(i,y.direction==="up"||y.position<=t.revealOffset||y.position-y.inflectionPoint<100)});const v={};return e.instances.header=v,t.modelValue===!0&&c("size",l.value),c("space",t.modelValue),c("offset",p.value),Oe(()=>{e.instances.header===v&&(e.instances.header=void 0,c("size",0),c("offset",0),c("space",!1))}),()=>{const y=Xt(n.default,[]);return t.elevated===!0&&y.push(B("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),y.push(B(wt,{debounce:0,onResize:S})),B("header",{class:h.value,style:f.value,onFocusin:g},y)}}});function Le(t,n,a){const o=De(t);let e,l=o.left-n.event.x,i=o.top-n.event.y,r=Math.abs(l),p=Math.abs(i);const m=n.direction;m.horizontal===!0&&m.vertical!==!0?e=l<0?"left":"right":m.horizontal!==!0&&m.vertical===!0?e=i<0?"up":"down":m.up===!0&&i<0?(e="up",r>p&&(m.left===!0&&l<0?e="left":m.right===!0&&l>0&&(e="right"))):m.down===!0&&i>0?(e="down",r>p&&(m.left===!0&&l<0?e="left":m.right===!0&&l>0&&(e="right"))):m.left===!0&&l<0?(e="left",r<p&&(m.up===!0&&i<0?e="up":m.down===!0&&i>0&&(e="down"))):m.right===!0&&l>0&&(e="right",r<p&&(m.up===!0&&i<0?e="up":m.down===!0&&i>0&&(e="down")));let u=!1;if(e===void 0&&a===!1){if(n.event.isFirst===!0||n.event.lastDir===void 0)return{};e=n.event.lastDir,u=!0,e==="left"||e==="right"?(o.left-=l,r=0,l=0):(o.top-=i,p=0,i=0)}return{synthetic:u,payload:{evt:t,touch:n.event.mouse!==!0,mouse:n.event.mouse===!0,position:o,direction:e,isFirst:n.event.isFirst,isFinal:a===!0,duration:Date.now()-n.event.time,distance:{x:r,y:p},offset:{x:l,y:i},delta:{x:o.left-n.event.lastX,y:o.top-n.event.lastY}}}}let Oa=0;var Pe=Gt({name:"touch-pan",beforeMount(t,{value:n,modifiers:a}){if(a.mouse!==!0&&J.has.touch!==!0)return;function o(l,i){a.mouse===!0&&i===!0?ea(l):(a.stop===!0&&qe(l),a.prevent===!0&&Ke(l))}const e={uid:"qvtp_"+Oa++,handler:n,modifiers:a,direction:Ge(a),noop:Jt,mouseStart(l){Je(l,e)&&Kt(l)&&(ce(e,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),e.start(l,!0))},touchStart(l){if(Je(l,e)){const i=l.target;ce(e,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","passiveCapture"],[i,"touchend","end","passiveCapture"]]),e.start(l)}},start(l,i){if(J.is.firefox===!0&&Ae(t,!0),e.lastEvt=l,i===!0||a.stop===!0){if(e.direction.all!==!0&&(i!==!0||e.modifiers.mouseAllDir!==!0&&e.modifiers.mousealldir!==!0)){const m=l.type.indexOf("mouse")>-1?new MouseEvent(l.type,l):new TouchEvent(l.type,l);l.defaultPrevented===!0&&Ke(m),l.cancelBubble===!0&&qe(m),Object.assign(m,{qKeyEvent:l.qKeyEvent,qClickOutside:l.qClickOutside,qAnchorHandled:l.qAnchorHandled,qClonedBy:l.qClonedBy===void 0?[e.uid]:l.qClonedBy.concat(e.uid)}),e.initialEvent={target:l.target,event:m}}qe(l)}const{left:r,top:p}=De(l);e.event={x:r,y:p,time:Date.now(),mouse:i===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:r,lastY:p}},move(l){if(e.event===void 0)return;const i=De(l),r=i.left-e.event.x,p=i.top-e.event.y;if(r===0&&p===0)return;e.lastEvt=l;const m=e.event.mouse===!0,u=()=>{o(l,m);let c;a.preserveCursor!==!0&&a.preservecursor!==!0&&(c=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),m===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ta(),e.styleCleanup=b=>{if(e.styleCleanup=void 0,c!==void 0&&(document.documentElement.style.cursor=c),document.body.classList.remove("non-selectable"),m===!0){const S=()=>{document.body.classList.remove("no-pointer-events--children")};b!==void 0?setTimeout(()=>{S(),b()},50):S()}else b!==void 0&&b()}};if(e.event.detected===!0){e.event.isFirst!==!0&&o(l,e.event.mouse);const{payload:c,synthetic:b}=Le(l,e,!1);c!==void 0&&(e.handler(c)===!1?e.end(l):(e.styleCleanup===void 0&&e.event.isFirst===!0&&u(),e.event.lastX=c.position.left,e.event.lastY=c.position.top,e.event.lastDir=b===!0?void 0:c.direction,e.event.isFirst=!1));return}if(e.direction.all===!0||m===!0&&(e.modifiers.mouseAllDir===!0||e.modifiers.mousealldir===!0)){u(),e.event.detected=!0,e.move(l);return}const h=Math.abs(r),f=Math.abs(p);h!==f&&(e.direction.horizontal===!0&&h>f||e.direction.vertical===!0&&h<f||e.direction.up===!0&&h<f&&p<0||e.direction.down===!0&&h<f&&p>0||e.direction.left===!0&&h>f&&r<0||e.direction.right===!0&&h>f&&r>0?(e.event.detected=!0,e.move(l)):e.end(l,!0))},end(l,i){if(e.event!==void 0){if(Be(e,"temp"),J.is.firefox===!0&&Ae(t,!1),i===!0)e.styleCleanup!==void 0&&e.styleCleanup(),e.event.detected!==!0&&e.initialEvent!==void 0&&e.initialEvent.target.dispatchEvent(e.initialEvent.event);else if(e.event.detected===!0){e.event.isFirst===!0&&e.handler(Le(l===void 0?e.lastEvt:l,e).payload);const{payload:r}=Le(l===void 0?e.lastEvt:l,e,!0),p=()=>{e.handler(r)};e.styleCleanup!==void 0?e.styleCleanup(p):p()}e.event=void 0,e.initialEvent=void 0,e.lastEvt=void 0}}};if(t.__qtouchpan=e,a.mouse===!0){const l=a.mouseCapture===!0||a.mousecapture===!0?"Capture":"";ce(e,"main",[[t,"mousedown","mouseStart",`passive${l}`]])}J.has.touch===!0&&ce(e,"main",[[t,"touchstart","touchStart",`passive${a.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,n){const a=t.__qtouchpan;a!==void 0&&(n.oldValue!==n.value&&(typeof value!="function"&&a.end(),a.handler=n.value),a.direction=Ge(n.modifiers))},beforeUnmount(t){const n=t.__qtouchpan;n!==void 0&&(n.event!==void 0&&n.end(),Be(n,"main"),Be(n,"temp"),J.is.firefox===!0&&Ae(t,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete t.__qtouchpan)}});function fe(t,n,a){return a<=n?n:Math.min(a,Math.max(n,t))}const st=150;var Ie=N({name:"QDrawer",inheritAttrs:!1,props:{...aa,...Ue,side:{type:String,default:"left",validator:t=>["left","right"].includes(t)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:t=>["default","desktop","mobile"].includes(t),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...na,"onLayout","miniState"],setup(t,{slots:n,emit:a,attrs:o}){const e=ie(),{proxy:{$q:l}}=e,i=He(t,l),{preventBodyScroll:r}=ia(),{registerTimeout:p,removeTimeout:m}=la(),u=ze(Fe,z);if(u===z)return console.error("QDrawer needs to be child of QLayout"),z;let h,f=null,c;const b=k(t.behavior==="mobile"||t.behavior!=="desktop"&&u.totalWidth.value<=t.breakpoint),S=w(()=>t.mini===!0&&b.value!==!0),g=w(()=>S.value===!0?t.miniWidth:t.width),v=k(t.showIfAbove===!0&&b.value===!1?!0:t.modelValue===!0),y=w(()=>t.persistent!==!0&&(b.value===!0||Mt.value===!0));function M(s,x){if(be(),s!==!1&&u.animate(),$(0),b.value===!0){const I=u.instances[re.value];I!==void 0&&I.belowBreakpoint===!0&&I.hide(!1),U(1),u.isContainer.value!==!0&&r(!0)}else U(0),s!==!1&&ke(!1);p(()=>{s!==!1&&ke(!0),x!==!0&&a("show",s)},st)}function P(s,x){Bt(),s!==!1&&u.animate(),U(0),$(Y.value*g.value),Se(),x!==!0?p(()=>{a("hide",s)},st):m()}const{show:C,hide:V}=oa({showing:v,hideOnRouteChange:y,handleShow:M,handleHide:P}),{addToHistory:be,removeFromHistory:Bt}=ua(v,V,y),se={belowBreakpoint:b,hide:V},Q=w(()=>t.side==="right"),Y=w(()=>(l.lang.rtl===!0?-1:1)*(Q.value===!0?1:-1)),We=k(0),X=k(!1),ye=k(!1),Ne=k(g.value*Y.value),re=w(()=>Q.value===!0?"left":"right"),we=w(()=>v.value===!0&&b.value===!1&&t.overlay===!1?t.miniToOverlay===!0?t.miniWidth:g.value:0),_e=w(()=>t.overlay===!0||t.miniToOverlay===!0||u.view.value.indexOf(Q.value?"R":"L")>-1||l.platform.is.ios===!0&&u.isContainer.value===!0),G=w(()=>t.overlay===!1&&v.value===!0&&b.value===!1),Mt=w(()=>t.overlay===!0&&v.value===!0&&b.value===!1),Vt=w(()=>"fullscreen q-drawer__backdrop"+(v.value===!1&&X.value===!1?" hidden":"")),Lt=w(()=>({backgroundColor:`rgba(0,0,0,${We.value*.4})`})),Re=w(()=>Q.value===!0?u.rows.value.top[2]==="r":u.rows.value.top[0]==="l"),Pt=w(()=>Q.value===!0?u.rows.value.bottom[2]==="r":u.rows.value.bottom[0]==="l"),It=w(()=>{const s={};return u.header.space===!0&&Re.value===!1&&(_e.value===!0?s.top=`${u.header.offset}px`:u.header.space===!0&&(s.top=`${u.header.size}px`)),u.footer.space===!0&&Pt.value===!1&&(_e.value===!0?s.bottom=`${u.footer.offset}px`:u.footer.space===!0&&(s.bottom=`${u.footer.size}px`)),s}),Dt=w(()=>{const s={width:`${g.value}px`,transform:`translateX(${Ne.value}px)`};return b.value===!0?s:Object.assign(s,It.value)}),$t=w(()=>"q-drawer__content fit "+(u.isContainer.value!==!0?"scroll":"overflow-auto")),Et=w(()=>`q-drawer q-drawer--${t.side}`+(ye.value===!0?" q-drawer--mini-animate":"")+(t.bordered===!0?" q-drawer--bordered":"")+(i.value===!0?" q-drawer--dark q-dark":"")+(X.value===!0?" no-transition":v.value===!0?"":" q-layout--prevent-focus")+(b.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${S.value===!0?"mini":"standard"}`+(_e.value===!0||G.value!==!0?" fixed":"")+(t.overlay===!0||t.miniToOverlay===!0?" q-drawer--on-top":"")+(Re.value===!0?" q-drawer--top-padding":""))),Tt=w(()=>{const s=l.lang.rtl===!0?t.side:re.value;return[[Pe,Ot,void 0,{[s]:!0,mouse:!0}]]}),Qt=w(()=>{const s=l.lang.rtl===!0?re.value:t.side;return[[Pe,Ze,void 0,{[s]:!0,mouse:!0}]]}),zt=w(()=>{const s=l.lang.rtl===!0?re.value:t.side;return[[Pe,Ze,void 0,{[s]:!0,mouse:!0,mouseAllDir:!0}]]});function Ce(){Ut(b,t.behavior==="mobile"||t.behavior!=="desktop"&&u.totalWidth.value<=t.breakpoint)}q(b,s=>{s===!0?(h=v.value,v.value===!0&&V(!1)):t.overlay===!1&&t.behavior!=="mobile"&&h!==!1&&(v.value===!0?($(0),U(0),Se()):C(!1))}),q(()=>t.side,(s,x)=>{u.instances[x]===se&&(u.instances[x]=void 0,u[x].space=!1,u[x].offset=0),u.instances[s]=se,u[s].size=g.value,u[s].space=G.value,u[s].offset=we.value}),q(u.totalWidth,()=>{(u.isContainer.value===!0||document.qScrollPrevented!==!0)&&Ce()}),q(()=>t.behavior+t.breakpoint,Ce),q(u.isContainer,s=>{v.value===!0&&r(s!==!0),s===!0&&Ce()}),q(u.scrollbarWidth,()=>{$(v.value===!0?0:void 0)}),q(we,s=>{H("offset",s)}),q(G,s=>{a("onLayout",s),H("space",s)}),q(Q,()=>{$()}),q(g,s=>{$(),xe(t.miniToOverlay,s)}),q(()=>t.miniToOverlay,s=>{xe(s,g.value)}),q(()=>l.lang.rtl,()=>{$()}),q(()=>t.mini,()=>{t.noMiniAnimation||t.modelValue===!0&&(Ft(),u.animate())}),q(S,s=>{a("miniState",s)});function $(s){s===void 0?et(()=>{s=v.value===!0?0:g.value,$(Y.value*s)}):(u.isContainer.value===!0&&Q.value===!0&&(b.value===!0||Math.abs(s)===g.value)&&(s+=Y.value*u.scrollbarWidth.value),Ne.value=s)}function U(s){We.value=s}function ke(s){const x=s===!0?"remove":u.isContainer.value!==!0?"add":"";x!==""&&document.body.classList[x]("q-body--drawer-toggle")}function Ft(){f!==null&&clearTimeout(f),e.proxy&&e.proxy.$el&&e.proxy.$el.classList.add("q-drawer--mini-animate"),ye.value=!0,f=setTimeout(()=>{f=null,ye.value=!1,e&&e.proxy&&e.proxy.$el&&e.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Ot(s){if(v.value!==!1)return;const x=g.value,I=fe(s.distance.x,0,x);if(s.isFinal===!0){I>=Math.min(75,x)===!0?C():(u.animate(),U(0),$(Y.value*x)),X.value=!1;return}$((l.lang.rtl===!0?Q.value!==!0:Q.value)?Math.max(x-I,0):Math.min(0,I-x)),U(fe(I/x,0,1)),s.isFirst===!0&&(X.value=!0)}function Ze(s){if(v.value!==!0)return;const x=g.value,I=s.direction===t.side,de=(l.lang.rtl===!0?I!==!0:I)?fe(s.distance.x,0,x):0;if(s.isFinal===!0){Math.abs(de)<Math.min(75,x)===!0?(u.animate(),U(1),$(0)):V(),X.value=!1;return}$(Y.value*de),U(fe(1-de/x,0,1)),s.isFirst===!0&&(X.value=!0)}function Se(){r(!1),ke(!0)}function H(s,x){u.update(t.side,s,x)}function Ut(s,x){s.value!==x&&(s.value=x)}function xe(s,x){H("size",s===!0?t.miniWidth:x)}return u.instances[t.side]=se,xe(t.miniToOverlay,g.value),H("space",G.value),H("offset",we.value),t.showIfAbove===!0&&t.modelValue!==!0&&v.value===!0&&t["onUpdate:modelValue"]!==void 0&&a("update:modelValue",!0),R(()=>{a("onLayout",G.value),a("miniState",S.value),h=t.showIfAbove===!0;const s=()=>{(v.value===!0?M:P)(!1,!0)};if(u.totalWidth.value!==0){et(s);return}c=q(u.totalWidth,()=>{c(),c=void 0,v.value===!1&&t.showIfAbove===!0&&b.value===!1?C(!1):s()})}),Oe(()=>{c!==void 0&&c(),f!==null&&(clearTimeout(f),f=null),v.value===!0&&Se(),u.instances[t.side]===se&&(u.instances[t.side]=void 0,H("size",0),H("offset",0),H("space",!1))}),()=>{const s=[];b.value===!0&&(t.noSwipeOpen===!1&&s.push($e(B("div",{key:"open",class:`q-drawer__opener fixed-${t.side}`,"aria-hidden":"true"}),Tt.value)),s.push(tt("div",{ref:"backdrop",class:Vt.value,style:Lt.value,"aria-hidden":"true",onClick:V},void 0,"backdrop",t.noSwipeBackdrop!==!0&&v.value===!0,()=>zt.value)));const x=S.value===!0&&n.mini!==void 0,I=[B("div",{...o,key:""+x,class:[$t.value,o.class]},x===!0?n.mini():pt(n.default))];return t.elevated===!0&&v.value===!0&&I.push(B("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),s.push(tt("aside",{ref:"content",class:Et.value,style:Dt.value},I,"contentclose",t.noSwipeClose!==!0&&b.value===!0,()=>Qt.value)),B("div",{class:"q-drawer-container"},s)}}}),Ua=N({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:n,emit:a}){const{proxy:{$q:o}}=ie(),e=ze(Fe,z);if(e===z)return console.error("QFooter needs to be child of QLayout"),z;const l=k(parseInt(t.heightHint,10)),i=k(!0),r=k(sa.value===!0||e.isContainer.value===!0?0:window.innerHeight),p=w(()=>t.reveal===!0||e.view.value.indexOf("F")>-1||o.platform.is.ios&&e.isContainer.value===!0),m=w(()=>e.isContainer.value===!0?e.containerHeight.value:r.value),u=w(()=>{if(t.modelValue!==!0)return 0;if(p.value===!0)return i.value===!0?l.value:0;const C=e.scroll.value.position+m.value+l.value-e.height.value;return C>0?C:0}),h=w(()=>t.modelValue!==!0||p.value===!0&&i.value!==!0),f=w(()=>t.modelValue===!0&&h.value===!0&&t.reveal===!0),c=w(()=>"q-footer q-layout__section--marginal "+(p.value===!0?"fixed":"absolute")+"-bottom"+(t.bordered===!0?" q-footer--bordered":"")+(h.value===!0?" q-footer--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus"+(p.value!==!0?" hidden":""):"")),b=w(()=>{const C=e.rows.value.bottom,V={};return C[0]==="l"&&e.left.space===!0&&(V[o.lang.rtl===!0?"right":"left"]=`${e.left.size}px`),C[2]==="r"&&e.right.space===!0&&(V[o.lang.rtl===!0?"left":"right"]=`${e.right.size}px`),V});function S(C,V){e.update("footer",C,V)}function g(C,V){C.value!==V&&(C.value=V)}function v({height:C}){g(l,C),S("size",C)}function y(){if(t.reveal!==!0)return;const{direction:C,position:V,inflectionPoint:be}=e.scroll.value;g(i,C==="up"||V-be<100||e.height.value-m.value-V-l.value<300)}function M(C){f.value===!0&&g(i,!0),a("focusin",C)}q(()=>t.modelValue,C=>{S("space",C),g(i,!0),e.animate()}),q(u,C=>{S("offset",C)}),q(()=>t.reveal,C=>{C===!1&&g(i,t.modelValue)}),q(i,C=>{e.animate(),a("reveal",C)}),q([l,e.scroll,e.height],y),q(()=>o.screen.height,C=>{e.isContainer.value!==!0&&g(r,C)});const P={};return e.instances.footer=P,t.modelValue===!0&&S("size",l.value),S("space",t.modelValue),S("offset",u.value),Oe(()=>{e.instances.footer===P&&(e.instances.footer=void 0,S("size",0),S("offset",0),S("space",!1))}),()=>{const C=je(n.default,[B(wt,{debounce:0,onResize:v})]);return t.elevated===!0&&C.push(B("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),B("footer",{class:c.value,style:b.value,onFocusin:M},C)}}}),At=N({name:"QInnerLoading",props:{...Ue,...ra,showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(t,{slots:n}){const a=ie(),o=He(t,a.proxy.$q),{transitionProps:e,transitionStyle:l}=da(t),i=w(()=>"q-inner-loading absolute-full column flex-center"+(o.value===!0?" q-inner-loading--dark":"")),r=w(()=>"q-inner-loading__label"+(t.labelClass!==void 0?` ${t.labelClass}`:""));function p(){const u=[B(va,{size:t.size,color:t.color})];return t.label!==void 0&&u.push(B("div",{class:r.value,style:t.labelStyle},[t.label])),u}function m(){return t.showing===!0?B("div",{class:i.value,style:l.value},n.default!==void 0?n.default():p()):null}return()=>B(ca,e.value,m)}}),Ha="data:image/png;base64,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";const ja={xs:2,sm:4,md:6,lg:10,xl:14};function rt(t,n,a){return{transform:n===!0?`translateX(${a.lang.rtl===!0?"-":""}100%) scale3d(${-t},1,1)`:`scale3d(${t},1,1)`}}var dt=N({name:"QLinearProgress",props:{...Ue,...fa,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(t,{slots:n}){const{proxy:a}=ie(),o=He(t,a.$q),e=ma(t,ja),l=w(()=>t.indeterminate===!0||t.query===!0),i=w(()=>t.reverse!==t.query),r=w(()=>({...e.value!==null?e.value:{},"--q-linear-progress-speed":`${t.animationSpeed}ms`})),p=w(()=>"q-linear-progress"+(t.color!==void 0?` text-${t.color}`:"")+(t.reverse===!0||t.query===!0?" q-linear-progress--reverse":"")+(t.rounded===!0?" rounded-borders":"")),m=w(()=>rt(t.buffer!==void 0?t.buffer:1,i.value,a.$q)),u=w(()=>`with${t.instantFeedback===!0?"out":""}-transition`),h=w(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${u.value} q-linear-progress__track--${o.value===!0?"dark":"light"}`+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),f=w(()=>rt(l.value===!0?1:t.value,i.value,a.$q)),c=w(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${u.value} q-linear-progress__model--${l.value===!0?"in":""}determinate`),b=w(()=>({width:`${t.value*100}%`})),S=w(()=>`q-linear-progress__stripe absolute-${t.reverse===!0?"right":"left"} q-linear-progress__stripe--${u.value}`);return()=>{const g=[B("div",{class:h.value,style:m.value}),B("div",{class:c.value,style:f.value})];return t.stripe===!0&&l.value===!1&&g.push(B("div",{class:S.value,style:b.value})),B("div",{class:p.value,style:r.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":t.indeterminate===!0?void 0:t.value},je(n.default,g))}}});const Wa={id:"song-queue-container"},Na=Z({__name:"SongQueue",setup(t){const n=L,a=k([]),o=k(!0);return R(()=>{n.fetchQueue().pipe(he(e=>e.queue),F(e=>{console.log(e),a.value=[...e],o.value=!1,console.log(a.value)})).subscribe()}),(e,l)=>(T(),W("div",Wa,[d(At,{showing:o.value,label:"Loading...","label-class":"text-teal","label-style":"font-size: 2em",size:"lg"},null,8,["showing"]),d(bt,{songs:a.value,mini:!0},null,8,["songs"])]))}});const Ra={class:"row q-pa-sm gt-sm",id:"now-playing-container"},Za={class:"row col-3 no-wrap",id:"song-info"},Ya={class:"column justify-center"},Xa={class:"column now-playing-details justify-center col-shrink"},Ga={class:"text-weight-medium full-width ellipsis"},Ja={class:"text-grey-8 full-width ellipsis"},Ka={class:"row justify-center col-grow"},en={id:"timer-functions",class:"row"},tn={class:"column justify-center"},an={class:"column justify-center q-ml-sm q-mr-sm"},nn={class:"column justify-center"},ln={class:"row justify-end col-3"},on={class:"lt-md column full-width"},un={class:"row"},sn={class:"column justify-center"},rn={class:"column justify-center"},dn={lines:"1"},cn={class:"text-weight-medium"},vn={lines:"1"},fn={class:"text-weight-medium"},mn={class:"row full-width"},hn=Z({__name:"NowPlaying",setup(t){const n=L,a=k(void 0),o=k("NA"),e=k("NA"),l=k(""),i=k(0),r=k(0),p=w(()=>{var c,b;const h=Me(i.value),f=r.value>0?r.value:Math.floor(((b=(c=a.value)==null?void 0:c.duration_ms)!=null?b:0)/1e3);return i.value<f?h:Me(f)}),m=w(()=>{var f,c;const h=r.value>0?r.value:Math.floor(((c=(f=a.value)==null?void 0:f.duration_ms)!=null?c:0)/1e3);return i.value/h}),u=k(!1);return k(!0),R(()=>{setInterval(()=>{(r.value>0||a.value)&&(i.value=i.value+1)},1e3),n.advancedMode.pipe(F(h=>u.value=h)).subscribe(),n.timer.pipe(F(h=>{console.log(`Setting timer to ${h}`),r.value=h,i.value=0})).subscribe(),n.currentPlaybackState.pipe(St(h=>!!h),F(h=>{var c;const f=(b,S=!1)=>{var g;b.id!==((g=a.value)==null?void 0:g.id)&&(S&&(i.value=0),a.value=b,e.value=b.name,o.value=b.artists.map(v=>v.name).join(", "),l.value=b.album.images.reduce((v,y)=>{var M,P;return((M=v.width)!=null?M:0)<((P=y.width)!=null?P:0)?v:y}).url,n.addSongToPlayed(b))};if(h.item&&h.item.type=="track"){const b=h.item;r.value===0?(i.value=((c=h.progress_ms)!=null?c:0)/1e3,f(b)):f(b,!0)}})).subscribe()}),(h,f)=>{var c,b,S;return T(),W(ue,null,[A("div",Ra,[A("div",Za,[A("div",Ya,[d(ne,{rounded:"",class:"q-mr-md",id:"current-album"},{default:_(()=>[d(Ee,{src:l.value},null,8,["src"])]),_:1})]),A("div",Xa,[A("div",Ga,[d(le,null,{default:_(()=>{var g;return[D(E((g=a.value)==null?void 0:g.name),1)]}),_:1}),D(" "+E((c=a.value)==null?void 0:c.name),1)]),A("div",Ja,E(o.value),1)])]),A("div",Ka,[A("div",en,[A("div",tn,E(p.value),1),A("div",an,[d(dt,{value:m.value,rounded:"","track-color":"grey",id:"timer"},null,8,["value"])]),A("div",nn,E(r.value>0?oe(Me)(r.value):a.value?oe(ha)(a.value.duration_ms):"0:00"),1)])]),A("div",ln,[d(O,{size:"lg",flat:"",dense:"",round:"",icon:"format_list_numbered"},{default:_(()=>[d(le,null,{default:_(()=>[D("Song Queue")]),_:1}),d(yt,{class:"bg-grey-9"},{default:_(()=>[d(Na)]),_:1})]),_:1})])]),A("div",on,[A("div",un,[A("div",sn,[d(ne,{rounded:"",class:"q-ma-sm",id:"current-album"},{default:_(()=>[d(Ee,{src:l.value},null,8,["src"])]),_:1})]),A("div",rn,[A("div",dn,[A("span",cn,E((b=a.value)==null?void 0:b.name),1)]),A("div",vn,[A("span",fn,E((S=a.value)==null?void 0:S.artists.map(g=>g.name).join(", ")),1)])])]),A("div",mn,[d(dt,{value:m.value,rounded:"",color:"purple","track-color":"orange",id:"timer-sm"},null,8,["value"])])])],64)}}});var gn=N({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(t,{slots:n}){const a=w(()=>{const o=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(e=>t[e]===!0).map(e=>`q-btn-group--${e}`).join(" ");return`q-btn-group row no-wrap${o.length!==0?" "+o:""}`+(t.spread===!0?" q-btn-group--spread":" inline")});return()=>B("div",{class:a.value},pt(n.default))}}),pn=N({name:"QBtnToggle",props:{...ga,modelValue:{required:!0},options:{type:Array,required:!0,validator:t=>t.every(n=>("label"in n||"icon"in n||"slot"in n)&&"value"in n)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(t,{slots:n,emit:a}){const o=w(()=>t.options.find(f=>f.value===t.modelValue)!==void 0),e=w(()=>({type:"hidden",name:t.name,value:t.modelValue})),l=ba(e),i=w(()=>pa(t)),r=w(()=>({rounded:t.rounded,dense:t.dense,...i.value})),p=w(()=>t.options.map((f,c)=>{const{attrs:b,value:S,slot:g,...v}=f;return{slot:g,props:{key:c,"aria-pressed":S===t.modelValue?"true":"false",...b,...v,...r.value,disable:t.disable===!0||v.disable===!0,color:S===t.modelValue?u(v,"toggleColor"):u(v,"color"),textColor:S===t.modelValue?u(v,"toggleTextColor"):u(v,"textColor"),noCaps:u(v,"noCaps")===!0,noWrap:u(v,"noWrap")===!0,size:u(v,"size"),padding:u(v,"padding"),ripple:u(v,"ripple"),stack:u(v,"stack")===!0,stretch:u(v,"stretch")===!0,onClick(y){m(S,f,y)}}}}));function m(f,c,b){t.readonly!==!0&&(t.modelValue===f?t.clearable===!0&&(a("update:modelValue",null,null),a("clear")):a("update:modelValue",f,c),a("click",b))}function u(f,c){return f[c]===void 0?t[c]:f[c]}function h(){const f=p.value.map(c=>B(O,c.props,c.slot!==void 0?n[c.slot]:void 0));return t.name!==void 0&&t.disable!==!0&&o.value===!0&&l(f,"push"),je(n.default,f)}return()=>B(gn,{class:"q-btn-toggle",...i.value,rounded:t.rounded,stretch:t.stretch,glossy:t.glossy,spread:t.spread},h)}});const bn={key:0},yn={class:"playback-update-container"},wn={class:"spaced-inputs"},_n={class:"row justify-around q-mb-sm"},Cn={key:1},kn={class:"q-ma-sm"},Sn=Z({__name:"PlaybackUpdater",setup(t){const n=k(!1),a=k(""),o=k(30),e=k(0),l=k(0),i=k(!1);let r;function p(){return e.value<0&&Math.abs(e.value)<o.value}function m(g){return g>0?L.pause().pipe(za(g*1e3)):at("")}function u(g=!1){console.log("clearing"),r&&r.unsubscribe(),g&&(K.msgSuccess("Playback Updated","Settings cleared."),o.value=30,e.value=0,l.value=0,i.value=!1,L.timer.next(0))}function h(g,v,y,M=!1){let P=g;console.log(`Scrubber ${g}, Playback ${v}, Pause ${y}`),parseInt(g)+parseInt(v)===0&&(console.info("Scrubber and playback will cancel out, adjusting by 5 seconds."),P-=5),u(),r=kt(v*1e3).pipe(ee(()=>m(y).pipe(ee(()=>L.fetchQueue().pipe(he(C=>C.queue.at(0)))),ee(C=>L.nextTrack().pipe(he(()=>C))),ee(C=>P>0?L.scrubToSeconds(P):P<0&&C?(console.info("Going to last "+Math.abs(P)+" seconds"),L.scrubToSeconds(Math.round(C.duration_ms/1e3)-Math.abs(P))):at(!0)),ee(()=>L.fetchPlaybackState())))).subscribe(()=>{K.msgSuccess("Playback Updated",`Skipped song, and scrubbed to ${g} seconds`),h(g,v,y)}),M&&(L.timer.next(o.value),K.msgSuccess("Playback Update","Settings changed."),i.value=!0)}q(a,g=>{L.playbackMode.next(g),g!=="clear"?(g=="trivia"?(o.value=20,l.value=1,e.value=0):g=="bingo"&&(o.value=30,l.value=0,e.value=0),h(e.value,o.value,l.value,!0)):u(!0)});const f=k(null),c=async()=>{f.value=await navigator.wakeLock.request("screen"),K.msgInfo("Wake Lock enabled","")};var b=void 0;function S(){const g=document.createElement("div");g.style.width="1px",g.style.height="1px",g.style.position="absolute",g.style.top="-1000px",document.body.appendChild(g),b=setInterval(()=>{const v=new MouseEvent("click");g.dispatchEvent(v)},15e3)}return R(()=>{"wakeLock"in navigator?c():(K.msgInfo("Wake Lock","Using Click Method"),S()),L.advancedMode.pipe(F(g=>n.value=g)).subscribe()}),ya(()=>{b&&clearInterval(b)}),(g,v)=>n.value?(T(),W("div",bn,[A("div",yn,[A("div",wn,[d(te,{square:"",outlined:"",modelValue:o.value,"onUpdate:modelValue":v[0]||(v[0]=y=>o.value=y),label:"Song Timer",type:"number",min:"0",oninput:`this.value =
 !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null`},null,8,["modelValue"]),d(te,{square:"",outlined:"",modelValue:e.value,"onUpdate:modelValue":v[1]||(v[1]=y=>e.value=y),label:"Position In Song",type:"number"},null,8,["modelValue"]),d(te,{square:"",outlined:"",modelValue:l.value,"onUpdate:modelValue":v[2]||(v[2]=y=>l.value=y),label:"Time between songs",type:"number",min:"0",oninput:`this.value =
 !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null`},null,8,["modelValue"])]),A("div",_n,[d(O,{disable:p(),onClick:v[3]||(v[3]=y=>h(e.value,o.value,l.value,!0)),color:"primary"},{default:_(()=>[D(" Update! ")]),_:1},8,["disable"]),d(O,{disable:!i.value,onClick:v[4]||(v[4]=y=>u(!0)),color:"warning"},{default:_(()=>[D(" Clear! ")]),_:1},8,["disable"])])])])):(T(),W("div",Cn,[A("div",kn,[d(pn,{modelValue:a.value,"onUpdate:modelValue":v[5]||(v[5]=y=>a.value=y),spread:"","no-caps":"",rounded:"",class:"bg-grey-9",options:[{label:"Bingo Mode",value:"bingo",icon:a.value=="trivia"?"stop":"play_arrow"},{label:"Trivia Mode",value:"trivia",icon:a.value=="bingo"?"stop":"play_arrow"},{label:"Clear Timer",value:"clear",icon:"cancel"}]},null,8,["modelValue","options"])])]))}});var ct;const xn=typeof window!="undefined",vt=()=>{};xn&&((ct=window==null?void 0:window.navigator)==null?void 0:ct.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function ft(t){return typeof t=="function"?t():oe(t)}function An(t,n){function a(...o){return new Promise((e,l)=>{Promise.resolve(t(()=>n.apply(this,o),{fn:n,thisArg:this,args:o})).then(e).catch(l)})}return a}function qn(t,n={}){let a,o,e=vt;const l=r=>{clearTimeout(r),e(),e=vt};return r=>{const p=ft(t),m=ft(n.maxWait);return a&&l(a),p<=0||m!==void 0&&m<=0?(o&&(l(o),o=null),Promise.resolve(r())):new Promise((u,h)=>{e=n.rejectOnCancel?h:u,m&&!o&&(o=setTimeout(()=>{a&&l(a),o=null,u(r())},m)),a=setTimeout(()=>{o&&l(o),o=null,u(r())},p)})}}function qt(t,n=200,a={}){return An(qn(n,a),t)}const Bn=A("span",{class:"text-weight-medium"}," Add New Playlist ",-1),Mn={class:"text-weight-medium"},Vn={class:"text-grey-8"},Ln={class:"text-grey-8 q-gutter-xs"},Pn=Z({__name:"PlaylistList",setup(t){let n=[];const a=k([]),o=k(""),e=L,l=k(void 0),i=k(void 0),r=qt(()=>{console.log("Filtering with: "+o.value),o.value||(a.value=n),a.value=n.filter(u=>u.name.toLowerCase().includes(o.value.toLowerCase()))},300);R(()=>{e.fetchPlaylists().pipe(F(u=>{n=u,a.value=u,e.loading=!1})).subscribe(),e.createdPlaylist.pipe(St(u=>!!u),F(u=>{n.push(u),a.value=[u,...a.value]})).subscribe()});function p(u){l.value="playlist",i.value=u==null?void 0:u.id,console.log("Open the dialog, with mode 'playlist', passing in the playlist id")}function m(u){l.value="bingo",i.value=u==null?void 0:u.id,console.log("Open the dialog, with mode 'bingo', passing in the playlist id")}return(u,h)=>(T(),W(ue,null,[d(te,{square:"",outlined:"",modelValue:o.value,"onUpdate:modelValue":[h[0]||(h[0]=f=>o.value=f),oe(r)],label:"Filter Playlists"},{prepend:_(()=>[d(me,{name:"search"})]),_:1},8,["modelValue","onUpdate:modelValue"]),d(nt,{bordered:"",class:"rounded-borders"},{default:_(()=>[$e((T(),Te(ve,{clickable:"",onClick:h[1]||(h[1]=f=>p())},{default:_(()=>[d(j,{avatar:""},{default:_(()=>[d(ne,{rounded:"",color:"green","text-color":"white",icon:"add",size:"48px"})]),_:1}),d(j,null,{default:_(()=>[d(Ve,null,{default:_(()=>[Bn]),_:1})]),_:1})]),_:1})),[[lt]]),(T(!0),W(ue,null,wa(a.value,f=>$e((T(),Te(ve,{key:f.id,clickable:"",to:"/dashboard/"+f.id},{default:_(()=>[d(ne,{rounded:"",class:"q-mr-md"},{default:_(()=>{var c;return[d(Ee,{src:(c=f.images.at(0))==null?void 0:c.url},null,8,["src"])]}),_:2},1024),d(j,null,{default:_(()=>[d(Ve,{lines:"1"},{default:_(()=>[A("span",Mn,[d(le,null,{default:_(()=>[D(E(f.name),1)]),_:2},1024),D(" "+E(f.name),1)])]),_:2},1024),d(Ve,{lines:"1"},{default:_(()=>[A("span",Vn,[d(le,null,{default:_(()=>[D(E(f.description),1)]),_:2},1024),D(" "+E(f.description),1)])]),_:2},1024)]),_:2},1024),d(j,{side:""},{default:_(()=>[A("div",Ln,[d(O,{size:"12px",flat:"",dense:"",round:"",icon:"more_vert",onClick:h[2]||(h[2]=Ca(()=>{},["prevent"]))},{default:_(()=>[d(yt,{"auto-close":"",class:"bg-grey-9"},{default:_(()=>[d(nt,null,{default:_(()=>[d(ve,{clickable:"",onClick:c=>m(f)},{default:_(()=>[d(j,{avatar:""},{default:_(()=>[d(me,{name:"note_add"})]),_:1}),d(j,null,{default:_(()=>[D("Create Bingo Cards")]),_:1})]),_:2},1032,["onClick"]),d(ve,{clickable:"",onClick:c=>p(f)},{default:_(()=>[d(j,{avatar:""},{default:_(()=>[d(me,{name:"playlist_add"})]),_:1}),d(j,null,{default:_(()=>[D("Create Subplaylist")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1032,["to"])),[[lt]])),128))]),_:1}),d(_a,{dialog_mode:l.value,playlist:i.value},null,8,["dialog_mode","playlist"])],64))}}),In=Z({__name:"RecentlyPlayed",setup(t){const n=L;let a=k([]);const o=k(a.value.map(r=>r.song)),e=k(""),l=qt(()=>{console.log("Filtering with: "+e.value),e.value||(o.value=a.value.map(r=>r.song)),o.value=a.value.map(r=>r.song).filter(r=>r.name.toLowerCase().includes(e.value.toLowerCase()))},300);function i(){n.clearRecentlyPlayed()}return q(()=>a.value,r=>{e.value||(o.value=r.map(p=>p.song))},{deep:!0}),R(()=>{n.storeSessionPlayed.pipe(F(r=>{a.value=[...r]})).subscribe()}),(r,p)=>(T(),W(ue,null,[d(te,{square:"",outlined:"",modelValue:e.value,"onUpdate:modelValue":[p[1]||(p[1]=m=>e.value=m),oe(l)],label:"Filter Songs"},{prepend:_(()=>[d(me,{name:"search"})]),append:_(()=>[d(O,{round:"",dense:"",flat:"",icon:"clear",onClick:p[0]||(p[0]=m=>i())},{default:_(()=>[d(le,null,{default:_(()=>[D("Clear Recently Played Songs")]),_:1})]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"]),d(bt,{songs:o.value,mini:!0},null,8,["songs"])],64))}}),Dn=A("h3",null,"Settings",-1),$n=A("div",null,"Setting here",-1),En=Z({__name:"BingoSettings",setup(t){const n=L,a=k(!1);return q(a,o=>{n.advancedMode.next(o)}),(o,e)=>(T(),W(ue,null,[Dn,d(ka,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value=l),label:"Advanced Mode"},null,8,["modelValue"]),$n],64))}}),Tn=A("img",{src:Ha},null,-1),On=Z({__name:"MainLayout",setup(t){const n=L,a=k(0),o=k(!1),e=k(!1),l=k(!1),i=k(!1);function r(){o.value=!o.value}function p(){l.value&&!e.value&&m(),e.value=!e.value}function m(){e.value&&!l.value&&p(),l.value=!l.value}return R(()=>{n.loadingState.pipe(F(u=>{i.value=u})).subscribe(),setInterval(()=>{a.value=Math.round((n.expiry-Date.now())/1e3/60)},5e3)}),(u,h)=>{const f=Sa("router-view");return T(),Te(qa,{view:"hHh LpR fFf"},{default:_(()=>[d(Fa,{elevated:"",class:"bg-primary text-white"},{default:_(()=>[d(ot,null,{default:_(()=>[d(O,{dense:"",flat:"",round:"",icon:"menu",onClick:r}),d(xa,null,{default:_(()=>[d(ne,null,{default:_(()=>[Tn]),_:1}),D(" Musical Bingo ")]),_:1}),d(O,{dense:"",flat:"",round:"",icon:"settings",onClick:m}),d(O,{dense:"",flat:"",round:"",icon:"menu",onClick:p})]),_:1})]),_:1}),d(Ie,{"show-if-above":"",modelValue:o.value,"onUpdate:modelValue":h[0]||(h[0]=c=>o.value=c),side:"left",bordered:""},{default:_(()=>[d(Pn)]),_:1},8,["modelValue"]),d(Ie,{"show-if-above":"",modelValue:e.value,"onUpdate:modelValue":h[1]||(h[1]=c=>e.value=c),side:"right",bordered:""},{default:_(()=>[d(In)]),_:1},8,["modelValue"]),d(Ie,{modelValue:l.value,"onUpdate:modelValue":h[2]||(h[2]=c=>l.value=c),side:"right",bordered:""},{default:_(()=>[d(En)]),_:1},8,["modelValue"]),d(Aa,null,{default:_(()=>[d(Sn),d(f)]),_:1}),d(Ua,{elevated:"",class:"bg-grey-10 text-white"},{default:_(()=>[d(ot,null,{default:_(()=>[d(hn)]),_:1})]),_:1}),d(At,{showing:i.value,label:"Loading...","label-class":"text-teal","label-style":"font-size: 2em",size:"lg"},null,8,["showing"])]),_:1})}}});export{On as default};
