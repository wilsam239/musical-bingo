import{Q as _,a as h,b as $,c as w,d as y}from"./QLayout.851a50d3.js";import{c as b,u as S,a as Q,b as r,h as C,g as q,d as x,e as k,f as B,i as I,r as p,j as D,k as L,o as z,w as A,l as R,m as V,n as l,p as n,q as f,s as N,Q as U,t as j,v as P,S as F}from"./index.186fcdf4.js";const M={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},v={xs:2,sm:4,md:8,lg:16,xl:24};var T=b({name:"QSeparator",props:{...S,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=q(),s=Q(e,t.proxy.$q),i=r(()=>e.vertical===!0?"vertical":"horizontal"),u=r(()=>` q-separator--${i.value}`),c=r(()=>e.inset!==!1?`${u.value}-${M[e.inset]}`:""),m=r(()=>`q-separator${u.value}${c.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(s.value===!0?" q-separator--dark":"")),a=r(()=>{const o={};if(e.size!==void 0&&(o[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const d=e.spaced===!0?`${v.md}px`:e.spaced in v?`${v[e.spaced]}px`:e.spaced,g=e.vertical===!0?["Left","Right"]:["Top","Bottom"];o[`margin${g[0]}`]=o[`margin${g[1]}`]=d}return o});return()=>C("hr",{class:m.value,style:a.value,"aria-orientation":i.value})}}),W=b({name:"QCardActions",props:{...x,vertical:Boolean},setup(e,{slots:t}){const s=k(e),i=r(()=>`q-card__actions ${s.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>C("div",{class:i.value},B(t.default))}});const H={class:"full-height"},E=f("div",{class:"row items-center no-wrap"},[f("div",{class:"col"},[f("div",{class:"text-h6"},"Spotify App Client ID")])],-1),K=I({__name:"LoginLayout",setup(e){const t=p("id"),s=F,i=D(),u=L();let c,m=p(!0);return z(()=>{let a=window.location.href;a.includes("musical-bingo/#")||(console.info("Fixing URL to have a hash."),a=a.replace("musical-bingo/","musical-bingo/#/"),window.location.href=decodeURIComponent(a)),c=u.query.code,c?s.loginWithCode(c).subscribe(()=>{i.push("/dashboard")}):m.value=!1,t.value=s.clientID,s.isLoggedIn&&i.push("/dashboard")}),A(t,a=>{s.clientID=a}),(a,o)=>(R(),V(y,{view:"hHh lpR fFf",class:"column justify-center"},{default:l(()=>[n(w,{class:"fit row wrap justify-center items-start content-start"},{default:l(()=>[f("div",H,[n(_,{flat:"",bordered:"",class:N(["my-card",a.$q.dark.isActive?"bg-grey-9":"bg-grey-2"])},{default:l(()=>[n(h,null,{default:l(()=>[E]),_:1}),n(h,null,{default:l(()=>[n($,{square:"",outlined:"",modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=d=>t.value=d),label:"Spotify Web App Client ID"},null,8,["modelValue"])]),_:1}),n(T),n(W,null,{default:l(()=>[n(U,{flat:"",onClick:o[1]||(o[1]=d=>j(s).loginNoCode()),disable:!t.value},{default:l(()=>[P("Login")]),_:1},8,["disable"])]),_:1})]),_:1},8,["class"])])]),_:1})]),_:1}))}});export{K as default};
