import{_ as Ee,U as jt,V as Ye,W as Xe,X as Wt,Y as ht,Z as gt,$ as Nt,a0 as Rt,a1 as Zt,a2 as Yt,a3 as be,a4 as ae,a5 as Xt,a6 as he,a7 as pt,c as N,B as Oe,C as F,D as Fe,r as k,b,w as q,G as ze,a8 as Gt,h as V,g as ue,a9 as Jt,aa as K,ab as Ge,H as Kt,ac as Je,ad as ea,ae as de,af as qe,ag as Ke,ah as Be,ai as $e,aj as Ve,ak as ta,al as aa,am as na,u as Ue,an as la,a as He,ao as oa,ap as ua,aq as ia,o as R,N as et,ar as ge,as as tt,A as bt,at as sa,M as ra,T as je,au as da,av as ca,aw as va,ax as fa,ay as ma,az as ha,d as Z,t as z,i as Q,aA as U,l as r,aB as yt,S as L,m as A,k as _,aC as Qe,aD as ne,x as D,aE as T,aF as le,v as oe,aG as Me,aH as ga,aI as wt,s as E,aJ as G,aK as pa,aL as ba,aM as ya,q as te,Q as wa,p as at,aN as _a,aO as ce,aP as Ca,aQ as nt,aR as me,j as Te,aS as W,aT as Le,aU as ve,aV as ka,aW as lt,aX as Sa,aY as ot,aZ as xa,a_ as Aa,a$ as qa,b0 as ut,b1 as Ba}from"./index.3d772bca.js";import{c as _t,Q as Va,a as Ma,b as La}from"./QLayout.e6d27c20.js";var Ct={now:function(){return(Ct.delegate||Date).now()},delegate:void 0},Pa=function(t){Ee(n,t);function n(a,o){return t.call(this)||this}return n.prototype.schedule=function(a,o){return this},n}(jt),pe={setInterval:function(t,n){for(var a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];var e=pe.delegate;return e!=null&&e.setInterval?e.setInterval.apply(e,Ye([t,n],Xe(a))):setInterval.apply(void 0,Ye([t,n],Xe(a)))},clearInterval:function(t){var n=pe.delegate;return((n==null?void 0:n.clearInterval)||clearInterval)(t)},delegate:void 0},Ia=function(t){Ee(n,t);function n(a,o){var e=t.call(this,a,o)||this;return e.scheduler=a,e.work=o,e.pending=!1,e}return n.prototype.schedule=function(a,o){var e;if(o===void 0&&(o=0),this.closed)return this;this.state=a;var l=this.id,i=this.scheduler;return l!=null&&(this.id=this.recycleAsyncId(i,l,o)),this.pending=!0,this.delay=o,this.id=(e=this.id)!==null&&e!==void 0?e:this.requestAsyncId(i,this.id,o),this},n.prototype.requestAsyncId=function(a,o,e){return e===void 0&&(e=0),pe.setInterval(a.flush.bind(a,this),e)},n.prototype.recycleAsyncId=function(a,o,e){if(e===void 0&&(e=0),e!=null&&this.delay===e&&this.pending===!1)return o;o!=null&&pe.clearInterval(o)},n.prototype.execute=function(a,o){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var e=this._execute(a,o);if(e)return e;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(a,o){var e=!1,l;try{this.work(a)}catch(i){e=!0,l=i||new Error("Scheduled action threw falsy error")}if(e)return this.unsubscribe(),l},n.prototype.unsubscribe=function(){if(!this.closed){var a=this,o=a.id,e=a.scheduler,l=e.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Wt(l,this),o!=null&&(this.id=this.recycleAsyncId(e,o,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},n}(Pa),it=function(){function t(n,a){a===void 0&&(a=t.now),this.schedulerActionCtor=n,this.now=a}return t.prototype.schedule=function(n,a,o){return a===void 0&&(a=0),new this.schedulerActionCtor(this,n).schedule(o,a)},t.now=Ct.now,t}(),Da=function(t){Ee(n,t);function n(a,o){o===void 0&&(o=it.now);var e=t.call(this,a,o)||this;return e.actions=[],e._active=!1,e}return n.prototype.flush=function(a){var o=this.actions;if(this._active){o.push(a);return}var e;this._active=!0;do if(e=a.execute(a.state,a.delay))break;while(a=o.shift());if(this._active=!1,e){for(;a=o.shift();)a.unsubscribe();throw e}},n}(it),kt=new Da(Ia),$a=kt,Qa=new ht(function(t){return t.complete()});function Ta(t){return t instanceof Date&&!isNaN(t)}function Ea(t){return t===void 0&&(t=1/0),gt(Nt,t)}function Oa(){return Ea(1)}function Fa(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Oa()(Rt(t,Zt(t)))}function St(t,n,a){t===void 0&&(t=0),a===void 0&&(a=$a);var o=-1;return n!=null&&(Yt(n)?a=n:o=n),new ht(function(e){var l=Ta(t)?+t-a.now():t;l<0&&(l=0);var i=0;return a.schedule(function(){e.closed||(e.next(i++),0<=o?this.schedule(void 0,o):e.complete())},l)})}function xt(t,n){return be(function(a,o){var e=0;a.subscribe(ae(o,function(l){return t.call(n,l,e++)&&o.next(l)}))})}function st(t){return t<=0?function(){return Qa}:be(function(n,a){var o=0;n.subscribe(ae(a,function(e){++o<=t&&(a.next(e),t<=o&&a.complete())}))})}function za(){return be(function(t,n){t.subscribe(ae(n,Xt))})}function Ua(t){return he(function(){return t})}function At(t,n){return n?function(a){return Fa(n.pipe(st(1),za()),a.pipe(At(t)))}:gt(function(a,o){return pt(t(a,o)).pipe(st(1),Ua(a))})}function Ha(t,n){n===void 0&&(n=kt);var a=St(t,n);return At(function(){return a})}function ee(t,n){return be(function(a,o){var e=null,l=0,i=!1,d=function(){return i&&!e&&o.complete()};a.subscribe(ae(o,function(g){e==null||e.unsubscribe();var m=0,u=l++;pt(t(g,u)).subscribe(e=ae(o,function(h){return o.next(n?n(g,h,u,m++):h)},function(){e=null,d()}))},function(){i=!0,d()}))})}var ja=N({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:n,emit:a}){const{proxy:{$q:o}}=ue(),e=Oe(Fe,F);if(e===F)return console.error("QHeader needs to be child of QLayout"),F;const l=k(parseInt(t.heightHint,10)),i=k(!0),d=b(()=>t.reveal===!0||e.view.value.indexOf("H")>-1||o.platform.is.ios&&e.isContainer.value===!0),g=b(()=>{if(t.modelValue!==!0)return 0;if(d.value===!0)return i.value===!0?l.value:0;const C=l.value-e.scroll.value.position;return C>0?C:0}),m=b(()=>t.modelValue!==!0||d.value===!0&&i.value!==!0),u=b(()=>t.modelValue===!0&&m.value===!0&&t.reveal===!0),h=b(()=>"q-header q-layout__section--marginal "+(d.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(m.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),v=b(()=>{const C=e.rows.value.top,B={};return C[0]==="l"&&e.left.space===!0&&(B[o.lang.rtl===!0?"right":"left"]=`${e.left.size}px`),C[2]==="r"&&e.right.space===!0&&(B[o.lang.rtl===!0?"left":"right"]=`${e.right.size}px`),B});function c(C,B){e.update("header",C,B)}function p(C,B){C.value!==B&&(C.value=B)}function w({height:C}){p(l,C),c("size",C)}function y(C){u.value===!0&&p(i,!0),a("focusin",C)}q(()=>t.modelValue,C=>{c("space",C),p(i,!0),e.animate()}),q(g,C=>{c("offset",C)}),q(()=>t.reveal,C=>{C===!1&&p(i,t.modelValue)}),q(i,C=>{e.animate(),a("reveal",C)}),q(e.scroll,C=>{t.reveal===!0&&p(i,C.direction==="up"||C.position<=t.revealOffset||C.position-C.inflectionPoint<100)});const f={};return e.instances.header=f,t.modelValue===!0&&c("size",l.value),c("space",t.modelValue),c("offset",g.value),ze(()=>{e.instances.header===f&&(e.instances.header=void 0,c("size",0),c("offset",0),c("space",!1))}),()=>{const C=Gt(n.default,[]);return t.elevated===!0&&C.push(V("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),C.push(V(_t,{debounce:0,onResize:w})),V("header",{class:h.value,style:v.value,onFocusin:y},C)}}});function Pe(t,n,a){const o=$e(t);let e,l=o.left-n.event.x,i=o.top-n.event.y,d=Math.abs(l),g=Math.abs(i);const m=n.direction;m.horizontal===!0&&m.vertical!==!0?e=l<0?"left":"right":m.horizontal!==!0&&m.vertical===!0?e=i<0?"up":"down":m.up===!0&&i<0?(e="up",d>g&&(m.left===!0&&l<0?e="left":m.right===!0&&l>0&&(e="right"))):m.down===!0&&i>0?(e="down",d>g&&(m.left===!0&&l<0?e="left":m.right===!0&&l>0&&(e="right"))):m.left===!0&&l<0?(e="left",d<g&&(m.up===!0&&i<0?e="up":m.down===!0&&i>0&&(e="down"))):m.right===!0&&l>0&&(e="right",d<g&&(m.up===!0&&i<0?e="up":m.down===!0&&i>0&&(e="down")));let u=!1;if(e===void 0&&a===!1){if(n.event.isFirst===!0||n.event.lastDir===void 0)return{};e=n.event.lastDir,u=!0,e==="left"||e==="right"?(o.left-=l,d=0,l=0):(o.top-=i,g=0,i=0)}return{synthetic:u,payload:{evt:t,touch:n.event.mouse!==!0,mouse:n.event.mouse===!0,position:o,direction:e,isFirst:n.event.isFirst,isFinal:a===!0,duration:Date.now()-n.event.time,distance:{x:d,y:g},offset:{x:l,y:i},delta:{x:o.left-n.event.lastX,y:o.top-n.event.lastY}}}}let Wa=0;var Ie=Jt({name:"touch-pan",beforeMount(t,{value:n,modifiers:a}){if(a.mouse!==!0&&K.has.touch!==!0)return;function o(l,i){a.mouse===!0&&i===!0?ta(l):(a.stop===!0&&Be(l),a.prevent===!0&&Ke(l))}const e={uid:"qvtp_"+Wa++,handler:n,modifiers:a,direction:Ge(a),noop:Kt,mouseStart(l){Je(l,e)&&ea(l)&&(de(e,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),e.start(l,!0))},touchStart(l){if(Je(l,e)){const i=l.target;de(e,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","passiveCapture"],[i,"touchend","end","passiveCapture"]]),e.start(l)}},start(l,i){if(K.is.firefox===!0&&qe(t,!0),e.lastEvt=l,i===!0||a.stop===!0){if(e.direction.all!==!0&&(i!==!0||e.modifiers.mouseAllDir!==!0&&e.modifiers.mousealldir!==!0)){const m=l.type.indexOf("mouse")>-1?new MouseEvent(l.type,l):new TouchEvent(l.type,l);l.defaultPrevented===!0&&Ke(m),l.cancelBubble===!0&&Be(m),Object.assign(m,{qKeyEvent:l.qKeyEvent,qClickOutside:l.qClickOutside,qAnchorHandled:l.qAnchorHandled,qClonedBy:l.qClonedBy===void 0?[e.uid]:l.qClonedBy.concat(e.uid)}),e.initialEvent={target:l.target,event:m}}Be(l)}const{left:d,top:g}=$e(l);e.event={x:d,y:g,time:Date.now(),mouse:i===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:d,lastY:g}},move(l){if(e.event===void 0)return;const i=$e(l),d=i.left-e.event.x,g=i.top-e.event.y;if(d===0&&g===0)return;e.lastEvt=l;const m=e.event.mouse===!0,u=()=>{o(l,m);let c;a.preserveCursor!==!0&&a.preservecursor!==!0&&(c=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),m===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),aa(),e.styleCleanup=p=>{if(e.styleCleanup=void 0,c!==void 0&&(document.documentElement.style.cursor=c),document.body.classList.remove("non-selectable"),m===!0){const w=()=>{document.body.classList.remove("no-pointer-events--children")};p!==void 0?setTimeout(()=>{w(),p()},50):w()}else p!==void 0&&p()}};if(e.event.detected===!0){e.event.isFirst!==!0&&o(l,e.event.mouse);const{payload:c,synthetic:p}=Pe(l,e,!1);c!==void 0&&(e.handler(c)===!1?e.end(l):(e.styleCleanup===void 0&&e.event.isFirst===!0&&u(),e.event.lastX=c.position.left,e.event.lastY=c.position.top,e.event.lastDir=p===!0?void 0:c.direction,e.event.isFirst=!1));return}if(e.direction.all===!0||m===!0&&(e.modifiers.mouseAllDir===!0||e.modifiers.mousealldir===!0)){u(),e.event.detected=!0,e.move(l);return}const h=Math.abs(d),v=Math.abs(g);h!==v&&(e.direction.horizontal===!0&&h>v||e.direction.vertical===!0&&h<v||e.direction.up===!0&&h<v&&g<0||e.direction.down===!0&&h<v&&g>0||e.direction.left===!0&&h>v&&d<0||e.direction.right===!0&&h>v&&d>0?(e.event.detected=!0,e.move(l)):e.end(l,!0))},end(l,i){if(e.event!==void 0){if(Ve(e,"temp"),K.is.firefox===!0&&qe(t,!1),i===!0)e.styleCleanup!==void 0&&e.styleCleanup(),e.event.detected!==!0&&e.initialEvent!==void 0&&e.initialEvent.target.dispatchEvent(e.initialEvent.event);else if(e.event.detected===!0){e.event.isFirst===!0&&e.handler(Pe(l===void 0?e.lastEvt:l,e).payload);const{payload:d}=Pe(l===void 0?e.lastEvt:l,e,!0),g=()=>{e.handler(d)};e.styleCleanup!==void 0?e.styleCleanup(g):g()}e.event=void 0,e.initialEvent=void 0,e.lastEvt=void 0}}};if(t.__qtouchpan=e,a.mouse===!0){const l=a.mouseCapture===!0||a.mousecapture===!0?"Capture":"";de(e,"main",[[t,"mousedown","mouseStart",`passive${l}`]])}K.has.touch===!0&&de(e,"main",[[t,"touchstart","touchStart",`passive${a.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,n){const a=t.__qtouchpan;a!==void 0&&(n.oldValue!==n.value&&(typeof value!="function"&&a.end(),a.handler=n.value),a.direction=Ge(n.modifiers))},beforeUnmount(t){const n=t.__qtouchpan;n!==void 0&&(n.event!==void 0&&n.end(),Ve(n,"main"),Ve(n,"temp"),K.is.firefox===!0&&qe(t,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete t.__qtouchpan)}});function fe(t,n,a){return a<=n?n:Math.min(a,Math.max(n,t))}const rt=150;var De=N({name:"QDrawer",inheritAttrs:!1,props:{...na,...Ue,side:{type:String,default:"left",validator:t=>["left","right"].includes(t)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:t=>["default","desktop","mobile"].includes(t),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...la,"onLayout","miniState"],setup(t,{slots:n,emit:a,attrs:o}){const e=ue(),{proxy:{$q:l}}=e,i=He(t,l),{preventBodyScroll:d}=sa(),{registerTimeout:g,removeTimeout:m}=oa(),u=Oe(Fe,F);if(u===F)return console.error("QDrawer needs to be child of QLayout"),F;let h,v=null,c;const p=k(t.behavior==="mobile"||t.behavior!=="desktop"&&u.totalWidth.value<=t.breakpoint),w=b(()=>t.mini===!0&&p.value!==!0),y=b(()=>w.value===!0?t.miniWidth:t.width),f=k(t.showIfAbove===!0&&p.value===!1?!0:t.modelValue===!0),C=b(()=>t.persistent!==!0&&(p.value===!0||Mt.value===!0));function B(s,x){if(ye(),s!==!1&&u.animate(),$(0),p.value===!0){const I=u.instances[se.value];I!==void 0&&I.belowBreakpoint===!0&&I.hide(!1),H(1),u.isContainer.value!==!0&&d(!0)}else H(0),s!==!1&&Se(!1);g(()=>{s!==!1&&Se(!0),x!==!0&&a("show",s)},rt)}function P(s,x){Vt(),s!==!1&&u.animate(),H(0),$(Y.value*y.value),xe(),x!==!0?g(()=>{a("hide",s)},rt):m()}const{show:S,hide:M}=ua({showing:f,hideOnRouteChange:C,handleShow:B,handleHide:P}),{addToHistory:ye,removeFromHistory:Vt}=ia(f,M,C),ie={belowBreakpoint:p,hide:M},O=b(()=>t.side==="right"),Y=b(()=>(l.lang.rtl===!0?-1:1)*(O.value===!0?1:-1)),We=k(0),X=k(!1),we=k(!1),Ne=k(y.value*Y.value),se=b(()=>O.value===!0?"left":"right"),_e=b(()=>f.value===!0&&p.value===!1&&t.overlay===!1?t.miniToOverlay===!0?t.miniWidth:y.value:0),Ce=b(()=>t.overlay===!0||t.miniToOverlay===!0||u.view.value.indexOf(O.value?"R":"L")>-1||l.platform.is.ios===!0&&u.isContainer.value===!0),J=b(()=>t.overlay===!1&&f.value===!0&&p.value===!1),Mt=b(()=>t.overlay===!0&&f.value===!0&&p.value===!1),Lt=b(()=>"fullscreen q-drawer__backdrop"+(f.value===!1&&X.value===!1?" hidden":"")),Pt=b(()=>({backgroundColor:`rgba(0,0,0,${We.value*.4})`})),Re=b(()=>O.value===!0?u.rows.value.top[2]==="r":u.rows.value.top[0]==="l"),It=b(()=>O.value===!0?u.rows.value.bottom[2]==="r":u.rows.value.bottom[0]==="l"),Dt=b(()=>{const s={};return u.header.space===!0&&Re.value===!1&&(Ce.value===!0?s.top=`${u.header.offset}px`:u.header.space===!0&&(s.top=`${u.header.size}px`)),u.footer.space===!0&&It.value===!1&&(Ce.value===!0?s.bottom=`${u.footer.offset}px`:u.footer.space===!0&&(s.bottom=`${u.footer.size}px`)),s}),$t=b(()=>{const s={width:`${y.value}px`,transform:`translateX(${Ne.value}px)`};return p.value===!0?s:Object.assign(s,Dt.value)}),Qt=b(()=>"q-drawer__content fit "+(u.isContainer.value!==!0?"scroll":"overflow-auto")),Tt=b(()=>`q-drawer q-drawer--${t.side}`+(we.value===!0?" q-drawer--mini-animate":"")+(t.bordered===!0?" q-drawer--bordered":"")+(i.value===!0?" q-drawer--dark q-dark":"")+(X.value===!0?" no-transition":f.value===!0?"":" q-layout--prevent-focus")+(p.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${w.value===!0?"mini":"standard"}`+(Ce.value===!0||J.value!==!0?" fixed":"")+(t.overlay===!0||t.miniToOverlay===!0?" q-drawer--on-top":"")+(Re.value===!0?" q-drawer--top-padding":""))),Et=b(()=>{const s=l.lang.rtl===!0?t.side:se.value;return[[Ie,Ut,void 0,{[s]:!0,mouse:!0}]]}),Ot=b(()=>{const s=l.lang.rtl===!0?se.value:t.side;return[[Ie,Ze,void 0,{[s]:!0,mouse:!0}]]}),Ft=b(()=>{const s=l.lang.rtl===!0?se.value:t.side;return[[Ie,Ze,void 0,{[s]:!0,mouse:!0,mouseAllDir:!0}]]});function ke(){Ht(p,t.behavior==="mobile"||t.behavior!=="desktop"&&u.totalWidth.value<=t.breakpoint)}q(p,s=>{s===!0?(h=f.value,f.value===!0&&M(!1)):t.overlay===!1&&t.behavior!=="mobile"&&h!==!1&&(f.value===!0?($(0),H(0),xe()):S(!1))}),q(()=>t.side,(s,x)=>{u.instances[x]===ie&&(u.instances[x]=void 0,u[x].space=!1,u[x].offset=0),u.instances[s]=ie,u[s].size=y.value,u[s].space=J.value,u[s].offset=_e.value}),q(u.totalWidth,()=>{(u.isContainer.value===!0||document.qScrollPrevented!==!0)&&ke()}),q(()=>t.behavior+t.breakpoint,ke),q(u.isContainer,s=>{f.value===!0&&d(s!==!0),s===!0&&ke()}),q(u.scrollbarWidth,()=>{$(f.value===!0?0:void 0)}),q(_e,s=>{j("offset",s)}),q(J,s=>{a("onLayout",s),j("space",s)}),q(O,()=>{$()}),q(y,s=>{$(),Ae(t.miniToOverlay,s)}),q(()=>t.miniToOverlay,s=>{Ae(s,y.value)}),q(()=>l.lang.rtl,()=>{$()}),q(()=>t.mini,()=>{t.noMiniAnimation||t.modelValue===!0&&(zt(),u.animate())}),q(w,s=>{a("miniState",s)});function $(s){s===void 0?et(()=>{s=f.value===!0?0:y.value,$(Y.value*s)}):(u.isContainer.value===!0&&O.value===!0&&(p.value===!0||Math.abs(s)===y.value)&&(s+=Y.value*u.scrollbarWidth.value),Ne.value=s)}function H(s){We.value=s}function Se(s){const x=s===!0?"remove":u.isContainer.value!==!0?"add":"";x!==""&&document.body.classList[x]("q-body--drawer-toggle")}function zt(){v!==null&&clearTimeout(v),e.proxy&&e.proxy.$el&&e.proxy.$el.classList.add("q-drawer--mini-animate"),we.value=!0,v=setTimeout(()=>{v=null,we.value=!1,e&&e.proxy&&e.proxy.$el&&e.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Ut(s){if(f.value!==!1)return;const x=y.value,I=fe(s.distance.x,0,x);if(s.isFinal===!0){I>=Math.min(75,x)===!0?S():(u.animate(),H(0),$(Y.value*x)),X.value=!1;return}$((l.lang.rtl===!0?O.value!==!0:O.value)?Math.max(x-I,0):Math.min(0,I-x)),H(fe(I/x,0,1)),s.isFirst===!0&&(X.value=!0)}function Ze(s){if(f.value!==!0)return;const x=y.value,I=s.direction===t.side,re=(l.lang.rtl===!0?I!==!0:I)?fe(s.distance.x,0,x):0;if(s.isFinal===!0){Math.abs(re)<Math.min(75,x)===!0?(u.animate(),H(1),$(0)):M(),X.value=!1;return}$(Y.value*re),H(fe(1-re/x,0,1)),s.isFirst===!0&&(X.value=!0)}function xe(){d(!1),Se(!0)}function j(s,x){u.update(t.side,s,x)}function Ht(s,x){s.value!==x&&(s.value=x)}function Ae(s,x){j("size",s===!0?t.miniWidth:x)}return u.instances[t.side]=ie,Ae(t.miniToOverlay,y.value),j("space",J.value),j("offset",_e.value),t.showIfAbove===!0&&t.modelValue!==!0&&f.value===!0&&t["onUpdate:modelValue"]!==void 0&&a("update:modelValue",!0),R(()=>{a("onLayout",J.value),a("miniState",w.value),h=t.showIfAbove===!0;const s=()=>{(f.value===!0?B:P)(!1,!0)};if(u.totalWidth.value!==0){et(s);return}c=q(u.totalWidth,()=>{c(),c=void 0,f.value===!1&&t.showIfAbove===!0&&p.value===!1?S(!1):s()})}),ze(()=>{c!==void 0&&c(),v!==null&&(clearTimeout(v),v=null),f.value===!0&&xe(),u.instances[t.side]===ie&&(u.instances[t.side]=void 0,j("size",0),j("offset",0),j("space",!1))}),()=>{const s=[];p.value===!0&&(t.noSwipeOpen===!1&&s.push(ge(V("div",{key:"open",class:`q-drawer__opener fixed-${t.side}`,"aria-hidden":"true"}),Et.value)),s.push(tt("div",{ref:"backdrop",class:Lt.value,style:Pt.value,"aria-hidden":"true",onClick:M},void 0,"backdrop",t.noSwipeBackdrop!==!0&&f.value===!0,()=>Ft.value)));const x=w.value===!0&&n.mini!==void 0,I=[V("div",{...o,key:""+x,class:[Qt.value,o.class]},x===!0?n.mini():bt(n.default))];return t.elevated===!0&&f.value===!0&&I.push(V("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),s.push(tt("aside",{ref:"content",class:Tt.value,style:$t.value},I,"contentclose",t.noSwipeClose!==!0&&p.value===!0,()=>Ot.value)),V("div",{class:"q-drawer-container"},s)}}}),Na=N({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:n,emit:a}){const{proxy:{$q:o}}=ue(),e=Oe(Fe,F);if(e===F)return console.error("QFooter needs to be child of QLayout"),F;const l=k(parseInt(t.heightHint,10)),i=k(!0),d=k(ra.value===!0||e.isContainer.value===!0?0:window.innerHeight),g=b(()=>t.reveal===!0||e.view.value.indexOf("F")>-1||o.platform.is.ios&&e.isContainer.value===!0),m=b(()=>e.isContainer.value===!0?e.containerHeight.value:d.value),u=b(()=>{if(t.modelValue!==!0)return 0;if(g.value===!0)return i.value===!0?l.value:0;const S=e.scroll.value.position+m.value+l.value-e.height.value;return S>0?S:0}),h=b(()=>t.modelValue!==!0||g.value===!0&&i.value!==!0),v=b(()=>t.modelValue===!0&&h.value===!0&&t.reveal===!0),c=b(()=>"q-footer q-layout__section--marginal "+(g.value===!0?"fixed":"absolute")+"-bottom"+(t.bordered===!0?" q-footer--bordered":"")+(h.value===!0?" q-footer--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus"+(g.value!==!0?" hidden":""):"")),p=b(()=>{const S=e.rows.value.bottom,M={};return S[0]==="l"&&e.left.space===!0&&(M[o.lang.rtl===!0?"right":"left"]=`${e.left.size}px`),S[2]==="r"&&e.right.space===!0&&(M[o.lang.rtl===!0?"left":"right"]=`${e.right.size}px`),M});function w(S,M){e.update("footer",S,M)}function y(S,M){S.value!==M&&(S.value=M)}function f({height:S}){y(l,S),w("size",S)}function C(){if(t.reveal!==!0)return;const{direction:S,position:M,inflectionPoint:ye}=e.scroll.value;y(i,S==="up"||M-ye<100||e.height.value-m.value-M-l.value<300)}function B(S){v.value===!0&&y(i,!0),a("focusin",S)}q(()=>t.modelValue,S=>{w("space",S),y(i,!0),e.animate()}),q(u,S=>{w("offset",S)}),q(()=>t.reveal,S=>{S===!1&&y(i,t.modelValue)}),q(i,S=>{e.animate(),a("reveal",S)}),q([l,e.scroll,e.height],C),q(()=>o.screen.height,S=>{e.isContainer.value!==!0&&y(d,S)});const P={};return e.instances.footer=P,t.modelValue===!0&&w("size",l.value),w("space",t.modelValue),w("offset",u.value),ze(()=>{e.instances.footer===P&&(e.instances.footer=void 0,w("size",0),w("offset",0),w("space",!1))}),()=>{const S=je(n.default,[V(_t,{debounce:0,onResize:f})]);return t.elevated===!0&&S.push(V("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),V("footer",{class:c.value,style:p.value,onFocusin:B},S)}}}),qt=N({name:"QInnerLoading",props:{...Ue,...da,showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(t,{slots:n}){const a=ue(),o=He(t,a.proxy.$q),{transitionProps:e,transitionStyle:l}=ca(t),i=b(()=>"q-inner-loading absolute-full column flex-center"+(o.value===!0?" q-inner-loading--dark":"")),d=b(()=>"q-inner-loading__label"+(t.labelClass!==void 0?` ${t.labelClass}`:""));function g(){const u=[V(fa,{size:t.size,color:t.color})];return t.label!==void 0&&u.push(V("div",{class:d.value,style:t.labelStyle},[t.label])),u}function m(){return t.showing===!0?V("div",{class:i.value,style:l.value},n.default!==void 0?n.default():g()):null}return()=>V(va,e.value,m)}}),Ra="data:image/png;base64,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";const Za={xs:2,sm:4,md:6,lg:10,xl:14};function dt(t,n,a){return{transform:n===!0?`translateX(${a.lang.rtl===!0?"-":""}100%) scale3d(${-t},1,1)`:`scale3d(${t},1,1)`}}var ct=N({name:"QLinearProgress",props:{...Ue,...ma,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(t,{slots:n}){const{proxy:a}=ue(),o=He(t,a.$q),e=ha(t,Za),l=b(()=>t.indeterminate===!0||t.query===!0),i=b(()=>t.reverse!==t.query),d=b(()=>({...e.value!==null?e.value:{},"--q-linear-progress-speed":`${t.animationSpeed}ms`})),g=b(()=>"q-linear-progress"+(t.color!==void 0?` text-${t.color}`:"")+(t.reverse===!0||t.query===!0?" q-linear-progress--reverse":"")+(t.rounded===!0?" rounded-borders":"")),m=b(()=>dt(t.buffer!==void 0?t.buffer:1,i.value,a.$q)),u=b(()=>`with${t.instantFeedback===!0?"out":""}-transition`),h=b(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${u.value} q-linear-progress__track--${o.value===!0?"dark":"light"}`+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),v=b(()=>dt(l.value===!0?1:t.value,i.value,a.$q)),c=b(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${u.value} q-linear-progress__model--${l.value===!0?"in":""}determinate`),p=b(()=>({width:`${t.value*100}%`})),w=b(()=>`q-linear-progress__stripe absolute-${t.reverse===!0?"right":"left"} q-linear-progress__stripe--${u.value}`);return()=>{const y=[V("div",{class:h.value,style:m.value}),V("div",{class:c.value,style:v.value})];return t.stripe===!0&&l.value===!1&&y.push(V("div",{class:w.value,style:p.value})),V("div",{class:g.value,style:d.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":t.indeterminate===!0?void 0:t.value},je(n.default,y))}}});const Ya={id:"song-queue-container"},Xa=Z({__name:"SongQueue",setup(t){const n=L,a=k([]),o=k(!0);return R(()=>{n.fetchQueue().pipe(he(e=>e.queue),z(e=>{console.log(e),a.value=[...e],o.value=!1,console.log(a.value)})).subscribe()}),(e,l)=>(Q(),U("div",Ya,[r(qt,{showing:o.value,label:"Loading...","label-class":"text-teal","label-style":"font-size: 2em",size:"lg"},null,8,["showing"]),r(yt,{songs:a.value,mini:!0},null,8,["songs"])]))}});const Ga={class:"row q-pa-sm gt-sm",id:"now-playing-container"},Ja={class:"row col-3 no-wrap",id:"song-info"},Ka={class:"column justify-center"},en={class:"column now-playing-details justify-center col-shrink"},tn={class:"text-weight-medium full-width ellipsis"},an={class:"text-grey-8 full-width ellipsis"},nn={class:"row justify-center col-grow"},ln={id:"timer-functions",class:"row"},on={class:"column justify-center"},un={class:"column justify-center q-ml-sm q-mr-sm"},sn={class:"column justify-center"},rn={class:"row justify-end col-3"},dn={class:"lt-md column full-width"},cn={class:"row"},vn={class:"column justify-center"},fn={class:"column justify-center"},mn={lines:"1"},hn={class:"text-weight-medium"},gn={lines:"1"},pn={class:"text-weight-medium"},bn={class:"row full-width"},yn=Z({__name:"NowPlaying",setup(t){const n=L,a=k(void 0),o=k("NA"),e=k("NA"),l=k(""),i=k(0),d=k(0),g=b(()=>{var c,p;const h=Me(i.value),v=d.value>0?d.value:Math.floor(((p=(c=a.value)==null?void 0:c.duration_ms)!=null?p:0)/1e3);return i.value<v?h:Me(v)}),m=b(()=>{var v,c;const h=d.value>0?d.value:Math.floor(((c=(v=a.value)==null?void 0:v.duration_ms)!=null?c:0)/1e3);return i.value/h}),u=k(!1);return k(!0),R(()=>{setInterval(()=>{(d.value>0||a.value)&&(i.value=i.value+1)},1e3),n.advancedMode.pipe(z(h=>u.value=h)).subscribe(),n.timer.pipe(z(h=>{console.log(`Setting timer to ${h}`),d.value=h,i.value=0})).subscribe(),n.currentPlaybackState.pipe(xt(h=>!!h),z(h=>{var c;const v=(p,w=!1)=>{var y;p.id!==((y=a.value)==null?void 0:y.id)&&(w&&(i.value=0),a.value=p,e.value=p.name,o.value=p.artists.map(f=>f.name).join(", "),l.value=p.album.images.reduce((f,C)=>{var B,P;return((B=f.width)!=null?B:0)<((P=C.width)!=null?P:0)?f:C}).url,n.addSongToPlayed(p))};if(h.item&&h.item.type=="track"){const p=h.item;d.value===0?(i.value=((c=h.progress_ms)!=null?c:0)/1e3,v(p)):v(p,!0)}})).subscribe()}),(h,v)=>{var c,p,w;return Q(),U(G,null,[A("div",Ga,[A("div",Ja,[A("div",Ka,[r(ne,{rounded:"",class:"q-mr-md",id:"current-album"},{default:_(()=>[r(Qe,{src:l.value},null,8,["src"])]),_:1})]),A("div",en,[A("div",tn,[r(le,null,{default:_(()=>{var y;return[D(T((y=a.value)==null?void 0:y.name),1)]}),_:1}),D(" "+T((c=a.value)==null?void 0:c.name),1)]),A("div",an,T(o.value),1)])]),A("div",nn,[A("div",ln,[A("div",on,T(g.value),1),A("div",un,[r(ct,{value:m.value,rounded:"","track-color":"grey",id:"timer"},null,8,["value"])]),A("div",sn,T(d.value>0?oe(Me)(d.value):a.value?oe(ga)(a.value.duration_ms):"0:00"),1)])]),A("div",rn,[r(E,{size:"lg",flat:"",dense:"",round:"",icon:"format_list_numbered"},{default:_(()=>[r(le,null,{default:_(()=>[D("Song Queue")]),_:1}),r(wt,{class:"bg-grey-9"},{default:_(()=>[r(Xa)]),_:1})]),_:1})])]),A("div",dn,[A("div",cn,[A("div",vn,[r(ne,{rounded:"",class:"q-ma-sm",id:"current-album"},{default:_(()=>[r(Qe,{src:l.value},null,8,["src"])]),_:1})]),A("div",fn,[A("div",mn,[A("span",hn,T((p=a.value)==null?void 0:p.name),1)]),A("div",gn,[A("span",pn,T((w=a.value)==null?void 0:w.artists.map(y=>y.name).join(", ")),1)])])]),A("div",bn,[r(ct,{value:m.value,rounded:"",color:"purple","track-color":"orange",id:"timer-sm"},null,8,["value"])])])],64)}}});var wn=N({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(t,{slots:n}){const a=b(()=>{const o=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(e=>t[e]===!0).map(e=>`q-btn-group--${e}`).join(" ");return`q-btn-group row no-wrap${o.length!==0?" "+o:""}`+(t.spread===!0?" q-btn-group--spread":" inline")});return()=>V("div",{class:a.value},bt(n.default))}}),_n=N({name:"QBtnToggle",props:{...pa,modelValue:{required:!0},options:{type:Array,required:!0,validator:t=>t.every(n=>("label"in n||"icon"in n||"slot"in n)&&"value"in n)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(t,{slots:n,emit:a}){const o=b(()=>t.options.find(v=>v.value===t.modelValue)!==void 0),e=b(()=>({type:"hidden",name:t.name,value:t.modelValue})),l=ya(e),i=b(()=>ba(t)),d=b(()=>({rounded:t.rounded,dense:t.dense,...i.value})),g=b(()=>t.options.map((v,c)=>{const{attrs:p,value:w,slot:y,...f}=v;return{slot:y,props:{key:c,"aria-pressed":w===t.modelValue?"true":"false",...p,...f,...d.value,disable:t.disable===!0||f.disable===!0,color:w===t.modelValue?u(f,"toggleColor"):u(f,"color"),textColor:w===t.modelValue?u(f,"toggleTextColor"):u(f,"textColor"),noCaps:u(f,"noCaps")===!0,noWrap:u(f,"noWrap")===!0,size:u(f,"size"),padding:u(f,"padding"),ripple:u(f,"ripple"),stack:u(f,"stack")===!0,stretch:u(f,"stretch")===!0,onClick(C){m(w,v,C)}}}}));function m(v,c,p){t.readonly!==!0&&(t.modelValue===v?t.clearable===!0&&(a("update:modelValue",null,null),a("clear")):a("update:modelValue",v,c),a("click",p))}function u(v,c){return v[c]===void 0?t[c]:v[c]}function h(){const v=g.value.map(c=>V(E,c.props,c.slot!==void 0?n[c.slot]:void 0));return t.name!==void 0&&t.disable!==!0&&o.value===!0&&l(v,"push"),je(n.default,v)}return()=>V(wn,{class:"q-btn-toggle",...i.value,rounded:t.rounded,stretch:t.stretch,glossy:t.glossy,spread:t.spread},h)}});const Cn={key:0},kn={class:"playback-update-container"},Sn={class:"spaced-inputs"},xn={class:"row justify-around q-mb-sm"},An={key:1},qn={class:"q-ma-sm"},Bn=A("div",{class:"text-h6"},"Incompatible Browser",-1),Vn=Z({__name:"PlaybackUpdater",setup(t){const n=k(!1),a=k(""),o=k(30),e=k(0),l=k(0),i=k(!1);let d;function g(){return e.value<0&&Math.abs(e.value)<o.value}function m(w){return w>0?L.pause().pipe(Ha(w*1e3)):nt("")}function u(w=!1){console.log("clearing"),d&&d.unsubscribe(),w&&(ce.msgSuccess("Playback Updated","Settings cleared."),o.value=30,e.value=0,l.value=0,i.value=!1,L.timer.next(0))}function h(w,y,f,C=!1){let B=w;console.log(`Scrubber ${w}, Playback ${y}, Pause ${f}`),parseInt(w)+parseInt(y)===0&&(console.info("Scrubber and playback will cancel out, adjusting by 5 seconds."),B-=5),u(),d=St(y*1e3).pipe(ee(()=>m(f).pipe(ee(()=>L.fetchQueue().pipe(he(P=>P.queue.at(0)))),ee(P=>L.nextTrack().pipe(he(()=>P))),ee(P=>B>0?L.scrubToSeconds(B):B<0&&P?(console.info("Going to last "+Math.abs(B)+" seconds"),L.scrubToSeconds(Math.round(P.duration_ms/1e3)-Math.abs(B))):nt(!0)),ee(()=>L.fetchPlaybackState())))).subscribe(()=>{ce.msgSuccess("Playback Updated",`Skipped song, and scrubbed to ${w} seconds`),h(w,y,f)}),C&&(L.timer.next(o.value),ce.msgSuccess("Playback Update","Settings changed."),i.value=!0)}q(a,w=>{L.playbackMode.next(w),w!=="clear"?(w=="trivia"?(o.value=20,l.value=1,e.value=0):w=="bingo"&&(o.value=30,l.value=0,e.value=0),h(e.value,o.value,l.value,!0)):u(!0)});const v=k(null),c=async()=>{v.value=await navigator.wakeLock.request("screen"),ce.msgInfo("Wake Lock enabled","")},p=k(!1);return R(()=>{"wakeLock"in navigator?c():p.value=screen.width<=760,L.advancedMode.pipe(z(w=>n.value=w)).subscribe()}),(w,y)=>(Q(),U(G,null,[n.value?(Q(),U("div",Cn,[A("div",kn,[A("div",Sn,[r(te,{square:"",outlined:"",modelValue:o.value,"onUpdate:modelValue":y[0]||(y[0]=f=>o.value=f),label:"Song Timer",type:"number",min:"0",oninput:`this.value =
 !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null`},null,8,["modelValue"]),r(te,{square:"",outlined:"",modelValue:e.value,"onUpdate:modelValue":y[1]||(y[1]=f=>e.value=f),label:"Position In Song",type:"number"},null,8,["modelValue"]),r(te,{square:"",outlined:"",modelValue:l.value,"onUpdate:modelValue":y[2]||(y[2]=f=>l.value=f),label:"Time between songs",type:"number",min:"0",oninput:`this.value =
 !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null`},null,8,["modelValue"])]),A("div",xn,[r(E,{disable:g(),onClick:y[3]||(y[3]=f=>h(e.value,o.value,l.value,!0)),color:"primary"},{default:_(()=>[D(" Update! ")]),_:1},8,["disable"]),r(E,{disable:!i.value,onClick:y[4]||(y[4]=f=>u(!0)),color:"warning"},{default:_(()=>[D(" Clear! ")]),_:1},8,["disable"])])])])):(Q(),U("div",An,[A("div",qn,[r(_n,{modelValue:a.value,"onUpdate:modelValue":y[5]||(y[5]=f=>a.value=f),spread:"","no-caps":"",rounded:"",class:"bg-grey-9",options:[{label:"Bingo Mode",value:"bingo",icon:a.value=="trivia"?"stop":"play_arrow"},{label:"Trivia Mode",value:"trivia",icon:a.value=="bingo"?"stop":"play_arrow"},{label:"Clear Timer",value:"clear",icon:"cancel"}]},null,8,["modelValue","options"])])])),r(_a,{modelValue:p.value,"onUpdate:modelValue":y[6]||(y[6]=f=>p.value=f)},{default:_(()=>[r(wa,null,{default:_(()=>[r(at,null,{default:_(()=>[Bn]),_:1}),r(at,{class:"q-pt-none"},{default:_(()=>[D(" Unfortunately, this browser is not supported. In order to use the app you will need to ensure the display remains on in settings, or use Chrome. ")]),_:1}),r(Va,{align:"right"},{default:_(()=>[ge(r(E,{flat:"",label:"OK",color:"primary"},null,512),[[Ca]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}});var vt;const Mn=typeof window!="undefined",ft=()=>{};Mn&&((vt=window==null?void 0:window.navigator)==null?void 0:vt.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function mt(t){return typeof t=="function"?t():oe(t)}function Ln(t,n){function a(...o){return new Promise((e,l)=>{Promise.resolve(t(()=>n.apply(this,o),{fn:n,thisArg:this,args:o})).then(e).catch(l)})}return a}function Pn(t,n={}){let a,o,e=ft;const l=d=>{clearTimeout(d),e(),e=ft};return d=>{const g=mt(t),m=mt(n.maxWait);return a&&l(a),g<=0||m!==void 0&&m<=0?(o&&(l(o),o=null),Promise.resolve(d())):new Promise((u,h)=>{e=n.rejectOnCancel?h:u,m&&!o&&(o=setTimeout(()=>{a&&l(a),o=null,u(d())},m)),a=setTimeout(()=>{o&&l(o),o=null,u(d())},g)})}}function Bt(t,n=200,a={}){return Ln(Pn(n,a),t)}const In=A("span",{class:"text-weight-medium"}," Add New Playlist ",-1),Dn={class:"text-weight-medium"},$n={class:"text-grey-8"},Qn={class:"text-grey-8 q-gutter-xs"},Tn=Z({__name:"PlaylistList",setup(t){let n=[];const a=k([]),o=k(""),e=L,l=k(void 0),i=k(void 0),d=Bt(()=>{console.log("Filtering with: "+o.value),o.value||(a.value=n),a.value=n.filter(u=>u.name.toLowerCase().includes(o.value.toLowerCase()))},300);R(()=>{e.fetchPlaylists().pipe(z(u=>{n=u,a.value=u,e.loading=!1})).subscribe(),e.createdPlaylist.pipe(xt(u=>!!u),z(u=>{n.push(u),a.value=[u,...a.value]})).subscribe()});function g(u){l.value="playlist",i.value=u==null?void 0:u.id,console.log("Open the dialog, with mode 'playlist', passing in the playlist id")}function m(u){l.value="bingo",i.value=u==null?void 0:u.id,console.log("Open the dialog, with mode 'bingo', passing in the playlist id")}return(u,h)=>(Q(),U(G,null,[r(te,{square:"",outlined:"",modelValue:o.value,"onUpdate:modelValue":[h[0]||(h[0]=v=>o.value=v),oe(d)],label:"Filter Playlists"},{prepend:_(()=>[r(me,{name:"search"})]),_:1},8,["modelValue","onUpdate:modelValue"]),r(lt,{bordered:"",class:"rounded-borders"},{default:_(()=>[ge((Q(),Te(ve,{clickable:"",onClick:h[1]||(h[1]=v=>g())},{default:_(()=>[r(W,{avatar:""},{default:_(()=>[r(ne,{rounded:"",color:"green","text-color":"white",icon:"add",size:"48px"})]),_:1}),r(W,null,{default:_(()=>[r(Le,null,{default:_(()=>[In]),_:1})]),_:1})]),_:1})),[[ot]]),(Q(!0),U(G,null,ka(a.value,v=>ge((Q(),Te(ve,{key:v.id,clickable:"",to:"/dashboard/"+v.id},{default:_(()=>[r(ne,{rounded:"",class:"q-mr-md"},{default:_(()=>{var c;return[r(Qe,{src:(c=v.images.at(0))==null?void 0:c.url},null,8,["src"])]}),_:2},1024),r(W,null,{default:_(()=>[r(Le,{lines:"1"},{default:_(()=>[A("span",Dn,[r(le,null,{default:_(()=>[D(T(v.name),1)]),_:2},1024),D(" "+T(v.name),1)])]),_:2},1024),r(Le,{lines:"1"},{default:_(()=>[A("span",$n,[r(le,null,{default:_(()=>[D(T(v.description),1)]),_:2},1024),D(" "+T(v.description),1)])]),_:2},1024)]),_:2},1024),r(W,{side:""},{default:_(()=>[A("div",Qn,[r(E,{size:"12px",flat:"",dense:"",round:"",icon:"more_vert",onClick:h[2]||(h[2]=xa(()=>{},["prevent"]))},{default:_(()=>[r(wt,{"auto-close":"",class:"bg-grey-9"},{default:_(()=>[r(lt,null,{default:_(()=>[r(ve,{clickable:"",onClick:c=>m(v)},{default:_(()=>[r(W,{avatar:""},{default:_(()=>[r(me,{name:"note_add"})]),_:1}),r(W,null,{default:_(()=>[D("Create Bingo Cards")]),_:1})]),_:2},1032,["onClick"]),r(ve,{clickable:"",onClick:c=>g(v)},{default:_(()=>[r(W,{avatar:""},{default:_(()=>[r(me,{name:"playlist_add"})]),_:1}),r(W,null,{default:_(()=>[D("Create Subplaylist")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1032,["to"])),[[ot]])),128))]),_:1}),r(Sa,{dialog_mode:l.value,playlist:i.value},null,8,["dialog_mode","playlist"])],64))}}),En=Z({__name:"RecentlyPlayed",setup(t){const n=L;let a=k([]);const o=k(a.value.map(d=>d.song)),e=k(""),l=Bt(()=>{console.log("Filtering with: "+e.value),e.value||(o.value=a.value.map(d=>d.song)),o.value=a.value.map(d=>d.song).filter(d=>d.name.toLowerCase().includes(e.value.toLowerCase()))},300);function i(){n.clearRecentlyPlayed()}return q(()=>a.value,d=>{e.value||(o.value=d.map(g=>g.song))},{deep:!0}),R(()=>{n.storeSessionPlayed.pipe(z(d=>{a.value=[...d]})).subscribe()}),(d,g)=>(Q(),U(G,null,[r(te,{square:"",outlined:"",modelValue:e.value,"onUpdate:modelValue":[g[1]||(g[1]=m=>e.value=m),oe(l)],label:"Filter Songs"},{prepend:_(()=>[r(me,{name:"search"})]),append:_(()=>[r(E,{round:"",dense:"",flat:"",icon:"clear",onClick:g[0]||(g[0]=m=>i())},{default:_(()=>[r(le,null,{default:_(()=>[D("Clear Recently Played Songs")]),_:1})]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"]),r(yt,{songs:o.value,mini:!0},null,8,["songs"])],64))}}),On=A("h3",null,"Settings",-1),Fn=A("div",null,"Setting here",-1),zn=Z({__name:"BingoSettings",setup(t){const n=L,a=k(!1);return q(a,o=>{n.advancedMode.next(o)}),(o,e)=>(Q(),U(G,null,[On,r(Aa,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value=l),label:"Advanced Mode"},null,8,["modelValue"]),Fn],64))}}),Un=A("img",{src:Ra},null,-1),Nn=Z({__name:"MainLayout",setup(t){const n=L,a=k(0),o=k(!1),e=k(!1),l=k(!1),i=k(!1);function d(){o.value=!o.value}function g(){l.value&&!e.value&&m(),e.value=!e.value}function m(){e.value&&!l.value&&g(),l.value=!l.value}return R(()=>{n.loadingState.pipe(z(u=>{i.value=u})).subscribe(),setInterval(()=>{a.value=Math.round((n.expiry-Date.now())/1e3/60)},5e3)}),(u,h)=>{const v=qa("router-view");return Q(),Te(La,{view:"hHh LpR fFf"},{default:_(()=>[r(ja,{elevated:"",class:"bg-primary text-white"},{default:_(()=>[r(ut,null,{default:_(()=>[r(E,{dense:"",flat:"",round:"",icon:"menu",onClick:d}),r(Ba,null,{default:_(()=>[r(ne,null,{default:_(()=>[Un]),_:1}),D(" Musical Bingo ")]),_:1}),r(E,{dense:"",flat:"",round:"",icon:"settings",onClick:m}),r(E,{dense:"",flat:"",round:"",icon:"menu",onClick:g})]),_:1})]),_:1}),r(De,{"show-if-above":"",modelValue:o.value,"onUpdate:modelValue":h[0]||(h[0]=c=>o.value=c),side:"left",bordered:""},{default:_(()=>[r(Tn)]),_:1},8,["modelValue"]),r(De,{"show-if-above":"",modelValue:e.value,"onUpdate:modelValue":h[1]||(h[1]=c=>e.value=c),side:"right",bordered:""},{default:_(()=>[r(En)]),_:1},8,["modelValue"]),r(De,{modelValue:l.value,"onUpdate:modelValue":h[2]||(h[2]=c=>l.value=c),side:"right",bordered:""},{default:_(()=>[r(zn)]),_:1},8,["modelValue"]),r(Ma,null,{default:_(()=>[r(Vn),r(v)]),_:1}),r(Na,{elevated:"",class:"bg-grey-10 text-white"},{default:_(()=>[r(ut,null,{default:_(()=>[r(yn)]),_:1})]),_:1}),r(qt,{showing:i.value,label:"Loading...","label-class":"text-teal","label-style":"font-size: 2em",size:"lg"},null,8,["showing"])]),_:1})}}});export{Nn as default};
