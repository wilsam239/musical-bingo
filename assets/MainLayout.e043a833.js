import{_ as Ae,T as Dt,U as He,V as Ue,W as Ft,X as dt,Y as ct,Z as Qt,$ as Ot,a0 as Et,a1 as Nt,a2 as ce,a3 as Y,a4 as Ht,a5 as Pe,a6 as vt,c as G,A as Ve,B as z,C as Le,r as C,b as h,w as x,F as ze,a7 as Ut,h as $,g as J,a8 as Rt,a9 as j,aa as Re,G as Wt,ab as We,ac as jt,ad as le,ae as we,af as je,ag as Ce,ah as Be,ai as qe,aj as Xt,ak as Yt,al as Kt,u as De,am as Gt,a as Fe,an as Jt,ao as Zt,ap as ea,o as Z,M as Xe,aq as Ie,ar as Ye,f as ta,as as aa,L as na,R as ft,at as la,au as ia,av as ua,aw as ra,ax as oa,ay as sa,i as ee,l as O,az as K,q as B,p as c,v as X,n as p,z as V,x as E,aA as xe,S as L,aB as Ke,aC as mt,aD as oe,aE as N,aF as ht,y as ve,aG as se,m as Te,aH as Q,aI as Se,aJ as ie,aK as Me,aL as da,aM as Ge,aN as ca,aO as Je,aP as Ze,aQ as va,aR as et,aS as fa,aT as ma,aU as tt,aV as ha}from"./index.b814aec5.js";import{b as gt,Q as ga,a as ya}from"./QLayout.ea4f1b78.js";var yt={now:function(){return(yt.delegate||Date).now()},delegate:void 0},ba=function(t){Ae(n,t);function n(a,i){return t.call(this)||this}return n.prototype.schedule=function(a,i){return this},n}(Dt),de={setInterval:function(t,n){for(var a=[],i=2;i<arguments.length;i++)a[i-2]=arguments[i];var e=de.delegate;return e!=null&&e.setInterval?e.setInterval.apply(e,He([t,n],Ue(a))):setInterval.apply(void 0,He([t,n],Ue(a)))},clearInterval:function(t){var n=de.delegate;return((n==null?void 0:n.clearInterval)||clearInterval)(t)},delegate:void 0},pa=function(t){Ae(n,t);function n(a,i){var e=t.call(this,a,i)||this;return e.scheduler=a,e.work=i,e.pending=!1,e}return n.prototype.schedule=function(a,i){var e;if(i===void 0&&(i=0),this.closed)return this;this.state=a;var l=this.id,r=this.scheduler;return l!=null&&(this.id=this.recycleAsyncId(r,l,i)),this.pending=!0,this.delay=i,this.id=(e=this.id)!==null&&e!==void 0?e:this.requestAsyncId(r,this.id,i),this},n.prototype.requestAsyncId=function(a,i,e){return e===void 0&&(e=0),de.setInterval(a.flush.bind(a,this),e)},n.prototype.recycleAsyncId=function(a,i,e){if(e===void 0&&(e=0),e!=null&&this.delay===e&&this.pending===!1)return i;i!=null&&de.clearInterval(i)},n.prototype.execute=function(a,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var e=this._execute(a,i);if(e)return e;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(a,i){var e=!1,l;try{this.work(a)}catch(r){e=!0,l=r||new Error("Scheduled action threw falsy error")}if(e)return this.unsubscribe(),l},n.prototype.unsubscribe=function(){if(!this.closed){var a=this,i=a.id,e=a.scheduler,l=e.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Ft(l,this),i!=null&&(this.id=this.recycleAsyncId(e,i,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},n}(ba),at=function(){function t(n,a){a===void 0&&(a=t.now),this.schedulerActionCtor=n,this.now=a}return t.prototype.schedule=function(n,a,i){return a===void 0&&(a=0),new this.schedulerActionCtor(this,n).schedule(i,a)},t.now=yt.now,t}(),_a=function(t){Ae(n,t);function n(a,i){i===void 0&&(i=at.now);var e=t.call(this,a,i)||this;return e.actions=[],e._active=!1,e}return n.prototype.flush=function(a){var i=this.actions;if(this._active){i.push(a);return}var e;this._active=!0;do if(e=a.execute(a.state,a.delay))break;while(a=i.shift());if(this._active=!1,e){for(;a=i.shift();)a.unsubscribe();throw e}},n}(at),bt=new _a(pa),wa=bt,Ca=new dt(function(t){return t.complete()});function qa(t){return t instanceof Date&&!isNaN(t)}function xa(t){return t===void 0&&(t=1/0),ct(Qt,t)}function Sa(){return xa(1)}function ka(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Sa()(Ot(t,Et(t)))}function pt(t,n,a){t===void 0&&(t=0),a===void 0&&(a=wa);var i=-1;return n!=null&&(Nt(n)?a=n:i=n),new dt(function(e){var l=qa(t)?+t-a.now():t;l<0&&(l=0);var r=0;return a.schedule(function(){e.closed||(e.next(r++),0<=i?this.schedule(void 0,i):e.complete())},l)})}function $a(t,n){return ce(function(a,i){var e=0;a.subscribe(Y(i,function(l){return t.call(n,l,e++)&&i.next(l)}))})}function nt(t){return t<=0?function(){return Ca}:ce(function(n,a){var i=0;n.subscribe(Y(a,function(e){++i<=t&&(a.next(e),t<=i&&a.complete())}))})}function Pa(){return ce(function(t,n){t.subscribe(Y(n,Ht))})}function Ba(t){return Pe(function(){return t})}function _t(t,n){return n?function(a){return ka(n.pipe(nt(1),Pa()),a.pipe(_t(t)))}:ct(function(a,i){return vt(t(a,i)).pipe(nt(1),Ba(a))})}function Ia(t,n){n===void 0&&(n=bt);var a=pt(t,n);return _t(function(){return a})}function ue(t,n){return ce(function(a,i){var e=null,l=0,r=!1,v=function(){return r&&!e&&i.complete()};a.subscribe(Y(i,function(s){e==null||e.unsubscribe();var d=0,u=l++;vt(t(s,u)).subscribe(e=Y(i,function(m){return i.next(n?n(s,m,u,d++):m)},function(){e=null,v()}))},function(){r=!0,v()}))})}var Ta=G({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:n,emit:a}){const{proxy:{$q:i}}=J(),e=Ve(Le,z);if(e===z)return console.error("QHeader needs to be child of QLayout"),z;const l=C(parseInt(t.heightHint,10)),r=C(!0),v=h(()=>t.reveal===!0||e.view.value.indexOf("H")>-1||i.platform.is.ios&&e.isContainer.value===!0),s=h(()=>{if(t.modelValue!==!0)return 0;if(v.value===!0)return r.value===!0?l.value:0;const b=l.value-e.scroll.value.position;return b>0?b:0}),d=h(()=>t.modelValue!==!0||v.value===!0&&r.value!==!0),u=h(()=>t.modelValue===!0&&d.value===!0&&t.reveal===!0),m=h(()=>"q-header q-layout__section--marginal "+(v.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(d.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),f=h(()=>{const b=e.rows.value.top,T={};return b[0]==="l"&&e.left.space===!0&&(T[i.lang.rtl===!0?"right":"left"]=`${e.left.size}px`),b[2]==="r"&&e.right.space===!0&&(T[i.lang.rtl===!0?"left":"right"]=`${e.right.size}px`),T});function y(b,T){e.update("header",b,T)}function g(b,T){b.value!==T&&(b.value=T)}function q({height:b}){g(l,b),y("size",b)}function k(b){u.value===!0&&g(r,!0),a("focusin",b)}x(()=>t.modelValue,b=>{y("space",b),g(r,!0),e.animate()}),x(s,b=>{y("offset",b)}),x(()=>t.reveal,b=>{b===!1&&g(r,t.modelValue)}),x(r,b=>{e.animate(),a("reveal",b)}),x(e.scroll,b=>{t.reveal===!0&&g(r,b.direction==="up"||b.position<=t.revealOffset||b.position-b.inflectionPoint<100)});const S={};return e.instances.header=S,t.modelValue===!0&&y("size",l.value),y("space",t.modelValue),y("offset",s.value),ze(()=>{e.instances.header===S&&(e.instances.header=void 0,y("size",0),y("offset",0),y("space",!1))}),()=>{const b=Ut(n.default,[]);return t.elevated===!0&&b.push($("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),b.push($(gt,{debounce:0,onResize:q})),$("header",{class:m.value,style:f.value,onFocusin:k},b)}}});function ke(t,n,a){const i=Be(t);let e,l=i.left-n.event.x,r=i.top-n.event.y,v=Math.abs(l),s=Math.abs(r);const d=n.direction;d.horizontal===!0&&d.vertical!==!0?e=l<0?"left":"right":d.horizontal!==!0&&d.vertical===!0?e=r<0?"up":"down":d.up===!0&&r<0?(e="up",v>s&&(d.left===!0&&l<0?e="left":d.right===!0&&l>0&&(e="right"))):d.down===!0&&r>0?(e="down",v>s&&(d.left===!0&&l<0?e="left":d.right===!0&&l>0&&(e="right"))):d.left===!0&&l<0?(e="left",v<s&&(d.up===!0&&r<0?e="up":d.down===!0&&r>0&&(e="down"))):d.right===!0&&l>0&&(e="right",v<s&&(d.up===!0&&r<0?e="up":d.down===!0&&r>0&&(e="down")));let u=!1;if(e===void 0&&a===!1){if(n.event.isFirst===!0||n.event.lastDir===void 0)return{};e=n.event.lastDir,u=!0,e==="left"||e==="right"?(i.left-=l,v=0,l=0):(i.top-=r,s=0,r=0)}return{synthetic:u,payload:{evt:t,touch:n.event.mouse!==!0,mouse:n.event.mouse===!0,position:i,direction:e,isFirst:n.event.isFirst,isFinal:a===!0,duration:Date.now()-n.event.time,distance:{x:v,y:s},offset:{x:l,y:r},delta:{x:i.left-n.event.lastX,y:i.top-n.event.lastY}}}}let Ma=0;var $e=Rt({name:"touch-pan",beforeMount(t,{value:n,modifiers:a}){if(a.mouse!==!0&&j.has.touch!==!0)return;function i(l,r){a.mouse===!0&&r===!0?Xt(l):(a.stop===!0&&Ce(l),a.prevent===!0&&je(l))}const e={uid:"qvtp_"+Ma++,handler:n,modifiers:a,direction:Re(a),noop:Wt,mouseStart(l){We(l,e)&&jt(l)&&(le(e,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),e.start(l,!0))},touchStart(l){if(We(l,e)){const r=l.target;le(e,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","passiveCapture"],[r,"touchend","end","passiveCapture"]]),e.start(l)}},start(l,r){if(j.is.firefox===!0&&we(t,!0),e.lastEvt=l,r===!0||a.stop===!0){if(e.direction.all!==!0&&(r!==!0||e.modifiers.mouseAllDir!==!0&&e.modifiers.mousealldir!==!0)){const d=l.type.indexOf("mouse")>-1?new MouseEvent(l.type,l):new TouchEvent(l.type,l);l.defaultPrevented===!0&&je(d),l.cancelBubble===!0&&Ce(d),Object.assign(d,{qKeyEvent:l.qKeyEvent,qClickOutside:l.qClickOutside,qAnchorHandled:l.qAnchorHandled,qClonedBy:l.qClonedBy===void 0?[e.uid]:l.qClonedBy.concat(e.uid)}),e.initialEvent={target:l.target,event:d}}Ce(l)}const{left:v,top:s}=Be(l);e.event={x:v,y:s,time:Date.now(),mouse:r===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:v,lastY:s}},move(l){if(e.event===void 0)return;const r=Be(l),v=r.left-e.event.x,s=r.top-e.event.y;if(v===0&&s===0)return;e.lastEvt=l;const d=e.event.mouse===!0,u=()=>{i(l,d);let y;a.preserveCursor!==!0&&a.preservecursor!==!0&&(y=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),d===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Yt(),e.styleCleanup=g=>{if(e.styleCleanup=void 0,y!==void 0&&(document.documentElement.style.cursor=y),document.body.classList.remove("non-selectable"),d===!0){const q=()=>{document.body.classList.remove("no-pointer-events--children")};g!==void 0?setTimeout(()=>{q(),g()},50):q()}else g!==void 0&&g()}};if(e.event.detected===!0){e.event.isFirst!==!0&&i(l,e.event.mouse);const{payload:y,synthetic:g}=ke(l,e,!1);y!==void 0&&(e.handler(y)===!1?e.end(l):(e.styleCleanup===void 0&&e.event.isFirst===!0&&u(),e.event.lastX=y.position.left,e.event.lastY=y.position.top,e.event.lastDir=g===!0?void 0:y.direction,e.event.isFirst=!1));return}if(e.direction.all===!0||d===!0&&(e.modifiers.mouseAllDir===!0||e.modifiers.mousealldir===!0)){u(),e.event.detected=!0,e.move(l);return}const m=Math.abs(v),f=Math.abs(s);m!==f&&(e.direction.horizontal===!0&&m>f||e.direction.vertical===!0&&m<f||e.direction.up===!0&&m<f&&s<0||e.direction.down===!0&&m<f&&s>0||e.direction.left===!0&&m>f&&v<0||e.direction.right===!0&&m>f&&v>0?(e.event.detected=!0,e.move(l)):e.end(l,!0))},end(l,r){if(e.event!==void 0){if(qe(e,"temp"),j.is.firefox===!0&&we(t,!1),r===!0)e.styleCleanup!==void 0&&e.styleCleanup(),e.event.detected!==!0&&e.initialEvent!==void 0&&e.initialEvent.target.dispatchEvent(e.initialEvent.event);else if(e.event.detected===!0){e.event.isFirst===!0&&e.handler(ke(l===void 0?e.lastEvt:l,e).payload);const{payload:v}=ke(l===void 0?e.lastEvt:l,e,!0),s=()=>{e.handler(v)};e.styleCleanup!==void 0?e.styleCleanup(s):s()}e.event=void 0,e.initialEvent=void 0,e.lastEvt=void 0}}};if(t.__qtouchpan=e,a.mouse===!0){const l=a.mouseCapture===!0||a.mousecapture===!0?"Capture":"";le(e,"main",[[t,"mousedown","mouseStart",`passive${l}`]])}j.has.touch===!0&&le(e,"main",[[t,"touchstart","touchStart",`passive${a.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,n){const a=t.__qtouchpan;a!==void 0&&(n.oldValue!==n.value&&(typeof value!="function"&&a.end(),a.handler=n.value),a.direction=Re(n.modifiers))},beforeUnmount(t){const n=t.__qtouchpan;n!==void 0&&(n.event!==void 0&&n.end(),qe(n,"main"),qe(n,"temp"),j.is.firefox===!0&&we(t,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete t.__qtouchpan)}});function re(t,n,a){return a<=n?n:Math.min(a,Math.max(n,t))}const lt=150;var it=G({name:"QDrawer",inheritAttrs:!1,props:{...Kt,...De,side:{type:String,default:"left",validator:t=>["left","right"].includes(t)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:t=>["default","desktop","mobile"].includes(t),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Gt,"onLayout","miniState"],setup(t,{slots:n,emit:a,attrs:i}){const e=J(),{proxy:{$q:l}}=e,r=Fe(t,l),{preventBodyScroll:v}=aa(),{registerTimeout:s,removeTimeout:d}=Jt(),u=Ve(Le,z);if(u===z)return console.error("QDrawer needs to be child of QLayout"),z;let m,f=null,y;const g=C(t.behavior==="mobile"||t.behavior!=="desktop"&&u.totalWidth.value<=t.breakpoint),q=h(()=>t.mini===!0&&g.value!==!0),k=h(()=>q.value===!0?t.miniWidth:t.width),S=C(t.showIfAbove===!0&&g.value===!1?!0:t.modelValue===!0),b=h(()=>t.persistent!==!0&&(g.value===!0||qt.value===!0));function T(o,w){if(fe(),o!==!1&&u.animate(),M(0),g.value===!0){const I=u.instances[ae.value];I!==void 0&&I.belowBreakpoint===!0&&I.hide(!1),D(1),u.isContainer.value!==!0&&v(!0)}else D(0),o!==!1&&be(!1);s(()=>{o!==!1&&be(!0),w!==!0&&a("show",o)},lt)}function R(o,w){Ct(),o!==!1&&u.animate(),D(0),M(H.value*k.value),pe(),w!==!0?s(()=>{a("hide",o)},lt):d()}const{show:_,hide:P}=Zt({showing:S,hideOnRouteChange:b,handleShow:T,handleHide:R}),{addToHistory:fe,removeFromHistory:Ct}=ea(S,P,b),te={belowBreakpoint:g,hide:P},A=h(()=>t.side==="right"),H=h(()=>(l.lang.rtl===!0?-1:1)*(A.value===!0?1:-1)),Qe=C(0),U=C(!1),me=C(!1),Oe=C(k.value*H.value),ae=h(()=>A.value===!0?"left":"right"),he=h(()=>S.value===!0&&g.value===!1&&t.overlay===!1?t.miniToOverlay===!0?t.miniWidth:k.value:0),ge=h(()=>t.overlay===!0||t.miniToOverlay===!0||u.view.value.indexOf(A.value?"R":"L")>-1||l.platform.is.ios===!0&&u.isContainer.value===!0),W=h(()=>t.overlay===!1&&S.value===!0&&g.value===!1),qt=h(()=>t.overlay===!0&&S.value===!0&&g.value===!1),xt=h(()=>"fullscreen q-drawer__backdrop"+(S.value===!1&&U.value===!1?" hidden":"")),St=h(()=>({backgroundColor:`rgba(0,0,0,${Qe.value*.4})`})),Ee=h(()=>A.value===!0?u.rows.value.top[2]==="r":u.rows.value.top[0]==="l"),kt=h(()=>A.value===!0?u.rows.value.bottom[2]==="r":u.rows.value.bottom[0]==="l"),$t=h(()=>{const o={};return u.header.space===!0&&Ee.value===!1&&(ge.value===!0?o.top=`${u.header.offset}px`:u.header.space===!0&&(o.top=`${u.header.size}px`)),u.footer.space===!0&&kt.value===!1&&(ge.value===!0?o.bottom=`${u.footer.offset}px`:u.footer.space===!0&&(o.bottom=`${u.footer.size}px`)),o}),Pt=h(()=>{const o={width:`${k.value}px`,transform:`translateX(${Oe.value}px)`};return g.value===!0?o:Object.assign(o,$t.value)}),Bt=h(()=>"q-drawer__content fit "+(u.isContainer.value!==!0?"scroll":"overflow-auto")),It=h(()=>`q-drawer q-drawer--${t.side}`+(me.value===!0?" q-drawer--mini-animate":"")+(t.bordered===!0?" q-drawer--bordered":"")+(r.value===!0?" q-drawer--dark q-dark":"")+(U.value===!0?" no-transition":S.value===!0?"":" q-layout--prevent-focus")+(g.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${q.value===!0?"mini":"standard"}`+(ge.value===!0||W.value!==!0?" fixed":"")+(t.overlay===!0||t.miniToOverlay===!0?" q-drawer--on-top":"")+(Ee.value===!0?" q-drawer--top-padding":""))),Tt=h(()=>{const o=l.lang.rtl===!0?t.side:ae.value;return[[$e,Lt,void 0,{[o]:!0,mouse:!0}]]}),Mt=h(()=>{const o=l.lang.rtl===!0?ae.value:t.side;return[[$e,Ne,void 0,{[o]:!0,mouse:!0}]]}),At=h(()=>{const o=l.lang.rtl===!0?ae.value:t.side;return[[$e,Ne,void 0,{[o]:!0,mouse:!0,mouseAllDir:!0}]]});function ye(){zt(g,t.behavior==="mobile"||t.behavior!=="desktop"&&u.totalWidth.value<=t.breakpoint)}x(g,o=>{o===!0?(m=S.value,S.value===!0&&P(!1)):t.overlay===!1&&t.behavior!=="mobile"&&m!==!1&&(S.value===!0?(M(0),D(0),pe()):_(!1))}),x(()=>t.side,(o,w)=>{u.instances[w]===te&&(u.instances[w]=void 0,u[w].space=!1,u[w].offset=0),u.instances[o]=te,u[o].size=k.value,u[o].space=W.value,u[o].offset=he.value}),x(u.totalWidth,()=>{(u.isContainer.value===!0||document.qScrollPrevented!==!0)&&ye()}),x(()=>t.behavior+t.breakpoint,ye),x(u.isContainer,o=>{S.value===!0&&v(o!==!0),o===!0&&ye()}),x(u.scrollbarWidth,()=>{M(S.value===!0?0:void 0)}),x(he,o=>{F("offset",o)}),x(W,o=>{a("onLayout",o),F("space",o)}),x(A,()=>{M()}),x(k,o=>{M(),_e(t.miniToOverlay,o)}),x(()=>t.miniToOverlay,o=>{_e(o,k.value)}),x(()=>l.lang.rtl,()=>{M()}),x(()=>t.mini,()=>{t.noMiniAnimation||t.modelValue===!0&&(Vt(),u.animate())}),x(q,o=>{a("miniState",o)});function M(o){o===void 0?Xe(()=>{o=S.value===!0?0:k.value,M(H.value*o)}):(u.isContainer.value===!0&&A.value===!0&&(g.value===!0||Math.abs(o)===k.value)&&(o+=H.value*u.scrollbarWidth.value),Oe.value=o)}function D(o){Qe.value=o}function be(o){const w=o===!0?"remove":u.isContainer.value!==!0?"add":"";w!==""&&document.body.classList[w]("q-body--drawer-toggle")}function Vt(){f!==null&&clearTimeout(f),e.proxy&&e.proxy.$el&&e.proxy.$el.classList.add("q-drawer--mini-animate"),me.value=!0,f=setTimeout(()=>{f=null,me.value=!1,e&&e.proxy&&e.proxy.$el&&e.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Lt(o){if(S.value!==!1)return;const w=k.value,I=re(o.distance.x,0,w);if(o.isFinal===!0){I>=Math.min(75,w)===!0?_():(u.animate(),D(0),M(H.value*w)),U.value=!1;return}M((l.lang.rtl===!0?A.value!==!0:A.value)?Math.max(w-I,0):Math.min(0,I-w)),D(re(I/w,0,1)),o.isFirst===!0&&(U.value=!0)}function Ne(o){if(S.value!==!0)return;const w=k.value,I=o.direction===t.side,ne=(l.lang.rtl===!0?I!==!0:I)?re(o.distance.x,0,w):0;if(o.isFinal===!0){Math.abs(ne)<Math.min(75,w)===!0?(u.animate(),D(1),M(0)):P(),U.value=!1;return}M(H.value*ne),D(re(1-ne/w,0,1)),o.isFirst===!0&&(U.value=!0)}function pe(){v(!1),be(!0)}function F(o,w){u.update(t.side,o,w)}function zt(o,w){o.value!==w&&(o.value=w)}function _e(o,w){F("size",o===!0?t.miniWidth:w)}return u.instances[t.side]=te,_e(t.miniToOverlay,k.value),F("space",W.value),F("offset",he.value),t.showIfAbove===!0&&t.modelValue!==!0&&S.value===!0&&t["onUpdate:modelValue"]!==void 0&&a("update:modelValue",!0),Z(()=>{a("onLayout",W.value),a("miniState",q.value),m=t.showIfAbove===!0;const o=()=>{(S.value===!0?T:R)(!1,!0)};if(u.totalWidth.value!==0){Xe(o);return}y=x(u.totalWidth,()=>{y(),y=void 0,S.value===!1&&t.showIfAbove===!0&&g.value===!1?_(!1):o()})}),ze(()=>{y!==void 0&&y(),f!==null&&(clearTimeout(f),f=null),S.value===!0&&pe(),u.instances[t.side]===te&&(u.instances[t.side]=void 0,F("size",0),F("offset",0),F("space",!1))}),()=>{const o=[];g.value===!0&&(t.noSwipeOpen===!1&&o.push(Ie($("div",{key:"open",class:`q-drawer__opener fixed-${t.side}`,"aria-hidden":"true"}),Tt.value)),o.push(Ye("div",{ref:"backdrop",class:xt.value,style:St.value,"aria-hidden":"true",onClick:P},void 0,"backdrop",t.noSwipeBackdrop!==!0&&S.value===!0,()=>At.value)));const w=q.value===!0&&n.mini!==void 0,I=[$("div",{...i,key:""+w,class:[Bt.value,i.class]},w===!0?n.mini():ta(n.default))];return t.elevated===!0&&S.value===!0&&I.push($("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),o.push(Ye("aside",{ref:"content",class:It.value,style:Pt.value},I,"contentclose",t.noSwipeClose!==!0&&g.value===!0,()=>Mt.value)),$("div",{class:"q-drawer-container"},o)}}}),Aa=G({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:n,emit:a}){const{proxy:{$q:i}}=J(),e=Ve(Le,z);if(e===z)return console.error("QFooter needs to be child of QLayout"),z;const l=C(parseInt(t.heightHint,10)),r=C(!0),v=C(na.value===!0||e.isContainer.value===!0?0:window.innerHeight),s=h(()=>t.reveal===!0||e.view.value.indexOf("F")>-1||i.platform.is.ios&&e.isContainer.value===!0),d=h(()=>e.isContainer.value===!0?e.containerHeight.value:v.value),u=h(()=>{if(t.modelValue!==!0)return 0;if(s.value===!0)return r.value===!0?l.value:0;const _=e.scroll.value.position+d.value+l.value-e.height.value;return _>0?_:0}),m=h(()=>t.modelValue!==!0||s.value===!0&&r.value!==!0),f=h(()=>t.modelValue===!0&&m.value===!0&&t.reveal===!0),y=h(()=>"q-footer q-layout__section--marginal "+(s.value===!0?"fixed":"absolute")+"-bottom"+(t.bordered===!0?" q-footer--bordered":"")+(m.value===!0?" q-footer--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus"+(s.value!==!0?" hidden":""):"")),g=h(()=>{const _=e.rows.value.bottom,P={};return _[0]==="l"&&e.left.space===!0&&(P[i.lang.rtl===!0?"right":"left"]=`${e.left.size}px`),_[2]==="r"&&e.right.space===!0&&(P[i.lang.rtl===!0?"left":"right"]=`${e.right.size}px`),P});function q(_,P){e.update("footer",_,P)}function k(_,P){_.value!==P&&(_.value=P)}function S({height:_}){k(l,_),q("size",_)}function b(){if(t.reveal!==!0)return;const{direction:_,position:P,inflectionPoint:fe}=e.scroll.value;k(r,_==="up"||P-fe<100||e.height.value-d.value-P-l.value<300)}function T(_){f.value===!0&&k(r,!0),a("focusin",_)}x(()=>t.modelValue,_=>{q("space",_),k(r,!0),e.animate()}),x(u,_=>{q("offset",_)}),x(()=>t.reveal,_=>{_===!1&&k(r,t.modelValue)}),x(r,_=>{e.animate(),a("reveal",_)}),x([l,e.scroll,e.height],b),x(()=>i.screen.height,_=>{e.isContainer.value!==!0&&k(v,_)});const R={};return e.instances.footer=R,t.modelValue===!0&&q("size",l.value),q("space",t.modelValue),q("offset",u.value),ze(()=>{e.instances.footer===R&&(e.instances.footer=void 0,q("size",0),q("offset",0),q("space",!1))}),()=>{const _=ft(n.default,[$(gt,{debounce:0,onResize:S})]);return t.elevated===!0&&_.push($("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),$("footer",{class:y.value,style:g.value,onFocusin:T},_)}}}),Va=G({name:"QInnerLoading",props:{...De,...la,showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(t,{slots:n}){const a=J(),i=Fe(t,a.proxy.$q),{transitionProps:e,transitionStyle:l}=ia(t),r=h(()=>"q-inner-loading absolute-full column flex-center"+(i.value===!0?" q-inner-loading--dark":"")),v=h(()=>"q-inner-loading__label"+(t.labelClass!==void 0?` ${t.labelClass}`:""));function s(){const u=[$(ra,{size:t.size,color:t.color})];return t.label!==void 0&&u.push($("div",{class:v.value,style:t.labelStyle},[t.label])),u}function d(){return t.showing===!0?$("div",{class:r.value,style:l.value},n.default!==void 0?n.default():s()):null}return()=>$(ua,e.value,d)}});const La={xs:2,sm:4,md:6,lg:10,xl:14};function ut(t,n,a){return{transform:n===!0?`translateX(${a.lang.rtl===!0?"-":""}100%) scale3d(${-t},1,1)`:`scale3d(${t},1,1)`}}var za=G({name:"QLinearProgress",props:{...De,...oa,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(t,{slots:n}){const{proxy:a}=J(),i=Fe(t,a.$q),e=sa(t,La),l=h(()=>t.indeterminate===!0||t.query===!0),r=h(()=>t.reverse!==t.query),v=h(()=>({...e.value!==null?e.value:{},"--q-linear-progress-speed":`${t.animationSpeed}ms`})),s=h(()=>"q-linear-progress"+(t.color!==void 0?` text-${t.color}`:"")+(t.reverse===!0||t.query===!0?" q-linear-progress--reverse":"")+(t.rounded===!0?" rounded-borders":"")),d=h(()=>ut(t.buffer!==void 0?t.buffer:1,r.value,a.$q)),u=h(()=>`with${t.instantFeedback===!0?"out":""}-transition`),m=h(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${u.value} q-linear-progress__track--${i.value===!0?"dark":"light"}`+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),f=h(()=>ut(l.value===!0?1:t.value,r.value,a.$q)),y=h(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${u.value} q-linear-progress__model--${l.value===!0?"in":""}determinate`),g=h(()=>({width:`${t.value*100}%`})),q=h(()=>`q-linear-progress__stripe absolute-${t.reverse===!0?"right":"left"} q-linear-progress__stripe--${u.value}`);return()=>{const k=[$("div",{class:m.value,style:d.value}),$("div",{class:y.value,style:f.value})];return t.stripe===!0&&l.value===!1&&k.push($("div",{class:q.value,style:g.value})),$("div",{class:s.value,style:v.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":t.indeterminate===!0?void 0:t.value},ft(n.default,k))}}});const Da={class:"playback-update-container"},Fa={class:"spaced-inputs"},Qa={class:"row justify-around q-mb-sm"},Oa=ee({__name:"PlaybackUpdater",setup(t){const n=C(30),a=C(0),i=C(0),e=C(!1);let l;function r(){return a.value<0&&Math.abs(a.value)<n.value}function v(u){return u>0?L.pause().pipe(Ia(u*1e3)):Ke("")}function s(u=!1){l&&l.unsubscribe(),u&&(xe.msgSuccess("Playback Updated","Settings cleared."),n.value=30,a.value=0,i.value=0,e.value=!1)}function d(u,m,f,y=!1){let g=u;console.log(`Scrubber ${u}, Playback ${m}, Pause ${f}`),parseInt(u)+parseInt(m)===0&&(console.info("Scrubber and playback will cancel out, adjusting by 5 seconds."),g-=5),s(),l=pt(m*1e3).pipe(ue(()=>v(f).pipe(ue(()=>L.fetchQueue().pipe(Pe(q=>q.queue.at(0)))),ue(q=>L.nextTrack().pipe(Pe(()=>q))),ue(q=>g>0?L.scrubToSeconds(g):g<0&&q?(console.info("Going to last "+Math.abs(g)+" seconds"),L.scrubToSeconds(Math.round(q.duration_ms/1e3)-Math.abs(g))):Ke(!0))))).subscribe(()=>{xe.msgSuccess("Playback Updated",`Skipped song, and scrubbed to ${u} seconds`),d(u,m,f)}),y&&(xe.msgSuccess("Playback Update","Settings changed."),e.value=!0)}return(u,m)=>(O(),K("div",Da,[B("div",Fa,[c(X,{square:"",outlined:"",modelValue:n.value,"onUpdate:modelValue":m[0]||(m[0]=f=>n.value=f),label:"Song Timer",type:"number",min:"0",oninput:`this.value = 
 !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null`},null,8,["modelValue"]),c(X,{square:"",outlined:"",modelValue:a.value,"onUpdate:modelValue":m[1]||(m[1]=f=>a.value=f),label:"Position In Song",type:"number"},null,8,["modelValue"]),c(X,{square:"",outlined:"",modelValue:i.value,"onUpdate:modelValue":m[2]||(m[2]=f=>i.value=f),label:"Time between songs",type:"number",min:"0",oninput:`this.value = 
 !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null`},null,8,["modelValue"])]),B("div",Qa,[c(E,{disable:r(),onClick:m[3]||(m[3]=f=>d(a.value,n.value,i.value,!0)),color:"primary"},{default:p(()=>[V(" Update! ")]),_:1},8,["disable"]),c(E,{disable:!e.value,onClick:m[4]||(m[4]=f=>s(!0)),color:"warning"},{default:p(()=>[V(" Clear! ")]),_:1},8,["disable"])])]))}});const Ea={class:"row justify-between q-pa-sm",id:"now-playing-container"},Na={class:"row",id:"song-info"},Ha={class:"column justify-center"},Ua={class:"column now-playing-details justify-center"},Ra={lines:"1"},Wa={class:"text-weight-medium"},ja={class:"text-grey-8"},Xa={id:"timer-functions"},Ya={class:"column justify-center"},Ka=ee({__name:"NowPlaying",setup(t){const n=L,a=C(void 0),i=C("NA"),e=C("NA"),l=C(""),r=C(0);function v(){n.fetchPlaybackState().subscribe(s=>{var d;s&&s.item&&s.item.type=="track"&&s.item.id!==((d=a.value)==null?void 0:d.id)&&(r.value=0,a.value=s.item,e.value=s.item.name,i.value=s.item.artists.map(u=>u.name).join(", "),l.value=s.item.album.images.reduce((u,m)=>{var f,y;return((f=u.width)!=null?f:0)<((y=m.width)!=null?y:0)?u:m}).url,n.addSongToPlayed(s.item))})}return Z(()=>{setInterval(()=>{r.value=r.value+30/1e3},1e3),v(),setInterval(()=>{v()},5e3)}),(s,d)=>{var u;return O(),K("div",Ea,[B("div",Na,[B("div",Ha,[c(oe,{rounded:"",class:"q-mr-md",id:"current-album"},{default:p(()=>[c(mt,{src:l.value},null,8,["src"])]),_:1})]),B("div",Ua,[B("div",Ra,[B("span",Wa,N((u=a.value)==null?void 0:u.name),1)]),B("div",null,[B("span",ja,N(i.value),1)])])]),B("div",Xa,[c(za,{value:r.value,rounded:"",color:"purple","track-color":"orange",id:"timer"},null,8,["value"])]),B("div",Ya,[c(E,{size:"lg",flat:"",dense:"",round:"",icon:"settings"},{default:p(()=>[c(ht,null,{default:p(()=>[c(Oa)]),_:1})]),_:1})])])}}});var rt;const Ga=typeof window!="undefined",ot=()=>{};Ga&&((rt=window==null?void 0:window.navigator)==null?void 0:rt.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function st(t){return typeof t=="function"?t():ve(t)}function Ja(t,n){function a(...i){return new Promise((e,l)=>{Promise.resolve(t(()=>n.apply(this,i),{fn:n,thisArg:this,args:i})).then(e).catch(l)})}return a}function Za(t,n={}){let a,i,e=ot;const l=v=>{clearTimeout(v),e(),e=ot};return v=>{const s=st(t),d=st(n.maxWait);return a&&l(a),s<=0||d!==void 0&&d<=0?(i&&(l(i),i=null),Promise.resolve(v())):new Promise((u,m)=>{e=n.rejectOnCancel?m:u,d&&!i&&(i=setTimeout(()=>{a&&l(a),i=null,u(v())},d)),a=setTimeout(()=>{i&&l(i),i=null,u(v())},s)})}}function wt(t,n=200,a={}){return Ja(Za(n,a),t)}const en=B("span",{class:"text-weight-medium"}," Add New Playlist ",-1),tn={class:"text-weight-medium"},an={class:"text-grey-8"},nn={class:"text-grey-8 q-gutter-xs"},ln=ee({__name:"PlaylistList",setup(t){let n=[];const a=C([]),i=C(""),e=L,l=C(void 0),r=C(void 0),v=wt(()=>{console.log("Filtering with: "+i.value),i.value||(a.value=n),a.value=n.filter(u=>u.name.toLowerCase().includes(i.value.toLowerCase()))},300);Z(()=>{e.fetchPlaylists().pipe(se(u=>{n=u,a.value=u,e.loading=!1})).subscribe(),e.createdPlaylist.pipe($a(u=>!!u),se(u=>{n.push(u),a.value=[u,...a.value]})).subscribe()});function s(u){l.value="playlist",r.value=u==null?void 0:u.id,console.log("Open the dialog, with mode 'playlist', passing in the playlist id")}function d(u){l.value="bingo",r.value=u==null?void 0:u.id,console.log("Open the dialog, with mode 'bingo', passing in the playlist id")}return(u,m)=>(O(),K(Me,null,[c(X,{square:"",outlined:"",modelValue:i.value,"onUpdate:modelValue":[m[0]||(m[0]=f=>i.value=f),ve(v)],label:"Filter Playlists"},null,8,["modelValue","onUpdate:modelValue"]),c(Ge,{bordered:"",class:"rounded-borders"},{default:p(()=>[Ie((O(),Te(ie,{clickable:"",onClick:m[1]||(m[1]=f=>s())},{default:p(()=>[c(Q,{avatar:""},{default:p(()=>[c(oe,{rounded:"",color:"green","text-color":"white",icon:"add",size:"48px"})]),_:1}),c(Q,null,{default:p(()=>[c(Se,null,{default:p(()=>[en]),_:1})]),_:1})]),_:1})),[[Je]]),(O(!0),K(Me,null,da(a.value,f=>Ie((O(),Te(ie,{key:f.id,clickable:"",to:"/dashboard/"+f.id},{default:p(()=>[c(oe,{rounded:"",class:"q-mr-md"},{default:p(()=>{var y;return[c(mt,{src:(y=f.images.at(0))==null?void 0:y.url},null,8,["src"])]}),_:2},1024),c(Q,null,{default:p(()=>[c(Se,{lines:"1"},{default:p(()=>[B("span",tn,[c(Ze,null,{default:p(()=>[V(N(f.name),1)]),_:2},1024),V(" "+N(f.name),1)])]),_:2},1024),c(Se,{lines:"1"},{default:p(()=>[B("span",an,[c(Ze,null,{default:p(()=>[V(N(f.description),1)]),_:2},1024),V(" "+N(f.description),1)])]),_:2},1024)]),_:2},1024),c(Q,{side:""},{default:p(()=>[B("div",nn,[c(E,{size:"12px",flat:"",dense:"",round:"",icon:"more_vert",onClick:m[2]||(m[2]=va(()=>{},["prevent"]))},{default:p(()=>[c(ht,{"auto-close":""},{default:p(()=>[c(Ge,null,{default:p(()=>[c(ie,{clickable:"",onClick:y=>d(f)},{default:p(()=>[c(Q,{avatar:""},{default:p(()=>[c(et,{name:"note_add"})]),_:1}),c(Q,null,{default:p(()=>[V("Create Bingo Cards")]),_:1})]),_:2},1032,["onClick"]),c(ie,{clickable:"",onClick:y=>s(f)},{default:p(()=>[c(Q,{avatar:""},{default:p(()=>[c(et,{name:"playlist_add"})]),_:1}),c(Q,null,{default:p(()=>[V("Create Subplaylist")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1032,["to"])),[[Je]])),128))]),_:1}),c(ca,{dialog_mode:l.value,playlist:r.value},null,8,["dialog_mode","playlist"])],64))}}),un=ee({__name:"RecentlyPlayed",setup(t){const n=L;let a=C([]);const i=C(a.value.map(r=>r.song)),e=C(""),l=wt(()=>{console.log("Filtering with: "+e.value),e.value||(i.value=a.value.map(r=>r.song)),i.value=a.value.map(r=>r.song).filter(r=>r.name.toLowerCase().includes(e.value.toLowerCase()))},300);return x(()=>a.value,r=>{e.value||(i.value=r.map(v=>v.song))},{deep:!0}),Z(()=>{n.storeSessionPlayed.pipe(se(r=>{a.value=[...r]})).subscribe()}),(r,v)=>(O(),K(Me,null,[c(X,{square:"",outlined:"",modelValue:e.value,"onUpdate:modelValue":[v[0]||(v[0]=s=>e.value=s),ve(l)],label:"Filter Songs"},null,8,["modelValue","onUpdate:modelValue"]),c(fa,{songs:i.value,mini:!0},null,8,["songs"])],64))}}),rn=B("img",{src:"https://cdn.quasar.dev/logo-v2/svg/logo-mono-white.svg"},null,-1),cn=ee({__name:"MainLayout",setup(t){const n=L,a=C(0),i=C(!1),e=C(!1),l=C(!1);function r(){i.value=!i.value}function v(){e.value=!e.value}function s(){n.refreshToken().subscribe()}return Z(()=>{n.loadingState.pipe(se(d=>{l.value=d})).subscribe(),setInterval(()=>{a.value=Math.round((n.expiry-Date.now())/1e3/60)},5e3)}),(d,u)=>{const m=ma("router-view");return O(),Te(ya,{view:"hHh LpR fFf"},{default:p(()=>[c(Ta,{elevated:"",class:"bg-primary text-white"},{default:p(()=>[c(tt,null,{default:p(()=>[c(E,{dense:"",flat:"",round:"",icon:"menu",onClick:r}),c(ha,null,{default:p(()=>[c(oe,null,{default:p(()=>[rn]),_:1}),V(" Expires In "+N(a.value)+" Minutes ",1)]),_:1}),c(E,{dense:"",flat:"",round:"",icon:"logout",onClick:u[0]||(u[0]=f=>ve(n).logout())}),c(E,{dense:"",flat:"",round:"",icon:"refresh",onClick:s}),c(E,{dense:"",flat:"",round:"",icon:"menu",onClick:v})]),_:1})]),_:1}),c(it,{"show-if-above":"",modelValue:i.value,"onUpdate:modelValue":u[1]||(u[1]=f=>i.value=f),side:"left",bordered:""},{default:p(()=>[c(ln)]),_:1},8,["modelValue"]),c(it,{"show-if-above":"",modelValue:e.value,"onUpdate:modelValue":u[2]||(u[2]=f=>e.value=f),side:"right",bordered:""},{default:p(()=>[c(un)]),_:1},8,["modelValue"]),c(ga,null,{default:p(()=>[c(m)]),_:1}),c(Aa,{elevated:"",class:"bg-grey-8 text-white"},{default:p(()=>[c(tt,null,{default:p(()=>[c(Ka)]),_:1})]),_:1}),c(Va,{showing:l.value,label:"Loading...","label-class":"text-teal","label-style":"font-size: 2em",size:"lg"},null,8,["showing"])]),_:1})}}});export{cn as default};
