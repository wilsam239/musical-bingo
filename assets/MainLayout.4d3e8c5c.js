import{_ as Ee,U as Zt,V as Ye,W as Xe,X as Yt,Y as ht,Z as gt,$ as Xt,a0 as Gt,a1 as Jt,a2 as Kt,a3 as be,a4 as ne,a5 as ea,a6 as ge,a7 as pt,c as R,B as Oe,C as z,D as Fe,r as C,b as w,w as q,G as ze,a8 as ta,h as V,g as ie,a9 as aa,aa as ee,ab as Ge,H as na,ac as Je,ad as la,ae as ce,af as qe,ag as Ke,ah as Be,ai as De,aj as Ve,ak as oa,al as ua,am as ia,u as Ue,an as sa,a as He,ao as ra,ap as da,aq as ca,o as Z,N as et,ar as le,as as tt,A as bt,at as va,M as fa,T as je,au as ma,av as ha,aw as ga,ax as pa,ay as ba,az as ya,d as Y,t as U,i as T,aA as O,l as i,aB as yt,S as L,m as A,k as y,aC as Qe,aD as J,x as $,aE as E,aF as oe,v as ue,aG as Me,aH as wa,aI as wt,s as D,aJ as N,aK as _a,aL as Ca,aM as ka,q as ae,Q as _t,p as Te,aN as Ct,aO as ve,aP as kt,aQ as at,aR as he,j as nt,aS as W,aT as Le,aU as fe,aV as xa,aW as lt,aX as Aa,aY as ot,aZ as Sa,a_ as qa,e as Ba,a$ as Va,b0 as ut,b1 as Ma}from"./index.d56272e6.js";import{c as xt,Q as At,a as La,b as Pa}from"./QLayout.73ad317d.js";var St={now:function(){return(St.delegate||Date).now()},delegate:void 0},Ia=function(t){Ee(n,t);function n(a,o){return t.call(this)||this}return n.prototype.schedule=function(a,o){return this},n}(Zt),pe={setInterval:function(t,n){for(var a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];var e=pe.delegate;return e!=null&&e.setInterval?e.setInterval.apply(e,Ye([t,n],Xe(a))):setInterval.apply(void 0,Ye([t,n],Xe(a)))},clearInterval:function(t){var n=pe.delegate;return((n==null?void 0:n.clearInterval)||clearInterval)(t)},delegate:void 0},$a=function(t){Ee(n,t);function n(a,o){var e=t.call(this,a,o)||this;return e.scheduler=a,e.work=o,e.pending=!1,e}return n.prototype.schedule=function(a,o){var e;if(o===void 0&&(o=0),this.closed)return this;this.state=a;var l=this.id,s=this.scheduler;return l!=null&&(this.id=this.recycleAsyncId(s,l,o)),this.pending=!0,this.delay=o,this.id=(e=this.id)!==null&&e!==void 0?e:this.requestAsyncId(s,this.id,o),this},n.prototype.requestAsyncId=function(a,o,e){return e===void 0&&(e=0),pe.setInterval(a.flush.bind(a,this),e)},n.prototype.recycleAsyncId=function(a,o,e){if(e===void 0&&(e=0),e!=null&&this.delay===e&&this.pending===!1)return o;o!=null&&pe.clearInterval(o)},n.prototype.execute=function(a,o){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var e=this._execute(a,o);if(e)return e;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(a,o){var e=!1,l;try{this.work(a)}catch(s){e=!0,l=s||new Error("Scheduled action threw falsy error")}if(e)return this.unsubscribe(),l},n.prototype.unsubscribe=function(){if(!this.closed){var a=this,o=a.id,e=a.scheduler,l=e.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Yt(l,this),o!=null&&(this.id=this.recycleAsyncId(e,o,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},n}(Ia),it=function(){function t(n,a){a===void 0&&(a=t.now),this.schedulerActionCtor=n,this.now=a}return t.prototype.schedule=function(n,a,o){return a===void 0&&(a=0),new this.schedulerActionCtor(this,n).schedule(o,a)},t.now=St.now,t}(),Da=function(t){Ee(n,t);function n(a,o){o===void 0&&(o=it.now);var e=t.call(this,a,o)||this;return e.actions=[],e._active=!1,e}return n.prototype.flush=function(a){var o=this.actions;if(this._active){o.push(a);return}var e;this._active=!0;do if(e=a.execute(a.state,a.delay))break;while(a=o.shift());if(this._active=!1,e){for(;a=o.shift();)a.unsubscribe();throw e}},n}(it),qt=new Da($a),Qa=qt,Ta=new ht(function(t){return t.complete()});function Ea(t){return t instanceof Date&&!isNaN(t)}function Oa(t){return t===void 0&&(t=1/0),gt(Xt,t)}function Fa(){return Oa(1)}function za(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Fa()(Gt(t,Jt(t)))}function Bt(t,n,a){t===void 0&&(t=0),a===void 0&&(a=Qa);var o=-1;return n!=null&&(Kt(n)?a=n:o=n),new ht(function(e){var l=Ea(t)?+t-a.now():t;l<0&&(l=0);var s=0;return a.schedule(function(){e.closed||(e.next(s++),0<=o?this.schedule(void 0,o):e.complete())},l)})}function Vt(t,n){return be(function(a,o){var e=0;a.subscribe(ne(o,function(l){return t.call(n,l,e++)&&o.next(l)}))})}function st(t){return t<=0?function(){return Ta}:be(function(n,a){var o=0;n.subscribe(ne(a,function(e){++o<=t&&(a.next(e),t<=o&&a.complete())}))})}function Ua(){return be(function(t,n){t.subscribe(ne(n,ea))})}function Ha(t){return ge(function(){return t})}function Mt(t,n){return n?function(a){return za(n.pipe(st(1),Ua()),a.pipe(Mt(t)))}:gt(function(a,o){return pt(t(a,o)).pipe(st(1),Ha(a))})}function ja(t,n){n===void 0&&(n=qt);var a=Bt(t,n);return Mt(function(){return a})}function te(t,n){return be(function(a,o){var e=null,l=0,s=!1,d=function(){return s&&!e&&o.complete()};a.subscribe(ne(o,function(p){e==null||e.unsubscribe();var h=0,u=l++;pt(t(p,u)).subscribe(e=ne(o,function(k){return o.next(n?n(p,k,u,h++):k)},function(){e=null,d()}))},function(){s=!0,d()}))})}var Wa=R({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:n,emit:a}){const{proxy:{$q:o}}=ie(),e=Oe(Fe,z);if(e===z)return console.error("QHeader needs to be child of QLayout"),z;const l=C(parseInt(t.heightHint,10)),s=C(!0),d=w(()=>t.reveal===!0||e.view.value.indexOf("H")>-1||o.platform.is.ios&&e.isContainer.value===!0),p=w(()=>{if(t.modelValue!==!0)return 0;if(d.value===!0)return s.value===!0?l.value:0;const _=l.value-e.scroll.value.position;return _>0?_:0}),h=w(()=>t.modelValue!==!0||d.value===!0&&s.value!==!0),u=w(()=>t.modelValue===!0&&h.value===!0&&t.reveal===!0),k=w(()=>"q-header q-layout__section--marginal "+(d.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(h.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),c=w(()=>{const _=e.rows.value.top,B={};return _[0]==="l"&&e.left.space===!0&&(B[o.lang.rtl===!0?"right":"left"]=`${e.left.size}px`),_[2]==="r"&&e.right.space===!0&&(B[o.lang.rtl===!0?"left":"right"]=`${e.right.size}px`),B});function v(_,B){e.update("header",_,B)}function b(_,B){_.value!==B&&(_.value=B)}function f({height:_}){b(l,_),v("size",_)}function g(_){u.value===!0&&b(s,!0),a("focusin",_)}q(()=>t.modelValue,_=>{v("space",_),b(s,!0),e.animate()}),q(p,_=>{v("offset",_)}),q(()=>t.reveal,_=>{_===!1&&b(s,t.modelValue)}),q(s,_=>{e.animate(),a("reveal",_)}),q(e.scroll,_=>{t.reveal===!0&&b(s,_.direction==="up"||_.position<=t.revealOffset||_.position-_.inflectionPoint<100)});const m={};return e.instances.header=m,t.modelValue===!0&&v("size",l.value),v("space",t.modelValue),v("offset",p.value),ze(()=>{e.instances.header===m&&(e.instances.header=void 0,v("size",0),v("offset",0),v("space",!1))}),()=>{const _=ta(n.default,[]);return t.elevated===!0&&_.push(V("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),_.push(V(xt,{debounce:0,onResize:f})),V("header",{class:k.value,style:c.value,onFocusin:g},_)}}});function Pe(t,n,a){const o=De(t);let e,l=o.left-n.event.x,s=o.top-n.event.y,d=Math.abs(l),p=Math.abs(s);const h=n.direction;h.horizontal===!0&&h.vertical!==!0?e=l<0?"left":"right":h.horizontal!==!0&&h.vertical===!0?e=s<0?"up":"down":h.up===!0&&s<0?(e="up",d>p&&(h.left===!0&&l<0?e="left":h.right===!0&&l>0&&(e="right"))):h.down===!0&&s>0?(e="down",d>p&&(h.left===!0&&l<0?e="left":h.right===!0&&l>0&&(e="right"))):h.left===!0&&l<0?(e="left",d<p&&(h.up===!0&&s<0?e="up":h.down===!0&&s>0&&(e="down"))):h.right===!0&&l>0&&(e="right",d<p&&(h.up===!0&&s<0?e="up":h.down===!0&&s>0&&(e="down")));let u=!1;if(e===void 0&&a===!1){if(n.event.isFirst===!0||n.event.lastDir===void 0)return{};e=n.event.lastDir,u=!0,e==="left"||e==="right"?(o.left-=l,d=0,l=0):(o.top-=s,p=0,s=0)}return{synthetic:u,payload:{evt:t,touch:n.event.mouse!==!0,mouse:n.event.mouse===!0,position:o,direction:e,isFirst:n.event.isFirst,isFinal:a===!0,duration:Date.now()-n.event.time,distance:{x:d,y:p},offset:{x:l,y:s},delta:{x:o.left-n.event.lastX,y:o.top-n.event.lastY}}}}let Na=0;var Ie=aa({name:"touch-pan",beforeMount(t,{value:n,modifiers:a}){if(a.mouse!==!0&&ee.has.touch!==!0)return;function o(l,s){a.mouse===!0&&s===!0?oa(l):(a.stop===!0&&Be(l),a.prevent===!0&&Ke(l))}const e={uid:"qvtp_"+Na++,handler:n,modifiers:a,direction:Ge(a),noop:na,mouseStart(l){Je(l,e)&&la(l)&&(ce(e,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),e.start(l,!0))},touchStart(l){if(Je(l,e)){const s=l.target;ce(e,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","passiveCapture"],[s,"touchend","end","passiveCapture"]]),e.start(l)}},start(l,s){if(ee.is.firefox===!0&&qe(t,!0),e.lastEvt=l,s===!0||a.stop===!0){if(e.direction.all!==!0&&(s!==!0||e.modifiers.mouseAllDir!==!0&&e.modifiers.mousealldir!==!0)){const h=l.type.indexOf("mouse")>-1?new MouseEvent(l.type,l):new TouchEvent(l.type,l);l.defaultPrevented===!0&&Ke(h),l.cancelBubble===!0&&Be(h),Object.assign(h,{qKeyEvent:l.qKeyEvent,qClickOutside:l.qClickOutside,qAnchorHandled:l.qAnchorHandled,qClonedBy:l.qClonedBy===void 0?[e.uid]:l.qClonedBy.concat(e.uid)}),e.initialEvent={target:l.target,event:h}}Be(l)}const{left:d,top:p}=De(l);e.event={x:d,y:p,time:Date.now(),mouse:s===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:d,lastY:p}},move(l){if(e.event===void 0)return;const s=De(l),d=s.left-e.event.x,p=s.top-e.event.y;if(d===0&&p===0)return;e.lastEvt=l;const h=e.event.mouse===!0,u=()=>{o(l,h);let v;a.preserveCursor!==!0&&a.preservecursor!==!0&&(v=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),h===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ua(),e.styleCleanup=b=>{if(e.styleCleanup=void 0,v!==void 0&&(document.documentElement.style.cursor=v),document.body.classList.remove("non-selectable"),h===!0){const f=()=>{document.body.classList.remove("no-pointer-events--children")};b!==void 0?setTimeout(()=>{f(),b()},50):f()}else b!==void 0&&b()}};if(e.event.detected===!0){e.event.isFirst!==!0&&o(l,e.event.mouse);const{payload:v,synthetic:b}=Pe(l,e,!1);v!==void 0&&(e.handler(v)===!1?e.end(l):(e.styleCleanup===void 0&&e.event.isFirst===!0&&u(),e.event.lastX=v.position.left,e.event.lastY=v.position.top,e.event.lastDir=b===!0?void 0:v.direction,e.event.isFirst=!1));return}if(e.direction.all===!0||h===!0&&(e.modifiers.mouseAllDir===!0||e.modifiers.mousealldir===!0)){u(),e.event.detected=!0,e.move(l);return}const k=Math.abs(d),c=Math.abs(p);k!==c&&(e.direction.horizontal===!0&&k>c||e.direction.vertical===!0&&k<c||e.direction.up===!0&&k<c&&p<0||e.direction.down===!0&&k<c&&p>0||e.direction.left===!0&&k>c&&d<0||e.direction.right===!0&&k>c&&d>0?(e.event.detected=!0,e.move(l)):e.end(l,!0))},end(l,s){if(e.event!==void 0){if(Ve(e,"temp"),ee.is.firefox===!0&&qe(t,!1),s===!0)e.styleCleanup!==void 0&&e.styleCleanup(),e.event.detected!==!0&&e.initialEvent!==void 0&&e.initialEvent.target.dispatchEvent(e.initialEvent.event);else if(e.event.detected===!0){e.event.isFirst===!0&&e.handler(Pe(l===void 0?e.lastEvt:l,e).payload);const{payload:d}=Pe(l===void 0?e.lastEvt:l,e,!0),p=()=>{e.handler(d)};e.styleCleanup!==void 0?e.styleCleanup(p):p()}e.event=void 0,e.initialEvent=void 0,e.lastEvt=void 0}}};if(t.__qtouchpan=e,a.mouse===!0){const l=a.mouseCapture===!0||a.mousecapture===!0?"Capture":"";ce(e,"main",[[t,"mousedown","mouseStart",`passive${l}`]])}ee.has.touch===!0&&ce(e,"main",[[t,"touchstart","touchStart",`passive${a.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,n){const a=t.__qtouchpan;a!==void 0&&(n.oldValue!==n.value&&(typeof value!="function"&&a.end(),a.handler=n.value),a.direction=Ge(n.modifiers))},beforeUnmount(t){const n=t.__qtouchpan;n!==void 0&&(n.event!==void 0&&n.end(),Ve(n,"main"),Ve(n,"temp"),ee.is.firefox===!0&&qe(t,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete t.__qtouchpan)}});function me(t,n,a){return a<=n?n:Math.min(a,Math.max(n,t))}const rt=150;var $e=R({name:"QDrawer",inheritAttrs:!1,props:{...ia,...Ue,side:{type:String,default:"left",validator:t=>["left","right"].includes(t)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:t=>["default","desktop","mobile"].includes(t),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...sa,"onLayout","miniState"],setup(t,{slots:n,emit:a,attrs:o}){const e=ie(),{proxy:{$q:l}}=e,s=He(t,l),{preventBodyScroll:d}=va(),{registerTimeout:p,removeTimeout:h}=ra(),u=Oe(Fe,z);if(u===z)return console.error("QDrawer needs to be child of QLayout"),z;let k,c=null,v;const b=C(t.behavior==="mobile"||t.behavior!=="desktop"&&u.totalWidth.value<=t.breakpoint),f=w(()=>t.mini===!0&&b.value!==!0),g=w(()=>f.value===!0?t.miniWidth:t.width),m=C(t.showIfAbove===!0&&b.value===!1?!0:t.modelValue===!0),_=w(()=>t.persistent!==!0&&(b.value===!0||$t.value===!0));function B(r,S){if(ye(),r!==!1&&u.animate(),Q(0),b.value===!0){const I=u.instances[re.value];I!==void 0&&I.belowBreakpoint===!0&&I.hide(!1),H(1),u.isContainer.value!==!0&&d(!0)}else H(0),r!==!1&&xe(!1);p(()=>{r!==!1&&xe(!0),S!==!0&&a("show",r)},rt)}function P(r,S){It(),r!==!1&&u.animate(),H(0),Q(X.value*g.value),Ae(),S!==!0?p(()=>{a("hide",r)},rt):h()}const{show:x,hide:M}=da({showing:m,hideOnRouteChange:_,handleShow:B,handleHide:P}),{addToHistory:ye,removeFromHistory:It}=ca(m,M,_),se={belowBreakpoint:b,hide:M},F=w(()=>t.side==="right"),X=w(()=>(l.lang.rtl===!0?-1:1)*(F.value===!0?1:-1)),We=C(0),G=C(!1),we=C(!1),Ne=C(g.value*X.value),re=w(()=>F.value===!0?"left":"right"),_e=w(()=>m.value===!0&&b.value===!1&&t.overlay===!1?t.miniToOverlay===!0?t.miniWidth:g.value:0),Ce=w(()=>t.overlay===!0||t.miniToOverlay===!0||u.view.value.indexOf(F.value?"R":"L")>-1||l.platform.is.ios===!0&&u.isContainer.value===!0),K=w(()=>t.overlay===!1&&m.value===!0&&b.value===!1),$t=w(()=>t.overlay===!0&&m.value===!0&&b.value===!1),Dt=w(()=>"fullscreen q-drawer__backdrop"+(m.value===!1&&G.value===!1?" hidden":"")),Qt=w(()=>({backgroundColor:`rgba(0,0,0,${We.value*.4})`})),Re=w(()=>F.value===!0?u.rows.value.top[2]==="r":u.rows.value.top[0]==="l"),Tt=w(()=>F.value===!0?u.rows.value.bottom[2]==="r":u.rows.value.bottom[0]==="l"),Et=w(()=>{const r={};return u.header.space===!0&&Re.value===!1&&(Ce.value===!0?r.top=`${u.header.offset}px`:u.header.space===!0&&(r.top=`${u.header.size}px`)),u.footer.space===!0&&Tt.value===!1&&(Ce.value===!0?r.bottom=`${u.footer.offset}px`:u.footer.space===!0&&(r.bottom=`${u.footer.size}px`)),r}),Ot=w(()=>{const r={width:`${g.value}px`,transform:`translateX(${Ne.value}px)`};return b.value===!0?r:Object.assign(r,Et.value)}),Ft=w(()=>"q-drawer__content fit "+(u.isContainer.value!==!0?"scroll":"overflow-auto")),zt=w(()=>`q-drawer q-drawer--${t.side}`+(we.value===!0?" q-drawer--mini-animate":"")+(t.bordered===!0?" q-drawer--bordered":"")+(s.value===!0?" q-drawer--dark q-dark":"")+(G.value===!0?" no-transition":m.value===!0?"":" q-layout--prevent-focus")+(b.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${f.value===!0?"mini":"standard"}`+(Ce.value===!0||K.value!==!0?" fixed":"")+(t.overlay===!0||t.miniToOverlay===!0?" q-drawer--on-top":"")+(Re.value===!0?" q-drawer--top-padding":""))),Ut=w(()=>{const r=l.lang.rtl===!0?t.side:re.value;return[[Ie,Nt,void 0,{[r]:!0,mouse:!0}]]}),Ht=w(()=>{const r=l.lang.rtl===!0?re.value:t.side;return[[Ie,Ze,void 0,{[r]:!0,mouse:!0}]]}),jt=w(()=>{const r=l.lang.rtl===!0?re.value:t.side;return[[Ie,Ze,void 0,{[r]:!0,mouse:!0,mouseAllDir:!0}]]});function ke(){Rt(b,t.behavior==="mobile"||t.behavior!=="desktop"&&u.totalWidth.value<=t.breakpoint)}q(b,r=>{r===!0?(k=m.value,m.value===!0&&M(!1)):t.overlay===!1&&t.behavior!=="mobile"&&k!==!1&&(m.value===!0?(Q(0),H(0),Ae()):x(!1))}),q(()=>t.side,(r,S)=>{u.instances[S]===se&&(u.instances[S]=void 0,u[S].space=!1,u[S].offset=0),u.instances[r]=se,u[r].size=g.value,u[r].space=K.value,u[r].offset=_e.value}),q(u.totalWidth,()=>{(u.isContainer.value===!0||document.qScrollPrevented!==!0)&&ke()}),q(()=>t.behavior+t.breakpoint,ke),q(u.isContainer,r=>{m.value===!0&&d(r!==!0),r===!0&&ke()}),q(u.scrollbarWidth,()=>{Q(m.value===!0?0:void 0)}),q(_e,r=>{j("offset",r)}),q(K,r=>{a("onLayout",r),j("space",r)}),q(F,()=>{Q()}),q(g,r=>{Q(),Se(t.miniToOverlay,r)}),q(()=>t.miniToOverlay,r=>{Se(r,g.value)}),q(()=>l.lang.rtl,()=>{Q()}),q(()=>t.mini,()=>{t.noMiniAnimation||t.modelValue===!0&&(Wt(),u.animate())}),q(f,r=>{a("miniState",r)});function Q(r){r===void 0?et(()=>{r=m.value===!0?0:g.value,Q(X.value*r)}):(u.isContainer.value===!0&&F.value===!0&&(b.value===!0||Math.abs(r)===g.value)&&(r+=X.value*u.scrollbarWidth.value),Ne.value=r)}function H(r){We.value=r}function xe(r){const S=r===!0?"remove":u.isContainer.value!==!0?"add":"";S!==""&&document.body.classList[S]("q-body--drawer-toggle")}function Wt(){c!==null&&clearTimeout(c),e.proxy&&e.proxy.$el&&e.proxy.$el.classList.add("q-drawer--mini-animate"),we.value=!0,c=setTimeout(()=>{c=null,we.value=!1,e&&e.proxy&&e.proxy.$el&&e.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Nt(r){if(m.value!==!1)return;const S=g.value,I=me(r.distance.x,0,S);if(r.isFinal===!0){I>=Math.min(75,S)===!0?x():(u.animate(),H(0),Q(X.value*S)),G.value=!1;return}Q((l.lang.rtl===!0?F.value!==!0:F.value)?Math.max(S-I,0):Math.min(0,I-S)),H(me(I/S,0,1)),r.isFirst===!0&&(G.value=!0)}function Ze(r){if(m.value!==!0)return;const S=g.value,I=r.direction===t.side,de=(l.lang.rtl===!0?I!==!0:I)?me(r.distance.x,0,S):0;if(r.isFinal===!0){Math.abs(de)<Math.min(75,S)===!0?(u.animate(),H(1),Q(0)):M(),G.value=!1;return}Q(X.value*de),H(me(1-de/S,0,1)),r.isFirst===!0&&(G.value=!0)}function Ae(){d(!1),xe(!0)}function j(r,S){u.update(t.side,r,S)}function Rt(r,S){r.value!==S&&(r.value=S)}function Se(r,S){j("size",r===!0?t.miniWidth:S)}return u.instances[t.side]=se,Se(t.miniToOverlay,g.value),j("space",K.value),j("offset",_e.value),t.showIfAbove===!0&&t.modelValue!==!0&&m.value===!0&&t["onUpdate:modelValue"]!==void 0&&a("update:modelValue",!0),Z(()=>{a("onLayout",K.value),a("miniState",f.value),k=t.showIfAbove===!0;const r=()=>{(m.value===!0?B:P)(!1,!0)};if(u.totalWidth.value!==0){et(r);return}v=q(u.totalWidth,()=>{v(),v=void 0,m.value===!1&&t.showIfAbove===!0&&b.value===!1?x(!1):r()})}),ze(()=>{v!==void 0&&v(),c!==null&&(clearTimeout(c),c=null),m.value===!0&&Ae(),u.instances[t.side]===se&&(u.instances[t.side]=void 0,j("size",0),j("offset",0),j("space",!1))}),()=>{const r=[];b.value===!0&&(t.noSwipeOpen===!1&&r.push(le(V("div",{key:"open",class:`q-drawer__opener fixed-${t.side}`,"aria-hidden":"true"}),Ut.value)),r.push(tt("div",{ref:"backdrop",class:Dt.value,style:Qt.value,"aria-hidden":"true",onClick:M},void 0,"backdrop",t.noSwipeBackdrop!==!0&&m.value===!0,()=>jt.value)));const S=f.value===!0&&n.mini!==void 0,I=[V("div",{...o,key:""+S,class:[Ft.value,o.class]},S===!0?n.mini():bt(n.default))];return t.elevated===!0&&m.value===!0&&I.push(V("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),r.push(tt("aside",{ref:"content",class:zt.value,style:Ot.value},I,"contentclose",t.noSwipeClose!==!0&&b.value===!0,()=>Ht.value)),V("div",{class:"q-drawer-container"},r)}}}),Ra=R({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:n,emit:a}){const{proxy:{$q:o}}=ie(),e=Oe(Fe,z);if(e===z)return console.error("QFooter needs to be child of QLayout"),z;const l=C(parseInt(t.heightHint,10)),s=C(!0),d=C(fa.value===!0||e.isContainer.value===!0?0:window.innerHeight),p=w(()=>t.reveal===!0||e.view.value.indexOf("F")>-1||o.platform.is.ios&&e.isContainer.value===!0),h=w(()=>e.isContainer.value===!0?e.containerHeight.value:d.value),u=w(()=>{if(t.modelValue!==!0)return 0;if(p.value===!0)return s.value===!0?l.value:0;const x=e.scroll.value.position+h.value+l.value-e.height.value;return x>0?x:0}),k=w(()=>t.modelValue!==!0||p.value===!0&&s.value!==!0),c=w(()=>t.modelValue===!0&&k.value===!0&&t.reveal===!0),v=w(()=>"q-footer q-layout__section--marginal "+(p.value===!0?"fixed":"absolute")+"-bottom"+(t.bordered===!0?" q-footer--bordered":"")+(k.value===!0?" q-footer--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus"+(p.value!==!0?" hidden":""):"")),b=w(()=>{const x=e.rows.value.bottom,M={};return x[0]==="l"&&e.left.space===!0&&(M[o.lang.rtl===!0?"right":"left"]=`${e.left.size}px`),x[2]==="r"&&e.right.space===!0&&(M[o.lang.rtl===!0?"left":"right"]=`${e.right.size}px`),M});function f(x,M){e.update("footer",x,M)}function g(x,M){x.value!==M&&(x.value=M)}function m({height:x}){g(l,x),f("size",x)}function _(){if(t.reveal!==!0)return;const{direction:x,position:M,inflectionPoint:ye}=e.scroll.value;g(s,x==="up"||M-ye<100||e.height.value-h.value-M-l.value<300)}function B(x){c.value===!0&&g(s,!0),a("focusin",x)}q(()=>t.modelValue,x=>{f("space",x),g(s,!0),e.animate()}),q(u,x=>{f("offset",x)}),q(()=>t.reveal,x=>{x===!1&&g(s,t.modelValue)}),q(s,x=>{e.animate(),a("reveal",x)}),q([l,e.scroll,e.height],_),q(()=>o.screen.height,x=>{e.isContainer.value!==!0&&g(d,x)});const P={};return e.instances.footer=P,t.modelValue===!0&&f("size",l.value),f("space",t.modelValue),f("offset",u.value),ze(()=>{e.instances.footer===P&&(e.instances.footer=void 0,f("size",0),f("offset",0),f("space",!1))}),()=>{const x=je(n.default,[V(xt,{debounce:0,onResize:m})]);return t.elevated===!0&&x.push(V("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),V("footer",{class:v.value,style:b.value,onFocusin:B},x)}}}),Lt=R({name:"QInnerLoading",props:{...Ue,...ma,showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(t,{slots:n}){const a=ie(),o=He(t,a.proxy.$q),{transitionProps:e,transitionStyle:l}=ha(t),s=w(()=>"q-inner-loading absolute-full column flex-center"+(o.value===!0?" q-inner-loading--dark":"")),d=w(()=>"q-inner-loading__label"+(t.labelClass!==void 0?` ${t.labelClass}`:""));function p(){const u=[V(pa,{size:t.size,color:t.color})];return t.label!==void 0&&u.push(V("div",{class:d.value,style:t.labelStyle},[t.label])),u}function h(){return t.showing===!0?V("div",{class:s.value,style:l.value},n.default!==void 0?n.default():p()):null}return()=>V(ga,e.value,h)}}),Za="data:image/png;base64,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";const Ya={xs:2,sm:4,md:6,lg:10,xl:14};function dt(t,n,a){return{transform:n===!0?`translateX(${a.lang.rtl===!0?"-":""}100%) scale3d(${-t},1,1)`:`scale3d(${t},1,1)`}}var ct=R({name:"QLinearProgress",props:{...Ue,...ba,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(t,{slots:n}){const{proxy:a}=ie(),o=He(t,a.$q),e=ya(t,Ya),l=w(()=>t.indeterminate===!0||t.query===!0),s=w(()=>t.reverse!==t.query),d=w(()=>({...e.value!==null?e.value:{},"--q-linear-progress-speed":`${t.animationSpeed}ms`})),p=w(()=>"q-linear-progress"+(t.color!==void 0?` text-${t.color}`:"")+(t.reverse===!0||t.query===!0?" q-linear-progress--reverse":"")+(t.rounded===!0?" rounded-borders":"")),h=w(()=>dt(t.buffer!==void 0?t.buffer:1,s.value,a.$q)),u=w(()=>`with${t.instantFeedback===!0?"out":""}-transition`),k=w(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${u.value} q-linear-progress__track--${o.value===!0?"dark":"light"}`+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),c=w(()=>dt(l.value===!0?1:t.value,s.value,a.$q)),v=w(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${u.value} q-linear-progress__model--${l.value===!0?"in":""}determinate`),b=w(()=>({width:`${t.value*100}%`})),f=w(()=>`q-linear-progress__stripe absolute-${t.reverse===!0?"right":"left"} q-linear-progress__stripe--${u.value}`);return()=>{const g=[V("div",{class:k.value,style:h.value}),V("div",{class:v.value,style:c.value})];return t.stripe===!0&&l.value===!1&&g.push(V("div",{class:f.value,style:b.value})),V("div",{class:p.value,style:d.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":t.indeterminate===!0?void 0:t.value},je(n.default,g))}}});const Xa={id:"song-queue-container"},Ga=Y({__name:"SongQueue",setup(t){const n=L,a=C([]),o=C(!0);return Z(()=>{n.fetchQueue().pipe(ge(e=>e.queue),U(e=>{console.log(e),a.value=[...e],o.value=!1,console.log(a.value)})).subscribe()}),(e,l)=>(T(),O("div",Xa,[i(Lt,{showing:o.value,label:"Loading...","label-class":"text-teal","label-style":"font-size: 2em",size:"lg"},null,8,["showing"]),i(yt,{songs:a.value,mini:!0},null,8,["songs"])]))}});const Ja={class:"row q-pa-sm gt-sm",id:"now-playing-container"},Ka={class:"row col-3 no-wrap",id:"song-info"},en={class:"column justify-center"},tn={class:"column now-playing-details justify-center col-shrink"},an={class:"text-weight-medium full-width ellipsis"},nn={class:"text-grey-8 full-width ellipsis"},ln={class:"row justify-center col-grow"},on={id:"timer-functions",class:"row"},un={class:"column justify-center"},sn={class:"column justify-center q-ml-sm q-mr-sm"},rn={class:"column justify-center"},dn={class:"row justify-end col-3"},cn={class:"lt-md column full-width"},vn={class:"row"},fn={class:"column justify-center"},mn={class:"column justify-center"},hn={lines:"1"},gn={class:"text-weight-medium"},pn={lines:"1"},bn={class:"text-weight-medium"},yn={class:"row full-width"},wn=Y({__name:"NowPlaying",setup(t){const n=L,a=C(void 0),o=C("NA"),e=C("NA"),l=C(""),s=C(0),d=C(0);let p=!1;const h=w(()=>{var b,f;const c=Me(s.value),v=d.value>0?d.value:Math.floor(((f=(b=a.value)==null?void 0:b.duration_ms)!=null?f:0)/1e3);return s.value<v?c:Me(v)}),u=w(()=>{var v,b;const c=d.value>0?d.value:Math.floor(((b=(v=a.value)==null?void 0:v.duration_ms)!=null?b:0)/1e3);return s.value/c}),k=C(!1);return C(!0),Z(()=>{setInterval(()=>{(d.value>0||a.value)&&p&&(s.value=s.value+1)},1e3),n.advancedMode.pipe(U(c=>k.value=c)).subscribe(),n.timer.pipe(U(c=>{console.log(`Setting timer to ${c}`),d.value=c,s.value=0})).subscribe(),n.currentPlaybackState.pipe(Vt(c=>!!c),U(c=>{var b,f;const v=(g,m=!1)=>{var _;g.id!==((_=a.value)==null?void 0:_.id)&&(m&&(s.value=0),a.value=g,e.value=g.name,o.value=g.artists.map(B=>B.name).join(", "),l.value=g.album.images.reduce((B,P)=>{var x,M;return((x=B.width)!=null?x:0)<((M=P.width)!=null?M:0)?B:P}).url,n.addSongToPlayed(g))};if(c.item&&c.item.type=="track"){const g=c.item;d.value===0?(s.value=((b=c.progress_ms)!=null?b:0)/1e3,v(g)):v(g,!0)}p=(f=c==null?void 0:c.is_playing)!=null?f:!1})).subscribe()}),(c,v)=>{var b,f,g;return T(),O(N,null,[A("div",Ja,[A("div",Ka,[A("div",en,[i(J,{rounded:"",class:"q-mr-md",id:"current-album"},{default:y(()=>[i(Qe,{src:l.value},null,8,["src"])]),_:1})]),A("div",tn,[A("div",an,[i(oe,null,{default:y(()=>{var m;return[$(E((m=a.value)==null?void 0:m.name),1)]}),_:1}),$(" "+E((b=a.value)==null?void 0:b.name),1)]),A("div",nn,E(o.value),1)])]),A("div",ln,[A("div",on,[A("div",un,E(h.value),1),A("div",sn,[i(ct,{value:u.value,rounded:"","track-color":"grey",id:"timer"},null,8,["value"])]),A("div",rn,E(d.value>0?ue(Me)(d.value):a.value?ue(wa)(a.value.duration_ms):"0:00"),1)])]),A("div",dn,[i(D,{size:"lg",flat:"",dense:"",round:"",icon:"format_list_numbered"},{default:y(()=>[i(oe,null,{default:y(()=>[$("Song Queue")]),_:1}),i(wt,{class:"bg-grey-9"},{default:y(()=>[i(Ga)]),_:1})]),_:1})])]),A("div",cn,[A("div",vn,[A("div",fn,[i(J,{rounded:"",class:"q-ma-sm",id:"current-album"},{default:y(()=>[i(Qe,{src:l.value},null,8,["src"])]),_:1})]),A("div",mn,[A("div",hn,[A("span",gn,E((f=a.value)==null?void 0:f.name),1)]),A("div",pn,[A("span",bn,E((g=a.value)==null?void 0:g.artists.map(m=>m.name).join(", ")),1)])])]),A("div",yn,[i(ct,{value:u.value,rounded:"",color:"purple","track-color":"orange",id:"timer-sm"},null,8,["value"])])])],64)}}});var _n=R({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(t,{slots:n}){const a=w(()=>{const o=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(e=>t[e]===!0).map(e=>`q-btn-group--${e}`).join(" ");return`q-btn-group row no-wrap${o.length!==0?" "+o:""}`+(t.spread===!0?" q-btn-group--spread":" inline")});return()=>V("div",{class:a.value},bt(n.default))}}),Cn=R({name:"QBtnToggle",props:{..._a,modelValue:{required:!0},options:{type:Array,required:!0,validator:t=>t.every(n=>("label"in n||"icon"in n||"slot"in n)&&"value"in n)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(t,{slots:n,emit:a}){const o=w(()=>t.options.find(c=>c.value===t.modelValue)!==void 0),e=w(()=>({type:"hidden",name:t.name,value:t.modelValue})),l=ka(e),s=w(()=>Ca(t)),d=w(()=>({rounded:t.rounded,dense:t.dense,...s.value})),p=w(()=>t.options.map((c,v)=>{const{attrs:b,value:f,slot:g,...m}=c;return{slot:g,props:{key:v,"aria-pressed":f===t.modelValue?"true":"false",...b,...m,...d.value,disable:t.disable===!0||m.disable===!0,color:f===t.modelValue?u(m,"toggleColor"):u(m,"color"),textColor:f===t.modelValue?u(m,"toggleTextColor"):u(m,"textColor"),noCaps:u(m,"noCaps")===!0,noWrap:u(m,"noWrap")===!0,size:u(m,"size"),padding:u(m,"padding"),ripple:u(m,"ripple"),stack:u(m,"stack")===!0,stretch:u(m,"stretch")===!0,onClick(_){h(f,c,_)}}}}));function h(c,v,b){t.readonly!==!0&&(t.modelValue===c?t.clearable===!0&&(a("update:modelValue",null,null),a("clear")):a("update:modelValue",c,v),a("click",b))}function u(c,v){return c[v]===void 0?t[v]:c[v]}function k(){const c=p.value.map(v=>V(D,v.props,v.slot!==void 0?n[v.slot]:void 0));return t.name!==void 0&&t.disable!==!0&&o.value===!0&&l(c,"push"),je(n.default,c)}return()=>V(_n,{class:"q-btn-toggle",...s.value,rounded:t.rounded,stretch:t.stretch,glossy:t.glossy,spread:t.spread},k)}});const kn={key:0},xn={class:"playback-update-container"},An={class:"spaced-inputs"},Sn={class:"row justify-around q-mb-sm"},qn={key:1},Bn={class:"q-ma-sm"},Vn=A("div",{class:"text-h6"},"Incompatible Browser",-1),Mn=Y({__name:"PlaybackUpdater",setup(t){const n=C(!1),a=C(""),o=C(30),e=C(0),l=C(0),s=C(!1);let d;function p(){return e.value<0&&Math.abs(e.value)<o.value}function h(f){return f>0?L.pause().pipe(ja(f*1e3)):at("")}function u(f=!1){console.log("clearing"),d&&d.unsubscribe(),f&&(ve.msgSuccess("Playback Updated","Settings cleared."),o.value=30,e.value=0,l.value=0,s.value=!1,L.timer.next(0))}function k(f,g,m,_=!1){let B=f;console.log(`Scrubber ${f}, Playback ${g}, Pause ${m}`),parseInt(f)+parseInt(g)===0&&(console.info("Scrubber and playback will cancel out, adjusting by 5 seconds."),B-=5),u(),d=Bt(g*1e3).pipe(te(()=>h(m).pipe(te(()=>L.fetchQueue().pipe(ge(P=>P.queue.at(0)))),te(P=>L.nextTrack().pipe(ge(()=>P))),te(P=>B>0?L.scrubToSeconds(B):B<0&&P?(console.info("Going to last "+Math.abs(B)+" seconds"),L.scrubToSeconds(Math.round(P.duration_ms/1e3)-Math.abs(B))):at(!0)),te(()=>L.fetchPlaybackState())))).subscribe(()=>{ve.msgSuccess("Playback Updated",`Skipped song, and scrubbed to ${f} seconds`),k(f,g,m)}),_&&(L.timer.next(o.value),ve.msgSuccess("Playback Update","Settings changed."),s.value=!0)}q(a,f=>{L.playbackMode.next(f),f!=="clear"?(f=="trivia"?(o.value=20,l.value=1,e.value=0):f=="bingo"&&(o.value=30,l.value=0,e.value=0),k(e.value,o.value,l.value,!0)):u(!0)});const c=C(null),v=async()=>{c.value=await navigator.wakeLock.request("screen"),ve.msgInfo("Wake Lock enabled","")},b=C(!1);return Z(()=>{"wakeLock"in navigator?v():b.value=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent)&&!window.navigator.userAgent.includes("Chrome"),L.advancedMode.pipe(U(f=>n.value=f)).subscribe()}),(f,g)=>(T(),O(N,null,[n.value?(T(),O("div",kn,[A("div",xn,[A("div",An,[i(ae,{square:"",outlined:"",modelValue:o.value,"onUpdate:modelValue":g[0]||(g[0]=m=>o.value=m),label:"Song Timer",type:"number",min:"0",oninput:`this.value =
 !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null`},null,8,["modelValue"]),i(ae,{square:"",outlined:"",modelValue:e.value,"onUpdate:modelValue":g[1]||(g[1]=m=>e.value=m),label:"Position In Song",type:"number"},null,8,["modelValue"]),i(ae,{square:"",outlined:"",modelValue:l.value,"onUpdate:modelValue":g[2]||(g[2]=m=>l.value=m),label:"Time between songs",type:"number",min:"0",oninput:`this.value =
 !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null`},null,8,["modelValue"])]),A("div",Sn,[i(D,{disable:p(),onClick:g[3]||(g[3]=m=>k(e.value,o.value,l.value,!0)),color:"primary"},{default:y(()=>[$(" Update! ")]),_:1},8,["disable"]),i(D,{disable:!s.value,onClick:g[4]||(g[4]=m=>u(!0)),color:"warning"},{default:y(()=>[$(" Clear! ")]),_:1},8,["disable"])])])])):(T(),O("div",qn,[A("div",Bn,[i(Cn,{modelValue:a.value,"onUpdate:modelValue":g[5]||(g[5]=m=>a.value=m),spread:"","no-caps":"",rounded:"",class:"bg-grey-9",options:[{label:"Bingo Mode",value:"bingo",icon:a.value=="trivia"?"stop":"play_arrow"},{label:"Trivia Mode",value:"trivia",icon:a.value=="bingo"?"stop":"play_arrow"},{label:"Clear Timer",value:"clear",icon:"cancel"}]},null,8,["modelValue","options"])])])),i(Ct,{modelValue:b.value,"onUpdate:modelValue":g[6]||(g[6]=m=>b.value=m)},{default:y(()=>[i(_t,null,{default:y(()=>[i(Te,null,{default:y(()=>[Vn]),_:1}),i(Te,{class:"q-pt-none"},{default:y(()=>[$(" Unfortunately, this browser is not supported. In order to use the app you will need to ensure the display remains on in settings, or use Chrome. ")]),_:1}),i(At,{align:"right"},{default:y(()=>[le(i(D,{flat:"",label:"OK",color:"primary"},null,512),[[kt]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}});var vt;const Ln=typeof window!="undefined",ft=()=>{};Ln&&((vt=window==null?void 0:window.navigator)==null?void 0:vt.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function mt(t){return typeof t=="function"?t():ue(t)}function Pn(t,n){function a(...o){return new Promise((e,l)=>{Promise.resolve(t(()=>n.apply(this,o),{fn:n,thisArg:this,args:o})).then(e).catch(l)})}return a}function In(t,n={}){let a,o,e=ft;const l=d=>{clearTimeout(d),e(),e=ft};return d=>{const p=mt(t),h=mt(n.maxWait);return a&&l(a),p<=0||h!==void 0&&h<=0?(o&&(l(o),o=null),Promise.resolve(d())):new Promise((u,k)=>{e=n.rejectOnCancel?k:u,h&&!o&&(o=setTimeout(()=>{a&&l(a),o=null,u(d())},h)),a=setTimeout(()=>{o&&l(o),o=null,u(d())},p)})}}function Pt(t,n=200,a={}){return Pn(In(n,a),t)}const $n=A("span",{class:"text-weight-medium"}," Add New Playlist ",-1),Dn={class:"text-weight-medium"},Qn={class:"text-grey-8"},Tn={class:"text-grey-8 q-gutter-xs"},En=Y({__name:"PlaylistList",setup(t){let n=[];const a=C([]),o=C(""),e=L,l=C(void 0),s=C(void 0),d=Pt(()=>{console.log("Filtering with: "+o.value),o.value||(a.value=n),a.value=n.filter(u=>u.name.toLowerCase().includes(o.value.toLowerCase()))},300);Z(()=>{e.fetchPlaylists().pipe(U(u=>{n=u,a.value=u,e.loading=!1})).subscribe(),e.createdPlaylist.pipe(Vt(u=>!!u),U(u=>{n.push(u),a.value=[u,...a.value]})).subscribe()});function p(u){l.value="playlist",s.value=u==null?void 0:u.id,console.log("Open the dialog, with mode 'playlist', passing in the playlist id")}function h(u){l.value="bingo",s.value=u==null?void 0:u.id,console.log("Open the dialog, with mode 'bingo', passing in the playlist id")}return(u,k)=>(T(),O(N,null,[i(ae,{square:"",outlined:"",modelValue:o.value,"onUpdate:modelValue":[k[0]||(k[0]=c=>o.value=c),ue(d)],label:"Filter Playlists"},{prepend:y(()=>[i(he,{name:"search"})]),_:1},8,["modelValue","onUpdate:modelValue"]),i(lt,{bordered:"",class:"rounded-borders"},{default:y(()=>[le((T(),nt(fe,{clickable:"",onClick:k[1]||(k[1]=c=>p())},{default:y(()=>[i(W,{avatar:""},{default:y(()=>[i(J,{rounded:"",color:"green","text-color":"white",icon:"add",size:"48px"})]),_:1}),i(W,null,{default:y(()=>[i(Le,null,{default:y(()=>[$n]),_:1})]),_:1})]),_:1})),[[ot]]),(T(!0),O(N,null,xa(a.value,c=>le((T(),nt(fe,{key:c.id,clickable:"",to:"/dashboard/"+c.id},{default:y(()=>[i(J,{rounded:"",class:"q-mr-md"},{default:y(()=>{var v;return[i(Qe,{src:(v=c.images.at(0))==null?void 0:v.url},null,8,["src"])]}),_:2},1024),i(W,null,{default:y(()=>[i(Le,{lines:"1"},{default:y(()=>[A("span",Dn,[i(oe,null,{default:y(()=>[$(E(c.name),1)]),_:2},1024),$(" "+E(c.name),1)])]),_:2},1024),i(Le,{lines:"1"},{default:y(()=>[A("span",Qn,[i(oe,null,{default:y(()=>[$(E(c.description),1)]),_:2},1024),$(" "+E(c.description),1)])]),_:2},1024)]),_:2},1024),i(W,{side:""},{default:y(()=>[A("div",Tn,[i(D,{size:"12px",flat:"",dense:"",round:"",icon:"more_vert",onClick:k[2]||(k[2]=Sa(()=>{},["prevent"]))},{default:y(()=>[i(wt,{"auto-close":"",class:"bg-grey-9"},{default:y(()=>[i(lt,null,{default:y(()=>[i(fe,{clickable:"",onClick:v=>h(c)},{default:y(()=>[i(W,{avatar:""},{default:y(()=>[i(he,{name:"note_add"})]),_:1}),i(W,null,{default:y(()=>[$("Create Bingo Cards")]),_:1})]),_:2},1032,["onClick"]),i(fe,{clickable:"",onClick:v=>p(c)},{default:y(()=>[i(W,{avatar:""},{default:y(()=>[i(he,{name:"playlist_add"})]),_:1}),i(W,null,{default:y(()=>[$("Create Subplaylist")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1032,["to"])),[[ot]])),128))]),_:1}),i(Aa,{dialog_mode:l.value,playlist:s.value},null,8,["dialog_mode","playlist"])],64))}}),On=Y({__name:"RecentlyPlayed",setup(t){const n=L;let a=C([]);const o=C(a.value.map(d=>d.song)),e=C(""),l=Pt(()=>{console.log("Filtering with: "+e.value),e.value||(o.value=a.value.map(d=>d.song)),o.value=a.value.map(d=>d.song).filter(d=>d.name.toLowerCase().includes(e.value.toLowerCase()))},300);function s(){n.clearRecentlyPlayed()}return q(()=>a.value,d=>{e.value||(o.value=d.map(p=>p.song))},{deep:!0}),Z(()=>{n.storeSessionPlayed.pipe(U(d=>{a.value=[...d]})).subscribe()}),(d,p)=>(T(),O(N,null,[i(ae,{square:"",outlined:"",modelValue:e.value,"onUpdate:modelValue":[p[1]||(p[1]=h=>e.value=h),ue(l)],label:"Filter Songs"},{prepend:y(()=>[i(he,{name:"search"})]),append:y(()=>[i(D,{round:"",dense:"",flat:"",icon:"clear",onClick:p[0]||(p[0]=h=>s())},{default:y(()=>[i(oe,null,{default:y(()=>[$("Clear Recently Played Songs")]),_:1})]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"]),i(yt,{songs:o.value,mini:!0},null,8,["songs"])],64))}}),Fn=A("h3",null,"Settings",-1),zn=A("div",null,"Setting here",-1),Un=Y({__name:"BingoSettings",setup(t){const n=L,a=C(!1);return q(a,o=>{n.advancedMode.next(o)}),(o,e)=>(T(),O(N,null,[Fn,i(qa,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value=l),label:"Advanced Mode"},null,8,["modelValue"]),zn],64))}}),Hn=A("img",{src:Za},null,-1),jn=A("span",{class:"q-ml-sm"},"Logging out will require you to log back in to continue use.",-1),Zn=Y({__name:"MainLayout",setup(t){const n=L,a=C(0),o=C(!1),e=C(!1),l=C(!1),s=C(!1),d=C(!1);Ba();function p(){o.value=!o.value}function h(){l.value&&!e.value&&u(),e.value=!e.value}function u(){e.value&&!l.value&&h(),l.value=!l.value}Z(()=>{n.loadingState.pipe(U(c=>{s.value=c})).subscribe(),setInterval(()=>{a.value=Math.round((n.expiry-Date.now())/1e3/60)},5e3)});function k(){n.logout(),window.location.reload()}return(c,v)=>{const b=Va("router-view");return T(),O(N,null,[i(Pa,{view:"hHh LpR fFf"},{default:y(()=>[i(Wa,{elevated:"",class:"bg-primary text-white"},{default:y(()=>[i(ut,null,{default:y(()=>[i(D,{dense:"",flat:"",round:"",icon:"menu",onClick:p}),i(Ma,null,{default:y(()=>[i(J,null,{default:y(()=>[Hn]),_:1}),$(" Musical Bingo ")]),_:1}),i(D,{dense:"",flat:"",round:"",icon:"logout",onClick:v[0]||(v[0]=f=>d.value=!0)}),i(D,{dense:"",flat:"",round:"",icon:"settings",onClick:u}),i(D,{dense:"",flat:"",round:"",icon:"menu",onClick:h})]),_:1})]),_:1}),i($e,{"show-if-above":"",modelValue:o.value,"onUpdate:modelValue":v[1]||(v[1]=f=>o.value=f),side:"left",bordered:""},{default:y(()=>[i(En)]),_:1},8,["modelValue"]),i($e,{"show-if-above":"",modelValue:e.value,"onUpdate:modelValue":v[2]||(v[2]=f=>e.value=f),side:"right",bordered:""},{default:y(()=>[i(On)]),_:1},8,["modelValue"]),i($e,{modelValue:l.value,"onUpdate:modelValue":v[3]||(v[3]=f=>l.value=f),side:"right",bordered:""},{default:y(()=>[i(Un)]),_:1},8,["modelValue"]),i(La,null,{default:y(()=>[i(Mn),i(b)]),_:1}),i(Ra,{elevated:"",class:"bg-grey-10 text-white"},{default:y(()=>[i(ut,null,{default:y(()=>[i(wn)]),_:1})]),_:1}),i(Lt,{showing:s.value,label:"Loading...","label-class":"text-teal","label-style":"font-size: 2em",size:"lg"},null,8,["showing"])]),_:1}),i(Ct,{modelValue:d.value,"onUpdate:modelValue":v[5]||(v[5]=f=>d.value=f)},{default:y(()=>[i(_t,null,{default:y(()=>[i(Te,{class:"row items-center"},{default:y(()=>[i(J,{icon:"logout",color:"primary","text-color":"white"}),jn]),_:1}),i(At,{align:"right"},{default:y(()=>[le(i(D,{flat:"",label:"Cancel",color:"warn"},null,512),[[kt]]),i(D,{flat:"",label:"Logout",color:"primary",onClick:v[4]||(v[4]=f=>k())})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}});export{Zn as default};
